<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSS MATLAB Toolboxes: LunarMissions Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PSSLogo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PSS MATLAB Toolboxes<span id="projectnumber">&#160;2025.1</span>
   </div>
   <div id="projectbrief">MATLAB toolboxes for aerospace analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___lunar_missions_functions.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#dirs">Directories</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">LunarMissions Functions<div class="ingroups"><a class="el" href="group___lunar_missions_group.html">LunarMissions Module</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>The LunarMissions module functions are organized into subfolders.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="dirs" name="dirs"></a>
Directories</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_5edca0f9d47a145a997a49fa8b90bb65.html">Gateway</a></td></tr>
<tr class="memdesc:dir_5edca0f9d47a145a997a49fa8b90bb65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar Gateway functions including disturbances and control . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_ac6a9c42d8b70926048296c5682dbb42.html">LunarCoord</a></td></tr>
<tr class="memdesc:dir_ac6a9c42d8b70926048296c5682dbb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinate transformations including three-body frames. . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_a9092a45d02d331de5a6e554690aba36.html">LunarEnvironment</a></td></tr>
<tr class="memdesc:dir_a9092a45d02d331de5a6e554690aba36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topography and local environment . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_a9092a45d02d331de5a6e554690aba36.html">LunarEnvironment</a></td></tr>
<tr class="memdesc:dir_a9092a45d02d331de5a6e554690aba36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topography and local environment . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_d639d5ad783ded9eb7feee9580f3e438.html">LunarEphemeris</a></td></tr>
<tr class="memdesc:dir_d639d5ad783ded9eb7feee9580f3e438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Elements and rotations that are a function of time . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_efeac8ab84d73aedc37e8512b1cd8c47.html">LunarLanding</a></td></tr>
<tr class="memdesc:dir_efeac8ab84d73aedc37e8512b1cd8c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Landing dynamics and control . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_38b062066722c91b5deb40862f90853c.html">LunarMission</a></td></tr>
<tr class="memdesc:dir_38b062066722c91b5deb40862f90853c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar mission analysis . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_49452a2dfadf77833cc8720909c59587.html">LunarRHS</a></td></tr>
<tr class="memdesc:dir_49452a2dfadf77833cc8720909c59587"><td class="mdescLeft">&#160;</td><td class="mdescRight">Orbital dynamics functions . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga844ec14abe73059a0a033b73329eda81" id="r_ga844ec14abe73059a0a033b73329eda81"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga844ec14abe73059a0a033b73329eda81">ApolloGuidanceCoordinates</a> (in xLF, in rTLF)</td></tr>
<tr class="memdesc:ga844ec14abe73059a0a033b73329eda81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes Apollo guidance coordinates.  <br /></td></tr>
<tr class="separator:ga844ec14abe73059a0a033b73329eda81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d39d9a504a5ce76e84f6350ce3a02bc" id="r_ga3d39d9a504a5ce76e84f6350ce3a02bc"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3d39d9a504a5ce76e84f6350ce3a02bc">ApolloLunarDescentGuidance</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga3d39d9a504a5ce76e84f6350ce3a02bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apollo lunar module landing guidance.  <br /></td></tr>
<tr class="separator:ga3d39d9a504a5ce76e84f6350ce3a02bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ddf9ea4ee371cdc1d871150c3bddad4" id="r_ga3ddf9ea4ee371cdc1d871150c3bddad4"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3ddf9ea4ee371cdc1d871150c3bddad4">ApolloTrajectory</a> (in rTG, in vTG, in aTG, in rG, in vG, in t)</td></tr>
<tr class="memdesc:ga3ddf9ea4ee371cdc1d871150c3bddad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates an Apollo lunar landing trajectory.  <br /></td></tr>
<tr class="separator:ga3ddf9ea4ee371cdc1d871150c3bddad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac78ddd8f19cb0810b1c39bede43468e2" id="r_gac78ddd8f19cb0810b1c39bede43468e2"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac78ddd8f19cb0810b1c39bede43468e2">BarycenterEarthMoon</a> (in jD)</td></tr>
<tr class="memdesc:gac78ddd8f19cb0810b1c39bede43468e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the ECI position of the Earth-Moon Barycenter.  <br /></td></tr>
<tr class="separator:gac78ddd8f19cb0810b1c39bede43468e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b2fdfb989e5a787e9ff104902284535" id="r_ga1b2fdfb989e5a787e9ff104902284535"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1b2fdfb989e5a787e9ff104902284535">CommandListProcessing</a> (in jD0, in cList, in kCurrent, in jD)</td></tr>
<tr class="memdesc:ga1b2fdfb989e5a787e9ff104902284535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes command lists.  <br /></td></tr>
<tr class="separator:ga1b2fdfb989e5a787e9ff104902284535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4b37c437ee4982051de43f7ab332d43" id="r_gae4b37c437ee4982051de43f7ab332d43"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae4b37c437ee4982051de43f7ab332d43">CubeSatLunarEnvironment</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gae4b37c437ee4982051de43f7ab332d43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar environment calculations for the CubeSat dynamical model.  <br /></td></tr>
<tr class="separator:gae4b37c437ee4982051de43f7ab332d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3582d7cbf2a2756a561c2476cc7f1ff" id="r_gaa3582d7cbf2a2756a561c2476cc7f1ff"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa3582d7cbf2a2756a561c2476cc7f1ff">EarthMoon</a> (in r, in jD, in scale, in rMoon)</td></tr>
<tr class="memdesc:gaa3582d7cbf2a2756a561c2476cc7f1ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot an orbit track in the Earth/Moon System.  <br /></td></tr>
<tr class="separator:gaa3582d7cbf2a2756a561c2476cc7f1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c560ee6d58038a4ad92d2c318742b39" id="r_ga2c560ee6d58038a4ad92d2c318742b39"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2c560ee6d58038a4ad92d2c318742b39">EarthMoonRotFrame</a> (in r, in jD, in scale, in lagrange, in lunarCone)</td></tr>
<tr class="memdesc:ga2c560ee6d58038a4ad92d2c318742b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot an orbit track in the Earth/Moon Rotating System.  <br /></td></tr>
<tr class="separator:ga2c560ee6d58038a4ad92d2c318742b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1d3325631da60079ebd5ee011af115c" id="r_gae1d3325631da60079ebd5ee011af115c"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae1d3325631da60079ebd5ee011af115c">EarthMoonSystemConstants</a> ()</td></tr>
<tr class="memdesc:gae1d3325631da60079ebd5ee011af115c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies Earth-Moon system constants.  <br /></td></tr>
<tr class="separator:gae1d3325631da60079ebd5ee011af115c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga922fde87d27c815f6ea4cd950119528d" id="r_ga922fde87d27c815f6ea4cd950119528d"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga922fde87d27c815f6ea4cd950119528d">ECIToEarthMoonRot</a> (in jD)</td></tr>
<tr class="memdesc:ga922fde87d27c815f6ea4cd950119528d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert ECI to Earth Moon rotating coordinates about the barycenter.  <br /></td></tr>
<tr class="separator:ga922fde87d27c815f6ea4cd950119528d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga821d8268e2e05291169dbcf71dbd39d6" id="r_ga821d8268e2e05291169dbcf71dbd39d6"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga821d8268e2e05291169dbcf71dbd39d6">EMBToEMBND</a> (in r, in v)</td></tr>
<tr class="memdesc:ga821d8268e2e05291169dbcf71dbd39d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale EMB system to be non-dimensional.  <br /></td></tr>
<tr class="separator:ga821d8268e2e05291169dbcf71dbd39d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8203eb3df56e930aa3f558a29a7282e3" id="r_ga8203eb3df56e930aa3f558a29a7282e3"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8203eb3df56e930aa3f558a29a7282e3">ForceSimple</a> (in d)</td></tr>
<tr class="memdesc:ga8203eb3df56e930aa3f558a29a7282e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple thruster force model for orbit simulations.  <br /></td></tr>
<tr class="separator:ga8203eb3df56e930aa3f558a29a7282e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35c2236445a6425a86d940a47f7e24c1" id="r_ga35c2236445a6425a86d940a47f7e24c1"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga35c2236445a6425a86d940a47f7e24c1">FThrustLander</a> (in massFuel, in d)</td></tr>
<tr class="memdesc:ga35c2236445a6425a86d940a47f7e24c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns thrust and exhaust velocity for a rocket engine.  <br /></td></tr>
<tr class="separator:ga35c2236445a6425a86d940a47f7e24c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac42585f57ebd6133ae084fd913708e68" id="r_gac42585f57ebd6133ae084fd913708e68"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac42585f57ebd6133ae084fd913708e68">FuelMassFromAccel</a> (in accel, in dT, in massDry, in uE)</td></tr>
<tr class="memdesc:gac42585f57ebd6133ae084fd913708e68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the fuel mass to achieve the desired acceleration vector.  <br /></td></tr>
<tr class="separator:gac42585f57ebd6133ae084fd913708e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecb3be2f28c7552cca77b1dd9e20c8aa" id="r_gaecb3be2f28c7552cca77b1dd9e20c8aa"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaecb3be2f28c7552cca77b1dd9e20c8aa">GravityHelio</a> (in r, in jD, in rP, in mu, in iD, in d)</td></tr>
<tr class="memdesc:gaecb3be2f28c7552cca77b1dd9e20c8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the heliocentric gravity for the position and date.  <br /></td></tr>
<tr class="separator:gaecb3be2f28c7552cca77b1dd9e20c8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c0bf59ad7eab196a772090dacddb43b" id="r_ga5c0bf59ad7eab196a772090dacddb43b"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5c0bf59ad7eab196a772090dacddb43b">LandingConst2D</a> (in x, in d)</td></tr>
<tr class="memdesc:ga5c0bf59ad7eab196a772090dacddb43b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality constraints for the landing for a 2D flat planet problem.  <br /></td></tr>
<tr class="separator:ga5c0bf59ad7eab196a772090dacddb43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37c98b8e32ba253d0145c0e19ec32fe4" id="r_ga37c98b8e32ba253d0145c0e19ec32fe4"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga37c98b8e32ba253d0145c0e19ec32fe4">LandingConst3D</a> (in x, in d)</td></tr>
<tr class="memdesc:ga37c98b8e32ba253d0145c0e19ec32fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality constraints for the landing for a 2D flat planet problem.  <br /></td></tr>
<tr class="separator:ga37c98b8e32ba253d0145c0e19ec32fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2c01ac108588e7bd292db4e7c5e93c8" id="r_gad2c01ac108588e7bd292db4e7c5e93c8"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad2c01ac108588e7bd292db4e7c5e93c8">LandingCost2D</a> (in x, in ignoredArg)</td></tr>
<tr class="memdesc:gad2c01ac108588e7bd292db4e7c5e93c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost for the landing for a 2D flat planet problem.  <br /></td></tr>
<tr class="separator:gad2c01ac108588e7bd292db4e7c5e93c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b0fd276a80a4c4260f80a4488c90116" id="r_ga0b0fd276a80a4c4260f80a4488c90116"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0b0fd276a80a4c4260f80a4488c90116">LandingCost3D</a> (in x, in d)</td></tr>
<tr class="memdesc:ga0b0fd276a80a4c4260f80a4488c90116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost for the landing for a 3D planet problem.  <br /></td></tr>
<tr class="separator:ga0b0fd276a80a4c4260f80a4488c90116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b5508a81421de7c8c2b483de79ffbdc" id="r_ga6b5508a81421de7c8c2b483de79ffbdc"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6b5508a81421de7c8c2b483de79ffbdc">LandingLegsCAD</a> (in varargin)</td></tr>
<tr class="memdesc:ga6b5508a81421de7c8c2b483de79ffbdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a CAD component for a lunar module first stage legs.  <br /></td></tr>
<tr class="separator:ga6b5508a81421de7c8c2b483de79ffbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab920924ba2204150bcf2e137c1cf4f26" id="r_gab920924ba2204150bcf2e137c1cf4f26"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab920924ba2204150bcf2e137c1cf4f26">LFToECI</a> (in xLF, in jD)</td></tr>
<tr class="memdesc:gab920924ba2204150bcf2e137c1cf4f26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar fixed to ECI transformation.  <br /></td></tr>
<tr class="separator:gab920924ba2204150bcf2e137c1cf4f26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea12cda85d2d31be5afec6daae1f77b5" id="r_gaea12cda85d2d31be5afec6daae1f77b5"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaea12cda85d2d31be5afec6daae1f77b5">LoadLP150Q</a> (in fileName)</td></tr>
<tr class="memdesc:gaea12cda85d2d31be5afec6daae1f77b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the LP150Q Lunar gravity model.  <br /></td></tr>
<tr class="separator:gaea12cda85d2d31be5afec6daae1f77b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaad4d34222d7f1f75871457b025a9a69" id="r_gaaad4d34222d7f1f75871457b025a9a69"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography</a> (in nH)</td></tr>
<tr class="memdesc:gaaad4d34222d7f1f75871457b025a9a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in the Clementine data.  <br /></td></tr>
<tr class="separator:gaaad4d34222d7f1f75871457b025a9a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33f3f0b36de8edc2c2f753cb63bab1ac" id="r_ga33f3f0b36de8edc2c2f753cb63bab1ac"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga33f3f0b36de8edc2c2f753cb63bab1ac">LoadSGM150</a> (in fileName)</td></tr>
<tr class="memdesc:ga33f3f0b36de8edc2c2f753cb63bab1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the SGM150 Lunar gravity model.  <br /></td></tr>
<tr class="separator:ga33f3f0b36de8edc2c2f753cb63bab1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6ca6fdd1bd3f6a987e65ac2257155a4" id="r_gad6ca6fdd1bd3f6a987e65ac2257155a4"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad6ca6fdd1bd3f6a987e65ac2257155a4">LunarAngle</a> (in nH, in lat, in lon, in azimuth, in s, in c, in n)</td></tr>
<tr class="memdesc:gad6ca6fdd1bd3f6a987e65ac2257155a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the angle needed to see over lunar terrain.  <br /></td></tr>
<tr class="separator:gad6ca6fdd1bd3f6a987e65ac2257155a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga774d87b1bed1eaf7b10bd2c23313dbe5" id="r_ga774d87b1bed1eaf7b10bd2c23313dbe5"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga774d87b1bed1eaf7b10bd2c23313dbe5">LunarLandingControl</a> (in x, in t, in dRHS, in d)</td></tr>
<tr class="memdesc:ga774d87b1bed1eaf7b10bd2c23313dbe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spacecraft control during landing.  <br /></td></tr>
<tr class="separator:ga774d87b1bed1eaf7b10bd2c23313dbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga490b6f7de75ad3596596aca315ebfab3" id="r_ga490b6f7de75ad3596596aca315ebfab3"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga490b6f7de75ad3596596aca315ebfab3">LunarLandingTargetState</a> (in lat, in lon, in alt, in f)</td></tr>
<tr class="memdesc:ga490b6f7de75ad3596596aca315ebfab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar landing target state.  <br /></td></tr>
<tr class="separator:ga490b6f7de75ad3596596aca315ebfab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b756b713a7a4faf5f88db60ec1b921c" id="r_ga0b756b713a7a4faf5f88db60ec1b921c"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0b756b713a7a4faf5f88db60ec1b921c">LunarMissionControl</a> (in action, in jD, in dC, in dSim, in meas, in cList)</td></tr>
<tr class="memdesc:ga0b756b713a7a4faf5f88db60ec1b921c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a lunar mission control system.  <br /></td></tr>
<tr class="separator:ga0b756b713a7a4faf5f88db60ec1b921c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48290cebae71038a04fff6c150a5d7c9" id="r_ga48290cebae71038a04fff6c150a5d7c9"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga48290cebae71038a04fff6c150a5d7c9">LunarOrbitInsertion</a> (in hLunarOrbit, in dR, in dV, in mI, in uE, in thrust)</td></tr>
<tr class="memdesc:ga48290cebae71038a04fff6c150a5d7c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes parameters for a lunar orbit insertion.  <br /></td></tr>
<tr class="separator:ga48290cebae71038a04fff6c150a5d7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac88d4ee3a736e5dd251f4fdb44d0213f" id="r_gac88d4ee3a736e5dd251f4fdb44d0213f"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac88d4ee3a736e5dd251f4fdb44d0213f">LunarPolarOrbit</a> (in a, in e, in jD)</td></tr>
<tr class="memdesc:gac88d4ee3a736e5dd251f4fdb44d0213f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a polar lunar orbit.  <br /></td></tr>
<tr class="separator:gac88d4ee3a736e5dd251f4fdb44d0213f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f9389ae2fd05f387cd4d097d82b2de2" id="r_ga4f9389ae2fd05f387cd4d097d82b2de2"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4f9389ae2fd05f387cd4d097d82b2de2">LunarProfile</a> (in nH, in lambda, in theta, in s, in c)</td></tr>
<tr class="memdesc:ga4f9389ae2fd05f387cd4d097d82b2de2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a lunar profile given lambda and theta.  <br /></td></tr>
<tr class="separator:ga4f9389ae2fd05f387cd4d097d82b2de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebad6f1071e3186cde092e72cfe35725" id="r_gaebad6f1071e3186cde092e72cfe35725"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaebad6f1071e3186cde092e72cfe35725">LunarRelativeState</a> (in x, in jD, in rTarget)</td></tr>
<tr class="memdesc:gaebad6f1071e3186cde092e72cfe35725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position and velocity relative to the target.  <br /></td></tr>
<tr class="separator:gaebad6f1071e3186cde092e72cfe35725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69f4cee66a31964de2e61de6caf88a94" id="r_ga69f4cee66a31964de2e61de6caf88a94"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga69f4cee66a31964de2e61de6caf88a94">LunarTarget</a> (in x, in jD, in downrange)</td></tr>
<tr class="memdesc:ga69f4cee66a31964de2e61de6caf88a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar surface landing target.  <br /></td></tr>
<tr class="separator:ga69f4cee66a31964de2e61de6caf88a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f9c9fbf8aa2fa7b88cb3448a03e92f3" id="r_ga2f9c9fbf8aa2fa7b88cb3448a03e92f3"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2f9c9fbf8aa2fa7b88cb3448a03e92f3">LunarTargeting</a> (in date, in el0, in rP, in inc, in fIf, in simJDP, in opts)</td></tr>
<tr class="memdesc:ga2f9c9fbf8aa2fa7b88cb3448a03e92f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate transfer orbit elements for a lunar mission (fmincon).  <br /></td></tr>
<tr class="separator:ga2f9c9fbf8aa2fa7b88cb3448a03e92f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ef2b13e126b4fb028db4948c5c270d8" id="r_ga8ef2b13e126b4fb028db4948c5c270d8"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8ef2b13e126b4fb028db4948c5c270d8">LunarVisibility</a> (in lat, in lon, in jD0, in r, in t, in nH)</td></tr>
<tr class="memdesc:ga8ef2b13e126b4fb028db4948c5c270d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes visibility of a satellite in lunar orbit.  <br /></td></tr>
<tr class="separator:ga8ef2b13e126b4fb028db4948c5c270d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7b9f3002bc7c8c3aaed39680c108143" id="r_gac7b9f3002bc7c8c3aaed39680c108143"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac7b9f3002bc7c8c3aaed39680c108143">MoonECIElements</a> ()</td></tr>
<tr class="memdesc:gac7b9f3002bc7c8c3aaed39680c108143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the moon ECI elements.  <br /></td></tr>
<tr class="separator:gac7b9f3002bc7c8c3aaed39680c108143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5bb3ee371fd474a4b00452baf1bbb77" id="r_gaa5bb3ee371fd474a4b00452baf1bbb77"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot</a> (in jD, in type)</td></tr>
<tr class="memdesc:gaa5bb3ee371fd474a4b00452baf1bbb77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the matrix that transforms from ECI to selenographic axes.  <br /></td></tr>
<tr class="separator:gaa5bb3ee371fd474a4b00452baf1bbb77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55d318b04001b52d2979d87aaaaed2aa" id="r_ga55d318b04001b52d2979d87aaaaed2aa"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga55d318b04001b52d2979d87aaaaed2aa">NoForce</a> (in varargin)</td></tr>
<tr class="memdesc:ga55d318b04001b52d2979d87aaaaed2aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thruster force model producing zero force.  <br /></td></tr>
<tr class="separator:ga55d318b04001b52d2979d87aaaaed2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe88ace7d9e2d19cbf93058b711f5a3c" id="r_gabe88ace7d9e2d19cbf93058b711f5a3c"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabe88ace7d9e2d19cbf93058b711f5a3c">OrbitStateMatrices</a> (in x, in xF, in dT, in d)</td></tr>
<tr class="memdesc:gabe88ace7d9e2d19cbf93058b711f5a3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the orbit state matrices.  <br /></td></tr>
<tr class="separator:gabe88ace7d9e2d19cbf93058b711f5a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e70c546958113e418d11ce2fb4efd71" id="r_ga3e70c546958113e418d11ce2fb4efd71"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3e70c546958113e418d11ce2fb4efd71">PlotEMTraj</a> (in r, in frame, in jD)</td></tr>
<tr class="memdesc:ga3e70c546958113e418d11ce2fb4efd71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot a trajectory in the Earth-Moon system.  <br /></td></tr>
<tr class="separator:ga3e70c546958113e418d11ce2fb4efd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f98a58ca3d9304f78972461efe7e4dd" id="r_ga7f98a58ca3d9304f78972461efe7e4dd"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7f98a58ca3d9304f78972461efe7e4dd">PlotLunarOrbit</a> (in rECI, in jD, in uSun, in thrust, in magF)</td></tr>
<tr class="memdesc:ga7f98a58ca3d9304f78972461efe7e4dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot a 3D orbit around the moon.  <br /></td></tr>
<tr class="separator:ga7f98a58ca3d9304f78972461efe7e4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba7fd581a5441ce9e25603d67e5d3e2a" id="r_gaba7fd581a5441ce9e25603d67e5d3e2a"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaba7fd581a5441ce9e25603d67e5d3e2a">PlotSEMTraj</a> (in r, in frame, in jD)</td></tr>
<tr class="memdesc:gaba7fd581a5441ce9e25603d67e5d3e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot an orbit track in the Sun/Earth-Moon Rotating System.  <br /></td></tr>
<tr class="separator:gaba7fd581a5441ce9e25603d67e5d3e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga248857f404f7d083ff8685aa080fd37e" id="r_ga248857f404f7d083ff8685aa080fd37e"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga248857f404f7d083ff8685aa080fd37e">PropagateState</a> (in x, in beta, in dT, in d)</td></tr>
<tr class="memdesc:ga248857f404f7d083ff8685aa080fd37e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate the 2D state for the landing problem.  <br /></td></tr>
<tr class="separator:ga248857f404f7d083ff8685aa080fd37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c53cb5f9afb6ec7b53c1112b781752f" id="r_ga8c53cb5f9afb6ec7b53c1112b781752f"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8c53cb5f9afb6ec7b53c1112b781752f">PropagateState3D</a> (in x, in dT, in d)</td></tr>
<tr class="memdesc:ga8c53cb5f9afb6ec7b53c1112b781752f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate the 3D state for the landing problem.  <br /></td></tr>
<tr class="separator:ga8c53cb5f9afb6ec7b53c1112b781752f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30b7a141b30c5bf2cd954e16501d7387" id="r_ga30b7a141b30c5bf2cd954e16501d7387"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga30b7a141b30c5bf2cd954e16501d7387">RHSLunarLander</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga30b7a141b30c5bf2cd954e16501d7387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spacecraft attitude and orbit dynamics with a disturbance function.  <br /></td></tr>
<tr class="separator:ga30b7a141b30c5bf2cd954e16501d7387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad47da6d214196f728d6e4c6a8febcd3e" id="r_gad47da6d214196f728d6e4c6a8febcd3e"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad47da6d214196f728d6e4c6a8febcd3e">RHSLunarMission</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gad47da6d214196f728d6e4c6a8febcd3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right hand side for orbit and attitude dynamics for a lunar mission simulation.  <br /></td></tr>
<tr class="separator:gad47da6d214196f728d6e4c6a8febcd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd304cebe9b1d53bc9b8c0be59f45f75" id="r_gadd304cebe9b1d53bc9b8c0be59f45f75"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadd304cebe9b1d53bc9b8c0be59f45f75">RHSLunarOrbit</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gadd304cebe9b1d53bc9b8c0be59f45f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right hand side for a lunar mission simulation with only orbit dynamics.  <br /></td></tr>
<tr class="separator:gadd304cebe9b1d53bc9b8c0be59f45f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafce2663feb9f95ff4948bf57a8196de3" id="r_gafce2663feb9f95ff4948bf57a8196de3"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3">RHSPlanet3D</a> (in x, in ignoredArg, in d)</td></tr>
<tr class="memdesc:gafce2663feb9f95ff4948bf57a8196de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cartesian orbital equations in a planet fixed (rotating) frame.  <br /></td></tr>
<tr class="separator:gafce2663feb9f95ff4948bf57a8196de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa68a04498618c48a7ea9f45f0abad87c" id="r_gaa68a04498618c48a7ea9f45f0abad87c"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa68a04498618c48a7ea9f45f0abad87c">RHSPlanet3DToAB</a> (in x, in d, in dT)</td></tr>
<tr class="memdesc:gaa68a04498618c48a7ea9f45f0abad87c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function computes the matrices a and b for dx/dt = a*x + b*u .  <br /></td></tr>
<tr class="separator:gaa68a04498618c48a7ea9f45f0abad87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b45c07e89a3caf53cdbac3373dd4dea" id="r_ga9b45c07e89a3caf53cdbac3373dd4dea"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9b45c07e89a3caf53cdbac3373dd4dea">RHSRVPlanetFixed</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga9b45c07e89a3caf53cdbac3373dd4dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right hand side for translational motion in the planet fixed frame.  <br /></td></tr>
<tr class="separator:ga9b45c07e89a3caf53cdbac3373dd4dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d92e778ca7cf876dc541b51cef5564c" id="r_ga0d92e778ca7cf876dc541b51cef5564c"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0d92e778ca7cf876dc541b51cef5564c">RHSSGCMG</a> (in x, in ignoredArg, in d)</td></tr>
<tr class="memdesc:ga0d92e778ca7cf876dc541b51cef5564c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the right hand side for single gimbal CMGs.  <br /></td></tr>
<tr class="separator:ga0d92e778ca7cf876dc541b51cef5564c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a02508da8f4f35a5b52ea96f1de14db" id="r_ga1a02508da8f4f35a5b52ea96f1de14db"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a02508da8f4f35a5b52ea96f1de14db">RHSTrajectory</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga1a02508da8f4f35a5b52ea96f1de14db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right-Hand-Side function for solar system object trajectories with moon.  <br /></td></tr>
<tr class="separator:ga1a02508da8f4f35a5b52ea96f1de14db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3e662d1a3088b44c98fffe310279a80" id="r_gaa3e662d1a3088b44c98fffe310279a80"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80">RSHMoon</a> (in nH, in lambda, in theta, in s, in c)</td></tr>
<tr class="memdesc:gaa3e662d1a3088b44c98fffe310279a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a topographic map of the moon using spherical harmonics.  <br /></td></tr>
<tr class="separator:gaa3e662d1a3088b44c98fffe310279a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80b4131e537a8abb2cf0450c7df29380" id="r_ga80b4131e537a8abb2cf0450c7df29380"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga80b4131e537a8abb2cf0450c7df29380">SecondOrderGuidance</a> (in action, in x, in d)</td></tr>
<tr class="memdesc:ga80b4131e537a8abb2cf0450c7df29380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a 2nd order guidance law.  <br /></td></tr>
<tr class="separator:ga80b4131e537a8abb2cf0450c7df29380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96bfff8315d3e7b0ee26352242829550" id="r_ga96bfff8315d3e7b0ee26352242829550"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga96bfff8315d3e7b0ee26352242829550">SecondOrderGuidance3D</a> (in action, in x, in d)</td></tr>
<tr class="memdesc:ga96bfff8315d3e7b0ee26352242829550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a 2nd order guidance law in 3 dimensions.  <br /></td></tr>
<tr class="separator:ga96bfff8315d3e7b0ee26352242829550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeff4a91d798df80ecc4c2add0fd752d6" id="r_gaeff4a91d798df80ecc4c2add0fd752d6"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeff4a91d798df80ecc4c2add0fd752d6">SEMGravAcc</a> (in rSEM)</td></tr>
<tr class="memdesc:gaeff4a91d798df80ecc4c2add0fd752d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the acceleration due to the Sun and the Earth/Moon.  <br /></td></tr>
<tr class="separator:gaeff4a91d798df80ecc4c2add0fd752d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1503d7880bbf37ed1a853e6a9e3da436" id="r_ga1503d7880bbf37ed1a853e6a9e3da436"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1503d7880bbf37ed1a853e6a9e3da436">SEMIToSEMR</a> (in jD, in rSEMI, in vSEMI)</td></tr>
<tr class="memdesc:ga1503d7880bbf37ed1a853e6a9e3da436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform heliocentric frame to Sun-Earth/Moon barycentered rotating frame.  <br /></td></tr>
<tr class="separator:ga1503d7880bbf37ed1a853e6a9e3da436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9f2ae7ee374094af2a43e7e5f15a69e" id="r_gad9f2ae7ee374094af2a43e7e5f15a69e"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad9f2ae7ee374094af2a43e7e5f15a69e">SEMRToSEMI</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:gad9f2ae7ee374094af2a43e7e5f15a69e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform from Sun-Earth/Moon rotating to inertial frame.  <br /></td></tr>
<tr class="separator:gad9f2ae7ee374094af2a43e7e5f15a69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c8a35cccfe5051e90112a606384aa82" id="r_ga9c8a35cccfe5051e90112a606384aa82"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9c8a35cccfe5051e90112a606384aa82">SEMToSEMND</a> (in r, in v)</td></tr>
<tr class="memdesc:ga9c8a35cccfe5051e90112a606384aa82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale state in SEM system (rotating or inertial) to be non-dimensional.  <br /></td></tr>
<tr class="separator:ga9c8a35cccfe5051e90112a606384aa82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab625ddb779bafcbeeaf2f9274b5d16bf" id="r_gab625ddb779bafcbeeaf2f9274b5d16bf"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab625ddb779bafcbeeaf2f9274b5d16bf">Simulate2DLanding</a> (in t, in beta, in d, in name)</td></tr>
<tr class="memdesc:gab625ddb779bafcbeeaf2f9274b5d16bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate the 2D landing problem and generate plots.  <br /></td></tr>
<tr class="separator:gab625ddb779bafcbeeaf2f9274b5d16bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f1369cf17140181dfa0bba83eda1dae" id="r_ga1f1369cf17140181dfa0bba83eda1dae"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f1369cf17140181dfa0bba83eda1dae">Simulate3DLanding</a> (in dT, in d, in name)</td></tr>
<tr class="memdesc:ga1f1369cf17140181dfa0bba83eda1dae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate a 3D landing and generate plots.  <br /></td></tr>
<tr class="separator:ga1f1369cf17140181dfa0bba83eda1dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d15b1f6565d2dae4ac892a21e02cb60" id="r_ga1d15b1f6565d2dae4ac892a21e02cb60"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1d15b1f6565d2dae4ac892a21e02cb60">SunEarthMoonSystemConstants</a> ()</td></tr>
<tr class="memdesc:ga1d15b1f6565d2dae4ac892a21e02cb60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies Sun-Earth-Moon system constants.  <br /></td></tr>
<tr class="separator:ga1d15b1f6565d2dae4ac892a21e02cb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1ba0d283f26a5427e8c359128c325b9" id="r_gac1ba0d283f26a5427e8c359128c325b9"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac1ba0d283f26a5427e8c359128c325b9">TransformECIToEMBR</a> (in jD, in rECI, in vECI)</td></tr>
<tr class="memdesc:gac1ba0d283f26a5427e8c359128c325b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform ECI pos.  <br /></td></tr>
<tr class="separator:gac1ba0d283f26a5427e8c359128c325b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a3d4d343c69b8bbd18d9c078e61d4be" id="r_ga2a3d4d343c69b8bbd18d9c078e61d4be"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2a3d4d343c69b8bbd18d9c078e61d4be">TransformECIToSEMR</a> (in jD, in rECI, in vECI)</td></tr>
<tr class="memdesc:ga2a3d4d343c69b8bbd18d9c078e61d4be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform ECI pos.  <br /></td></tr>
<tr class="separator:ga2a3d4d343c69b8bbd18d9c078e61d4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95b3f454972631b8e92aaa22b2a07688" id="r_ga95b3f454972631b8e92aaa22b2a07688"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga95b3f454972631b8e92aaa22b2a07688">TransformEMBRToECI</a> (in jD, in rEMBR, in vEMBR)</td></tr>
<tr class="memdesc:ga95b3f454972631b8e92aaa22b2a07688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform pos.  <br /></td></tr>
<tr class="separator:ga95b3f454972631b8e92aaa22b2a07688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa63c281263b2d72bfe0e4d56b4a05095" id="r_gaa63c281263b2d72bfe0e4d56b4a05095"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa63c281263b2d72bfe0e4d56b4a05095">TransformSEMRToECI</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:gaa63c281263b2d72bfe0e4d56b4a05095"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform Sun-Earth-Moon rotating (SEMR) state to ECI frame.  <br /></td></tr>
<tr class="separator:gaa63c281263b2d72bfe0e4d56b4a05095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6524e9ff58738ce6d938fe295b36105" id="r_gaf6524e9ff58738ce6d938fe295b36105"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6524e9ff58738ce6d938fe295b36105">TransformSEMRToHelio</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:gaf6524e9ff58738ce6d938fe295b36105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform Sun-Earth-Moon rotating (SEMR) state to the heliocentric frame.  <br /></td></tr>
<tr class="separator:gaf6524e9ff58738ce6d938fe295b36105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf4a4e55a51e51886d7f7f4f9ecf5993" id="r_gaaf4a4e55a51e51886d7f7f4f9ecf5993"><td class="memItemLeft" align="right" valign="top">blank line function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf4a4e55a51e51886d7f7f4f9ecf5993">UMinGG</a> (in inr)</td></tr>
<tr class="memdesc:gaaf4a4e55a51e51886d7f7f4f9ecf5993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector from ECI to body that minimizes the gravity gradient torque.  <br /></td></tr>
<tr class="separator:gaaf4a4e55a51e51886d7f7f4f9ecf5993"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga844ec14abe73059a0a033b73329eda81" name="ga844ec14abe73059a0a033b73329eda81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga844ec14abe73059a0a033b73329eda81">&#9670;&#160;</a></span>ApolloGuidanceCoordinates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function ApolloGuidanceCoordinates </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>xLF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rTLF</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The origin coincides continuously with the current landing site (the frame rotates with the moon); the XG-axis is vertical; the ZG-axis lies in, or near, the plane containing the LM and the landing site and points forward; and the YG-axis completes the right-hand triad.</p>
<p>Type ApolloGuidanceCoordinates for a demo.</p>
<h2><a class="anchor" id="autotoc_md5804"></a>
Form</h2>
<p>[rG,vG] = ApolloGuidanceCoordinates( xLF, rTLF )</p>
<h2><a class="anchor" id="autotoc_md5805"></a>
Inputs</h2>
<p>xLF (6,1) State vector rTLF (3,1) Target position</p>
<h2><a class="anchor" id="autotoc_md5806"></a>
Outputs</h2>
<p>rG (3,1) Position in guidance coordinates vG (3,1) Velocity in guidance coordinates</p>
<p>Reference: Klumpp, A. R. "Apollo Guidance Navigation and Control," MIT Charles Stark Draper Laboratory, June 1971, R-695. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga844ec14abe73059a0a033b73329eda81">ApolloGuidanceCoordinates()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga30f21394054c6687e19692593828e6d8">DispWithTitle()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga844ec14abe73059a0a033b73329eda81">ApolloGuidanceCoordinates()</a>.</p>

</div>
</div>
<a id="ga3d39d9a504a5ce76e84f6350ce3a02bc" name="ga3d39d9a504a5ce76e84f6350ce3a02bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d39d9a504a5ce76e84f6350ce3a02bc">&#9670;&#160;</a></span>ApolloLunarDescentGuidance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function ApolloLunarDescentGuidance </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If no inputs or outputs are specified it will simulate a lunar landing using the guidance system. Three phases are implemented:</p>
<p>P63 Braking phase P64 Approach phase P66 Terminal descent phase The land flag is used in P66 to tell it to land.</p>
<p>x is normal to the lunar surface and z is downrange</p>
<h2><a class="anchor" id="autotoc_md5807"></a>
Form</h2>
<p>[aCG, d] = ApolloLunarDescentGuidance( x, t, d )</p>
<h2><a class="anchor" id="autotoc_md5808"></a>
Inputs</h2>
<p>x (6,1) State vector [rCG;vCG] t (1,1) Time (sec) d (.) Data structure</p>
<h2><a class="anchor" id="autotoc_md5809"></a>
Outputs</h2>
<p>a (3,1) Command acceleration (m/sec^2) d (.) Data structure</p>
<p>Reference: Klumpp, A. R. "Apollo Lunar Descent Guidance," Automatica, Vol. 10, pp. 133-146, Pergamon Press, 1974. </p>

<p class="reference">References <a class="el" href="acstate_8m.html#ac9ad2959b7b091d60ba42cfd4614a0a8">abs()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga3d39d9a504a5ce76e84f6350ce3a02bc">ApolloLunarDescentGuidance()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga2a9c7e715f19c8f37e6b9a8c75890234">Limit()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3d39d9a504a5ce76e84f6350ce3a02bc">ApolloLunarDescentGuidance()</a>.</p>

</div>
</div>
<a id="ga3ddf9ea4ee371cdc1d871150c3bddad4" name="ga3ddf9ea4ee371cdc1d871150c3bddad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ddf9ea4ee371cdc1d871150c3bddad4">&#9670;&#160;</a></span>ApolloTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function ApolloTrajectory </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rTG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vTG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>aTG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type ApolloTrajectory for a demo.</p>
<h2><a class="anchor" id="autotoc_md5810"></a>
Form</h2>
<p>[r, v, a] = ApolloTrajectory( rTG, vTG, aTG, rG, vG, t )</p>
<h2><a class="anchor" id="autotoc_md5811"></a>
Inputs</h2>
<p>rTG (3,1) R target (m) vTG (3,1) V target (m/s) aG (3,1) Acceleration target(m/s^2) rTG (3,1) R start (m) vTG (3,1) V start (m/s) t (1,:) Time (s)</p>
<h2><a class="anchor" id="autotoc_md5812"></a>
Outputs</h2>
<p>r (3,:) Position (m) v (3,:) Velocity (m/s) a (3,:) Acceleration (m/s^2)</p>
<p>Reference: Klumpp, A. R. "Apollo Lunar Descent Guidance," Automatica, Vol. 10, pp. 133-146, Pergamon Press, 1974. </p>

<p class="reference">References <a class="el" href="group___common_functions.html#gadc6a599f9ce46634821bba382ad21ec0">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga3ddf9ea4ee371cdc1d871150c3bddad4">ApolloTrajectory()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="group___a_c_functions.html#ga36aaf7e58cc8ac695300dd716812b8de">Trajectory()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3ddf9ea4ee371cdc1d871150c3bddad4">ApolloTrajectory()</a>.</p>

</div>
</div>
<a id="gac78ddd8f19cb0810b1c39bede43468e2" name="gac78ddd8f19cb0810b1c39bede43468e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac78ddd8f19cb0810b1c39bede43468e2">&#9670;&#160;</a></span>BarycenterEarthMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function BarycenterEarthMoon </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses MoonV1 for ephemeris and Constant to look up the gravitational parameters.</p>
<h2><a class="anchor" id="autotoc_md5680"></a>
Form</h2>
<p>b = BarycenterEarthMoon( jD )</p>
<h2><a class="anchor" id="autotoc_md5681"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days)</p>
<h2><a class="anchor" id="autotoc_md5682"></a>
Outputs</h2>
<p>b (3,:) Barycenter </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#gac78ddd8f19cb0810b1c39bede43468e2">BarycenterEarthMoon()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#gad9cd05ee0fe34d133490710851868f82">JD2000()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, and <a class="el" href="group___common_functions.html#ga7fb512090e021a184ab6ac464b66d1db">Plot3D()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac78ddd8f19cb0810b1c39bede43468e2">BarycenterEarthMoon()</a>.</p>

</div>
</div>
<a id="ga1b2fdfb989e5a787e9ff104902284535" name="ga1b2fdfb989e5a787e9ff104902284535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b2fdfb989e5a787e9ff104902284535">&#9670;&#160;</a></span>CommandListProcessing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function CommandListProcessing </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>cList</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>kCurrent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The command list cell array format is {time command data} where data is a data structure for that command. The command list rows should be in order of Julian date. You can also use +sec instead of jD in which case the time is +sec after the previous command. For example, +6 indicates 6 seconds after the previous command. If the first command is +sec then it is +sec from the time passed on initialization. <br  />
</p>
<p>Type CommandListProcessing for a demo.</p>
<h2><a class="anchor" id="autotoc_md5813"></a>
Form</h2>
<p>kCurrent = CommandListProcessing( jD0, cList, kCurrent, jD )</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md5815"></a>
Inputs</h2>
<p>jD0 (1,1) Base Julian date before any commands cList {:,3} Command list {time tag, string description, data structure} kCurrent (1,1) Current command jD (1,1) Current Julian date</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md5817"></a>
Outputs</h2>
<p>kCurrent (1,1) Current command </p>

</div>
</div>
<a id="gae4b37c437ee4982051de43f7ab332d43" name="gae4b37c437ee4982051de43f7ab332d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4b37c437ee4982051de43f7ab332d43">&#9670;&#160;</a></span>CubeSatLunarEnvironment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function CubeSatLunarEnvironment </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes sun location with SunV1 and accounts for eclipses from the Earth and the Moon via Eclipse. All environment constants including gravity are defined here.</p>
<h2><a class="anchor" id="autotoc_md5724"></a>
Form</h2>
<p>e = CubeSatLunarEnvironment % data structure e = CubeSatLunarEnvironment( x, t, d )</p>
<h2><a class="anchor" id="autotoc_md5725"></a>
Inputs</h2>
<p>x (14,1) [r;v;q;w;b] t (1,1) Time, sec d (.) Data structure .jD0 Julian date of epoch .surfData (.) optional; empty to skip optical calcs .gravity (.) .center Index of gravity center</p>
<h2><a class="anchor" id="autotoc_md5726"></a>
Outputs</h2>
<p>env (.) Environmental data .r ECI position (km) .v ECI velocity (km/s) .q ECI to body quaternion .mu Gravitational constant (km3/s2) .radiusPlanet Radius of the center planet (km) .rho Distance from the Moon (km) .radiation Planetary radiation W/m2 .albedo Planet bond albedo fraction .uSun Sun unit vector (ECI) .rSun Sun distance (km) .solarFlux Solar flux at position (W/m2) .nEcl Eclipse fraction (source intensity, 0-1) .accelGrav Acceleration due to gravity .rMoon Moon position .vMoon Moon velocity</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___s_c_functions.html#gae20dbb6312d1eab2f235090c706f5556" title="Generate the sun vector in the earth-centered inertial frame.">SunV1</a>, <a class="el" href="group___s_c_functions.html#ga5cc2967810ca9640c49f83a496f9737f" title="Computes eclipses.">Eclipse</a>, <a class="el" href="group___aerospace_utils_functions.html#ga2aa26765a55bc31ea68c9029ad805d54" title="Computes the Earth&#39;s atmospheric density using scale heights.">AtmDens2</a>, <a class="el" href="group___aerospace_utils_functions.html#gae03b0e78f6d3fa4fe501baea06d18395" title="Computes the atmospheric density using Jacchia&#39;s 1970 model.">AtmJ70</a>, <a class="el" href="group___s_c_functions.html#gae81364a3c22c3b51f5dcb20dbfbfad05" title="Computes the geocentric magnetic field based on a tilted dipole model.">BDipole</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___orbit_functions.html#ga90e9766f2af18902f769f87b359c1ae3">APlanet()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga2aa26765a55bc31ea68c9029ad805d54">AtmDens2()</a>, <a class="el" href="group___aerospace_utils_functions.html#gae03b0e78f6d3fa4fe501baea06d18395">AtmJ70()</a>, <a class="el" href="group___s_c_functions.html#gae81364a3c22c3b51f5dcb20dbfbfad05">BDipole()</a>, <a class="el" href="group___cube_sat_functions.html#ga5f535a3022b0fb1a6d92d30802dc4b57">CubeSatAttitude()</a>, <a class="el" href="#gae4b37c437ee4982051de43f7ab332d43">CubeSatLunarEnvironment()</a>, <a class="el" href="group___s_c_functions.html#ga5cc2967810ca9640c49f83a496f9737f">Eclipse()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, <a class="el" href="group___interplanetary_functions.html#ga8c8ba5650a56a6046dc40aa002e4caca">PlanetPosJPL()</a>, <a class="el" href="transmat_8m.html#a4b3dc4e3d17b42a8536479d9a8dd91d1">quaternion()</a>, <a class="el" href="group___s_c_functions.html#gae20dbb6312d1eab2f235090c706f5556">SunV1()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gae4b37c437ee4982051de43f7ab332d43">CubeSatLunarEnvironment()</a>, and <a class="el" href="#gad47da6d214196f728d6e4c6a8febcd3e">RHSLunarMission()</a>.</p>

</div>
</div>
<a id="gaa3582d7cbf2a2756a561c2476cc7f1ff" name="gaa3582d7cbf2a2756a561c2476cc7f1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3582d7cbf2a2756a561c2476cc7f1ff">&#9670;&#160;</a></span>EarthMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function EarthMoon </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>scale</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rMoon</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The plots are in the ECI frame. Has a built-in demo for an orbit with an apogee of 400,000 km, a perigee of 7000 km, and a duration of 5 days.</p>
<p>Forms: EarthMoon( r, jD, scale, rMoon ) EarthMoon( elements, jD, scale, rMoon )</p>
<h2><a class="anchor" id="autotoc_md5863"></a>
Inputs</h2>
<p>r (3,:) ECI position vectors (km) -or- (1,6) elements jD (:) Julian dates scale (1,2) Planet scale (optional, default is [1 1]) rMoon (3,:) Moon position</p>
<h2><a class="anchor" id="autotoc_md5864"></a>
Outputs</h2>
<p>none <br  />
</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e" title="Generate the moon vector in an earth or spacecraft centered frame.">MoonV1</a>, <a class="el" href="group___s_c_functions.html#ga17cb9818eea5a611c229a5657b682140" title="Computes the moon orbital elements with respect to the earth inertial frame.">MoonEl</a>. </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#gac81108e72eeb51bba8842e30adc4637b">Axis3D()</a>, <a class="el" href="#gaa3582d7cbf2a2756a561c2476cc7f1ff">EarthMoon()</a>, <a class="el" href="group___common_functions.html#gaf74c1dabdf3b329e81f73a0c6056231e">Equal()</a>, <a class="el" href="group___common_functions.html#gad9cd05ee0fe34d133490710851868f82">JD2000()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#gaed5cd0deed75ce326b40bf785ba68462">Map()</a>, <a class="el" href="group___s_c_functions.html#ga17cb9818eea5a611c229a5657b682140">MoonEl()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="group___orbit_functions.html#gad018c1bbf59d9195a22f533fff47e4e4">RPRA2AE()</a>, <a class="el" href="group___orbit_functions.html#gac5427fbc7e145f25d217366fe07d739d">RVFromKepler()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="group___common_functions.html#gadbcf7e8aa884881f6243670a40300e1c">XLabelS()</a>, <a class="el" href="group___common_functions.html#gaa9c18f12794cf2770b2b7d27ed3283a5">YLabelS()</a>, <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>, and <a class="el" href="group___common_functions.html#gafc92f0fef577c8878087a5e830792e81">ZLabelS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaa3582d7cbf2a2756a561c2476cc7f1ff">EarthMoon()</a>, and <a class="el" href="#ga2f9c9fbf8aa2fa7b88cb3448a03e92f3">LunarTargeting()</a>.</p>

</div>
</div>
<a id="ga2c560ee6d58038a4ad92d2c318742b39" name="ga2c560ee6d58038a4ad92d2c318742b39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c560ee6d58038a4ad92d2c318742b39">&#9670;&#160;</a></span>EarthMoonRotFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function EarthMoonRotFrame </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>scale</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lagrange</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lunarCone</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The input vectors are in the ECI frame. Has a built-in demo for an orbit <br  />
 with an apogee of 400,000 km, a perigee of 7000 km, and a duration of 5 days.</p>
<p>Forms: EarthMoonRotFrame( r, jD, scale, lagrange, lunarCone )</p>
<h2><a class="anchor" id="autotoc_md5865"></a>
Inputs</h2>
<p>r (3,:) ECI position vectors (km) or (1,6) elements jD (:) Julian dates scale (1,2) Planet scale (optional, default is [1 1]) lagrange (1,1) If entered draw lagrange points lunarCone (1,3) [lat, lon, angle]</p>
<h2><a class="anchor" id="autotoc_md5866"></a>
Outputs</h2>
<p>none </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#gac81108e72eeb51bba8842e30adc4637b">Axis3D()</a>, <a class="el" href="group___common_functions.html#ga81a74dfa813bb50e946a440fa5eda1b1">Cone()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="#ga2c560ee6d58038a4ad92d2c318742b39">EarthMoonRotFrame()</a>, <a class="el" href="group___common_functions.html#gaf74c1dabdf3b329e81f73a0c6056231e">Equal()</a>, <a class="el" href="group___common_functions.html#gad9cd05ee0fe34d133490710851868f82">JD2000()</a>, <a class="el" href="group___s_c_functions.html#ga542676eab99c03a768e497afdbd916fb">LagrangePointsL1ToL5()</a>, <a class="el" href="group___aerospace_utils_functions.html#gae553301ab93e8b26f8932a24c3358afe">LatLonToR()</a>, <a class="el" href="group___common_functions.html#gaed5cd0deed75ce326b40bf785ba68462">Map()</a>, <a class="el" href="group___s_c_functions.html#ga17cb9818eea5a611c229a5657b682140">MoonEl()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="group___orbit_functions.html#gad018c1bbf59d9195a22f533fff47e4e4">RPRA2AE()</a>, <a class="el" href="group___orbit_functions.html#ga69b82953888de99ee146a72f065b3b71">RVOrbGen()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___a_c_functions.html#ga36aaf7e58cc8ac695300dd716812b8de">Trajectory()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, <a class="el" href="group___common_functions.html#gadbcf7e8aa884881f6243670a40300e1c">XLabelS()</a>, <a class="el" href="group___common_functions.html#gaa9c18f12794cf2770b2b7d27ed3283a5">YLabelS()</a>, <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>, and <a class="el" href="group___common_functions.html#gafc92f0fef577c8878087a5e830792e81">ZLabelS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga2c560ee6d58038a4ad92d2c318742b39">EarthMoonRotFrame()</a>.</p>

</div>
</div>
<a id="gae1d3325631da60079ebd5ee011af115c" name="gae1d3325631da60079ebd5ee011af115c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1d3325631da60079ebd5ee011af115c">&#9670;&#160;</a></span>EarthMoonSystemConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function EarthMoonSystemConstants </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5712"></a>
Form</h2>
<p>d = <a class="el" href="#gae1d3325631da60079ebd5ee011af115c" title="Specifies Earth-Moon system constants.">EarthMoonSystemConstants()</a></p>
<h2><a class="anchor" id="autotoc_md5713"></a>
Inputs</h2>
<p>none</p>
<h2><a class="anchor" id="autotoc_md5714"></a>
Outputs</h2>
<p>d (.) Data structure output with system constants and fields: .system '' Name of system - 'EM' .muMoon (1,1) Moon gravity constant (km^3/sec^2) .muEarth (1,1) Earth gravity constant .mu (1,1) Non-dimensional mass parameter .L (1,1) Length unit (Earth-moon) (km) .T (1,1) Time unit (lunar period) (s) .Re (1,1) Radius earth (km) .Rm (1,1) Radius moon (km) .xL1 (1,1) L1 distance (nd) .xL2 (1,1) L2 distance (nd) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="quat_8m.html#a3df87fc1b2fd8838b19b3a1721e05ab0">get()</a>, and <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3e70c546958113e418d11ce2fb4efd71">PlotEMTraj()</a>.</p>

</div>
</div>
<a id="ga922fde87d27c815f6ea4cd950119528d" name="ga922fde87d27c815f6ea4cd950119528d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga922fde87d27c815f6ea4cd950119528d">&#9670;&#160;</a></span>ECIToEarthMoonRot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function ECIToEarthMoonRot </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The coordinate frame is +x pointing at the moon along the earth-moon line. +z normal to the earth moon plane and +y completing the set. Uses MoonV1. Computes the plane by looking at the moon vector at jD(k) and then 1 day later.</p>
<p>Type</p>
<p>ECIToEarthMoonRot</p>
<p>for a demo</p>
<p>Since version 10.</p>
<h2><a class="anchor" id="autotoc_md5683"></a>
Form</h2>
<p>m = ECIToEarthMoonRot( jD )</p>
<h2><a class="anchor" id="autotoc_md5684"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days)</p>
<h2><a class="anchor" id="autotoc_md5685"></a>
Outputs</h2>
<p>m {:} Rotation matrix z (3,:) Rotation axis </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga922fde87d27c815f6ea4cd950119528d">ECIToEarthMoonRot()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga922fde87d27c815f6ea4cd950119528d">ECIToEarthMoonRot()</a>.</p>

</div>
</div>
<a id="ga821d8268e2e05291169dbcf71dbd39d6" name="ga821d8268e2e05291169dbcf71dbd39d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga821d8268e2e05291169dbcf71dbd39d6">&#9670;&#160;</a></span>EMBToEMBND()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function EMBToEMBND </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale position and velocity in EMB system (rotating or inertial) by distance and velocity units to make non-dimensional</p>
<h2><a class="anchor" id="autotoc_md5686"></a>
Form</h2>
<p>[rND,vND] = EMBToEMBND( r, v )</p>
<h2><a class="anchor" id="autotoc_md5687"></a>
Inputs</h2>
<p>r (3,:) Position vector in EMBR frame <br  />
 v (3,:) Velocity vector in EMBR frame <br  />
</p>
<h2><a class="anchor" id="autotoc_md5688"></a>
Outputs</h2>
<p>rND (3,:) Position vector in ECI frame vND (3,:) Velocity vector in ECI frame </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="#ga821d8268e2e05291169dbcf71dbd39d6">EMBToEMBND()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga821d8268e2e05291169dbcf71dbd39d6">EMBToEMBND()</a>.</p>

</div>
</div>
<a id="ga8203eb3df56e930aa3f558a29a7282e3" name="ga8203eb3df56e930aa3f558a29a7282e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8203eb3df56e930aa3f558a29a7282e3">&#9670;&#160;</a></span>ForceSimple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function ForceSimple </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Models the force for a thruster using a direction vector and a scalar magnitude.</p>
<h2><a class="anchor" id="autotoc_md5834"></a>
Form</h2>
<p>d = ForceSimple; % default data structure f = ForceSimple( d )</p>
<h2><a class="anchor" id="autotoc_md5835"></a>
Inputs</h2>
<p>d (.) Data structure .uThrustECI (3,1) Thrust unit vector in the ECI frame .thrustMag (1,1) Thrust magnitude (N)</p>
<h2><a class="anchor" id="autotoc_md5836"></a>
Outputs</h2>
<p>f (3,1) ECI force vector (N) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="#ga8203eb3df56e930aa3f558a29a7282e3">ForceSimple()</a>, <a class="el" href="quat_8m.html#a04b91fae3e911c99ee12dc42b4406b4b">scalar()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga8203eb3df56e930aa3f558a29a7282e3">ForceSimple()</a>.</p>

</div>
</div>
<a id="ga35c2236445a6425a86d940a47f7e24c1" name="ga35c2236445a6425a86d940a47f7e24c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35c2236445a6425a86d940a47f7e24c1">&#9670;&#160;</a></span>FThrustLander()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function FThrustLander </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>massFuel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Outputs thrust aligned with the specified vector. The thrust is set to zero once the fuel mass is at or below zero.</p>
<h2><a class="anchor" id="autotoc_md5837"></a>
Form</h2>
<p>[thrust, uE] = FThrustLander( massFuel, d )</p>
<h2><a class="anchor" id="autotoc_md5838"></a>
Inputs</h2>
<p>massFuel (1,1) Mass of fuel (kg) d (.) Data structure .thrust (1,1) Thrust magnitude (N) .uE (1,1) Exhaust velocity (m/s) .uThrust (3,1) Thrust unit vector</p>
<h2><a class="anchor" id="autotoc_md5839"></a>
Outputs</h2>
<p>thrust (3,1) Thrust vector (N) uE (1,1) Exhaust velocity (m/s) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga35c2236445a6425a86d940a47f7e24c1">FThrustLander()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga35c2236445a6425a86d940a47f7e24c1">FThrustLander()</a>, and <a class="el" href="#ga9b45c07e89a3caf53cdbac3373dd4dea">RHSRVPlanetFixed()</a>.</p>

</div>
</div>
<a id="gac42585f57ebd6133ae084fd913708e68" name="gac42585f57ebd6133ae084fd913708e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac42585f57ebd6133ae084fd913708e68">&#9670;&#160;</a></span>FuelMassFromAccel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function FuelMassFromAccel </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>accel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>massDry</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>uE</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type FuelMassFromAccel for a demo with a constant acceleration.</p>
<h2><a class="anchor" id="autotoc_md5753"></a>
Form</h2>
<p>massFuel = FuelMassFromAccel( accel, dT, massDry, uE )</p>
<h2><a class="anchor" id="autotoc_md5754"></a>
Inputs</h2>
<p>accel (1,:) Acceleration vector dT (1,:) Time vector massDry (1,1) Dry mass uE (1,1) Exhaust velocity</p>
<h2><a class="anchor" id="autotoc_md5755"></a>
Outputs</h2>
<p>massFuel (1,1) Fuel mass (kg) </p>

<p class="reference">References <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="#gac42585f57ebd6133ae084fd913708e68">FuelMassFromAccel()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac42585f57ebd6133ae084fd913708e68">FuelMassFromAccel()</a>.</p>

</div>
</div>
<a id="gaecb3be2f28c7552cca77b1dd9e20c8aa" name="gaecb3be2f28c7552cca77b1dd9e20c8aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecb3be2f28c7552cca77b1dd9e20c8aa">&#9670;&#160;</a></span>GravityHelio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function GravityHelio </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>mu</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>iD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Julian date is only used if lunar gravitational harmonics are used. If the field, sphHarmMoon, is not empty, it uses the moon harmonics.</p>
<h2><a class="anchor" id="autotoc_md5840"></a>
Form</h2>
<p>a = GravityHelio( r, jD, rP, mu, iD, d )</p>
<h2><a class="anchor" id="autotoc_md5841"></a>
Inputs</h2>
<p>r (3,1) Heliocentric position (km) jD (1,1) Julian date (days) rP (3,:) Heliocentric planet locations (km) mu (1,:) Gravitational constants (km^3/s^2) iD (1,:) JPL planet ids d (.) Data structure .muSun (1,1) Sun gravity constants .sphHarmMoon (.) Data structure for the moon harmonics .moonID (1,1) The index for the moon id in iD</p>
<h2><a class="anchor" id="autotoc_md5842"></a>
Outputs</h2>
<p>a (3,:) ECI force vector (N)</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___orbit_functions.html#ga90e9766f2af18902f769f87b359c1ae3" title="Perturbing acceleration due to a planet on a spacecraft.">APlanet</a>, <a class="el" href="group___orbit_functions.html#gab8053d4fc0f5a73233fa5ca06e8c2788" title="Compute the gravitational acceleration in cartesian coordinates.">AGravityC</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77" title="Computes the matrix that transforms from ECI to selenographic axes.">MoonRot</a> </dd></dl>

<p class="reference">References <a class="el" href="group___orbit_functions.html#gab8053d4fc0f5a73233fa5ca06e8c2788">AGravityC()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___orbit_functions.html#ga90e9766f2af18902f769f87b359c1ae3">APlanet()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="#gaecb3be2f28c7552cca77b1dd9e20c8aa">GravityHelio()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaecb3be2f28c7552cca77b1dd9e20c8aa">GravityHelio()</a>.</p>

</div>
</div>
<a id="ga5c0bf59ad7eab196a772090dacddb43b" name="ga5c0bf59ad7eab196a772090dacddb43b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c0bf59ad7eab196a772090dacddb43b">&#9670;&#160;</a></span>LandingConst2D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LandingConst2D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constraint is the terminal altitude and velocities. They must be zero. The function integrates the trajectory to find the values.</p>
<h2><a class="anchor" id="autotoc_md5756"></a>
Form</h2>
<p>[cIn, cEq, s, t] = LandingConst2D( x, d )</p>
<h2><a class="anchor" id="autotoc_md5757"></a>
Inputs</h2>
<p>x (:,1) [beta;dT] d (.) Data structure describing spacecraft model .hFinal (1,1) Final altitude .a (1,1) Acceleration .g (1,1) Gravity .x (4,1) Initial condition .n (1,1) Number of segments</p>
<h2><a class="anchor" id="autotoc_md5758"></a>
Outputs</h2>
<p>cIn (1,1) Inequality contraints, empty cEq (3,1) Equality constraints, [altitude;x velocity;y velocity] s (4,1) Final state t (1,:) Corresponding times</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___s_c_functions.html#gaeaff1d39a1db8228a65b647fadc545d9" title="Right-hand-side for a 2 dimensional planet takeoff.">RHSPlanetTakeoff</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga5c0bf59ad7eab196a772090dacddb43b">LandingConst2D()</a>, <a class="el" href="group___s_c_functions.html#gaeaff1d39a1db8228a65b647fadc545d9">RHSPlanetTakeoff()</a>, <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2">RK4()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga5c0bf59ad7eab196a772090dacddb43b">LandingConst2D()</a>, and <a class="el" href="group___optical_navigation_functions.html#ga7a4084ffa8bf4891176ea6073f3cd1d3">OptimalLunarLanding()</a>.</p>

</div>
</div>
<a id="ga37c98b8e32ba253d0145c0e19ec32fe4" name="ga37c98b8e32ba253d0145c0e19ec32fe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37c98b8e32ba253d0145c0e19ec32fe4">&#9670;&#160;</a></span>LandingConst3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LandingConst3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constraint is the terminal altitude and velocities. They must be zero. The function integrates the trajectory to find the values.</p>
<h2><a class="anchor" id="autotoc_md5759"></a>
Form</h2>
<p>[cIn, cEq, s, t] = LandingConst3D( x, d )</p>
<h2><a class="anchor" id="autotoc_md5760"></a>
Inputs</h2>
<p>x (:,1) [beta;alpha;thrust;dT] d (.) Data structure describing spacecraft model .timeOpt (1,1) Variable dT if true, otherwise constant</p>
<h2><a class="anchor" id="autotoc_md5761"></a>
Outputs</h2>
<p>cIn (1,1) Inequality contraints, empty cEq (5,1) Equality constraints, [altitude;y;x velocity;y velocity;z velocity] s (:,1) Final state t (1,:) Corresponding times</p>
<dl class="section see"><dt>See also</dt><dd>: RHSPlanet3DPFFrame </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga37c98b8e32ba253d0145c0e19ec32fe4">LandingConst3D()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3">RHSPlanet3D()</a>, and <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2">RK4()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga37c98b8e32ba253d0145c0e19ec32fe4">LandingConst3D()</a>.</p>

</div>
</div>
<a id="gad2c01ac108588e7bd292db4e7c5e93c8" name="gad2c01ac108588e7bd292db4e7c5e93c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2c01ac108588e7bd292db4e7c5e93c8">&#9670;&#160;</a></span>LandingCost2D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LandingCost2D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>ignoredArg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The cost is the total time for the maneuver. This is computed from the decision variable.</p>
<h2><a class="anchor" id="autotoc_md5762"></a>
Form</h2>
<p>cost = LandingCost2D( x, ~ )</p>
<h2><a class="anchor" id="autotoc_md5763"></a>
Inputs</h2>
<p>x (:,1) [beta;dT] d (.) Data structure describing spacecraft model</p>
<h2><a class="anchor" id="autotoc_md5764"></a>
Outputs</h2>
<p>cost (1,1) Total time </p>

<p class="reference">References <a class="el" href="#gad2c01ac108588e7bd292db4e7c5e93c8">LandingCost2D()</a>, and <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gad2c01ac108588e7bd292db4e7c5e93c8">LandingCost2D()</a>, and <a class="el" href="group___optical_navigation_functions.html#ga7a4084ffa8bf4891176ea6073f3cd1d3">OptimalLunarLanding()</a>.</p>

</div>
</div>
<a id="ga0b0fd276a80a4c4260f80a4488c90116" name="ga0b0fd276a80a4c4260f80a4488c90116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b0fd276a80a4c4260f80a4488c90116">&#9670;&#160;</a></span>LandingCost3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LandingCost3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The cost is the weighted sum of total time and fuel mass. This is computed from the decision variable.</p>
<h2><a class="anchor" id="autotoc_md5765"></a>
Form</h2>
<p>cost = LandingCost3D( x, d )</p>
<h2><a class="anchor" id="autotoc_md5766"></a>
Inputs</h2>
<p>x (:,1) [beta;alpha;thrust;dT] d (.) Data structure describing spacecraft model .timeW (1,1) Time weight .fuelW (1,1) Fuel weight .uE (1,1) Exhaust velocity</p>
<h2><a class="anchor" id="autotoc_md5767"></a>
Outputs</h2>
<p>cost (1,1) Time weighted with total fuel consumed </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="#ga0b0fd276a80a4c4260f80a4488c90116">LandingCost3D()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga0b0fd276a80a4c4260f80a4488c90116">LandingCost3D()</a>.</p>

</div>
</div>
<a id="ga6b5508a81421de7c8c2b483de79ffbdc" name="ga6b5508a81421de7c8c2b483de79ffbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b5508a81421de7c8c2b483de79ffbdc">&#9670;&#160;</a></span>LandingLegsCAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LandingLegsCAD </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>varargin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use 'scale' to change the size of the legs. Use 'xy spacing' to adjust the distance between the legs. These legs are based on the Apollo Lunar Module.</p>
<p>Type LandingLegsCAD for a demo.</p>
<h2><a class="anchor" id="autotoc_md5818"></a>
Form</h2>
<p>[v, f] = LandingLegsCAD( varargin )</p>
<h2><a class="anchor" id="autotoc_md5819"></a>
Inputs</h2>
<p>'scale' and 'xy spacing'</p>
<h2><a class="anchor" id="autotoc_md5820"></a>
Outputs</h2>
<p>v(:,3) Vertices f(:,3) Faces a(1,:) Area </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga6b5508a81421de7c8c2b483de79ffbdc">LandingLegsCAD()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, and <a class="el" href="group___orbit_functions.html#ga60c94f67e4670728cb3f4e5c01e23c66">Parameter()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga6b5508a81421de7c8c2b483de79ffbdc">LandingLegsCAD()</a>.</p>

</div>
</div>
<a id="gab920924ba2204150bcf2e137c1cf4f26" name="gab920924ba2204150bcf2e137c1cf4f26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab920924ba2204150bcf2e137c1cf4f26">&#9670;&#160;</a></span>LFToECI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LFToECI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>xLF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5738"></a>
Form</h2>
<p>xECI = LFToECI(xLF,jD)</p>
<h2><a class="anchor" id="autotoc_md5739"></a>
Inputs</h2>
<p>xLF (6,1) State vector [r;v] (km,km/s) jD (1,1) Julian date</p>
<h2><a class="anchor" id="autotoc_md5740"></a>
Outputs</h2>
<p>xECI (6,1) State vector [r;v] (km,km/s) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="#gab920924ba2204150bcf2e137c1cf4f26">LFToECI()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gab920924ba2204150bcf2e137c1cf4f26">LFToECI()</a>, and <a class="el" href="group___optical_navigation_functions.html#ga49e9d76eaac0ba33de27b7e010d60444">LunarTrajectoryControl()</a>.</p>

</div>
</div>
<a id="gaea12cda85d2d31be5afec6daae1f77b5" name="gaea12cda85d2d31be5afec6daae1f77b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea12cda85d2d31be5afec6daae1f77b5">&#9670;&#160;</a></span>LoadLP150Q()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LoadLP150Q </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>fileName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The model is normalized.</p>
<h2><a class="anchor" id="autotoc_md5715"></a>
Form</h2>
<p>gravityModel = LoadLP150Q( fileName )</p>
<h2><a class="anchor" id="autotoc_md5716"></a>
Inputs</h2>
<p>fileName (1,:) Filename</p>
<h2><a class="anchor" id="autotoc_md5717"></a>
Outputs</h2>
<p>gravityModel (.) Data structure .name (1,:) Model name .mu (1,1) Gravitational constant (km^3/sec^2) .a (1,1) Model earth radius (km) .c (n,n) Cosine coefficients .s (n,n) Sine coefficients .isNormalized (1,1) Boolean </p>

<p class="reference">References <a class="el" href="group___common_functions.html#gabe298d61838f04fa3609d435759ff39e">StringToTokens()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="gaaad4d34222d7f1f75871457b025a9a69" name="gaaad4d34222d7f1f75871457b025a9a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaad4d34222d7f1f75871457b025a9a69">&#9670;&#160;</a></span>LoadLunarTopography()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LoadLunarTopography </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It will automatically read the file gltm2b.topo. If no output arguments are found it will create a file Topography.txt with the s and c coefficients.</p>
<h2><a class="anchor" id="autotoc_md5727"></a>
Form</h2>
<p>[s,c] = LoadLunarTopography( nH )</p>
<h2><a class="anchor" id="autotoc_md5728"></a>
Inputs</h2>
<p>nH (1,1) Highest harmonic</p>
<h2><a class="anchor" id="autotoc_md5729"></a>
Outputs</h2>
<p>s (:,:) Normalized sine coefficients c (:,:) Normalized cosine coefficients</p>
<p>Reference: Smith, D. E., Zuber, M. T., Neumann, G. A., "Topography of
the Moon from the Clementine lidar", Journal of Geophysical Research, Vol. 102, No. E1, pp. 1591-1611, January 25, 1997. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga5bd444399cf6cba94fd9ce69a919c9ff">Factorl()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga2a9c7e715f19c8f37e6b9a8c75890234">Limit()</a>, <a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___s_c_functions.html#ga4736164388052c6c9209c6ea57cb18cb">AltitudeSH()</a>, <a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography()</a>, <a class="el" href="#gad6ca6fdd1bd3f6a987e65ac2257155a4">LunarAngle()</a>, <a class="el" href="#ga4f9389ae2fd05f387cd4d097d82b2de2">LunarProfile()</a>, <a class="el" href="#ga8ef2b13e126b4fb028db4948c5c270d8">LunarVisibility()</a>, and <a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80">RSHMoon()</a>.</p>

</div>
</div>
<a id="ga33f3f0b36de8edc2c2f753cb63bab1ac" name="ga33f3f0b36de8edc2c2f753cb63bab1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33f3f0b36de8edc2c2f753cb63bab1ac">&#9670;&#160;</a></span>LoadSGM150()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LoadSGM150 </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>fileName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The model is normalized.</p>
<h2><a class="anchor" id="autotoc_md5718"></a>
Form</h2>
<p>gravityModel = LoadSGM150( fileName )</p>
<h2><a class="anchor" id="autotoc_md5719"></a>
Inputs</h2>
<p>fileName (1,:) Filename</p>
<h2><a class="anchor" id="autotoc_md5720"></a>
Outputs</h2>
<p>gravityModel (1,1) Data structure .name (1,:) Model name .mu (1,1) Gravitational constant (km^3/sec^2) .a (1,1) Model earth radius (km) .c (n,n) Cosine coefficients .s (n,n) Sine coefficients .isNormalized (1,1) True </p>

<p class="reference">References <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="gad6ca6fdd1bd3f6a987e65ac2257155a4" name="gad6ca6fdd1bd3f6a987e65ac2257155a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6ca6fdd1bd3f6a987e65ac2257155a4">&#9670;&#160;</a></span>LunarAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarAngle </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>azimuth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>You need to enter a spherical harmonic lunar topography model. It loads the default model from LoadLunarTopography if you don't enter s or c. n is the number of azimuth points so it computes the topgraphy for the full range of azimuths from 0 to 360 degrees.</p>
<p>Type LunarAngle for a demo.</p>
<h2><a class="anchor" id="autotoc_md5730"></a>
Form</h2>
<p>elevation = LunarAngle( nH, lat, lon, azimuth, s, c, n  )</p>
<h2><a class="anchor" id="autotoc_md5731"></a>
Inputs</h2>
<p>nH (1,1) Highest harmonic lat (1,1) Latitude of the location lon (1,1) Longitude of the location azimuth (1,:) Azimuth points starting from north s (:,:) Normalized sine coefficients c (:,:) Normalized cosine coefficients n (1,1) Number of points along each azimuth</p>
<h2><a class="anchor" id="autotoc_md5732"></a>
Outputs</h2>
<p>elevation (1,n) Elevation as a function of azimuth (rad) azimuth (1,n) Corresponding azimuth (rad) </p>

<p class="reference">References <a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography()</a>.</p>

</div>
</div>
<a id="ga774d87b1bed1eaf7b10bd2c23313dbe5" name="ga774d87b1bed1eaf7b10bd2c23313dbe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga774d87b1bed1eaf7b10bd2c23313dbe5">&#9670;&#160;</a></span>LunarLandingControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarLandingControl </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dRHS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This implements a spacecraft control system for landing.</p>
<h2><a class="anchor" id="autotoc_md5768"></a>
Form</h2>
<p>d = LunarLandingControl; % default data [d,dRHS] = LunarLandingControl( x, t, dRHS, d )</p>
<h2><a class="anchor" id="autotoc_md5769"></a>
Inputs</h2>
<p>x (20,1) State vector [r;v;q;w;m;inertia] (km,km/s,-,rad/s,kg,kg-m^2) t (1,1) Time (s) dRHS (.) Data structure for the simulation. See RHSLunarLander d (.) Data structure for the controller</p>
<h2><a class="anchor" id="autotoc_md5770"></a>
Outputs</h2>
<p>d (.) Data structure for the controller dRHS (.) Data structure for the simulation. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="group___interplanetary_functions.html#ga22b374dfb9ad5df8f9b9aa46540adc39">LandingControlBilinear()</a>, <a class="el" href="#ga774d87b1bed1eaf7b10bd2c23313dbe5">LunarLandingControl()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___s_c_functions.html#gad776bc1c0f75767fab7edc291db6267f">PID3Axis()</a>, <a class="el" href="group___common_functions.html#gac1ad2574cafad301304f2a4b077dc3fd">PIDMIMO()</a>, <a class="el" href="group___common_functions.html#ga8225cf186f4bd8843a219b98f1d08d75">QTForm()</a>, <a class="el" href="#ga30b7a141b30c5bf2cd954e16501d7387">RHSLunarLander()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga774d87b1bed1eaf7b10bd2c23313dbe5">LunarLandingControl()</a>.</p>

</div>
</div>
<a id="ga490b6f7de75ad3596596aca315ebfab3" name="ga490b6f7de75ad3596596aca315ebfab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga490b6f7de75ad3596596aca315ebfab3">&#9670;&#160;</a></span>LunarLandingTargetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarLandingTargetState </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>alt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>f</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5771"></a>
Form</h2>
<p>x = LunarLandingTargetState( lat, lon, alt, f )</p>
<h2><a class="anchor" id="autotoc_md5772"></a>
Inputs</h2>
<p>lat (1,1) Target latitude lon (1,1) Target longitude alt (1,1) Target altitude f (1,1) Flattening factor</p>
<h2><a class="anchor" id="autotoc_md5773"></a>
Outputs</h2>
<p>x (6,1) State [r;v] </p>

<p class="reference">References <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga30f21394054c6687e19692593828e6d8">DispWithTitle()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga89d26a5d02ff22c6a209336e8a338a2d">LatLonAltToEF()</a>, and <a class="el" href="#ga490b6f7de75ad3596596aca315ebfab3">LunarLandingTargetState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga490b6f7de75ad3596596aca315ebfab3">LunarLandingTargetState()</a>.</p>

</div>
</div>
<a id="ga0b756b713a7a4faf5f88db60ec1b921c" name="ga0b756b713a7a4faf5f88db60ec1b921c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b756b713a7a4faf5f88db60ec1b921c">&#9670;&#160;</a></span>LunarMissionControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarMissionControl </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dSim</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>meas</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>cList</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The command list cell array is {time command data} where data is a data structure for that command. The command list rows should be in order of Julian date. You can also use +sec instead of jD in which case the time is +sec after the previous command. If the first command is +sec then it is +sec from the time passed on initialization.</p>
<p>Supported commands:</p>
<p>Command data 'align with a quaternion', struct('q_target',[0;1;0;0]);... 'lunar orbit insertion prepare', struct('thrust',20,'massInitial',6,... 'uE', 290*9.806,... 'body_vector',[1;0;0],... 'hLunarOrbit',200);... 'align for lunar insertion', [];... 'start main engine', struct('iD',1,'thrust',20)};</p>
<p>uE is exhaust velocity in m/s. massInitial is the mass at the start of the burn. hLunarOrbit is the altitude of the burn.</p>
<p>meas can be the state vector.</p>
<p>dC = LunarMissionControl gives the default data structure. This also opens a GUI that shows the command list and current command that is being executed.</p>
<p>Commands are implemented via the dSim data structure. This is compatible with RHSLunarMission.</p>
<h2><a class="anchor" id="autotoc_md5821"></a>
Form</h2>
<p>dC = LunarMissionControl % default data structure [dC, dSim] = LunarMissionControl( action, jD, dC, dSim, meas, cList )</p>
<h2><a class="anchor" id="autotoc_md5822"></a>
Inputs</h2>
<p>action (1,:) 'initialize', 'update', 'terminate' jD (1,1) Julian date dC (.) Controller data structure dSim (.) Simulation data structure meas (.) Measurement data structure or state vector .qECIToBody (4,1) Quaternion .rECI (3,1) ECI position .vECI (3,1) ECI velocity .omega (3,1) Body rate .omegaRWA (:,1) RWA rates <br  />
 cList {:,3} Command list cell array</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md5824"></a>
Outputs</h2>
<p>dC (.) Controller data structure dSim (.) Simulation data structure </p>

</div>
</div>
<a id="ga48290cebae71038a04fff6c150a5d7c9" name="ga48290cebae71038a04fff6c150a5d7c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48290cebae71038a04fff6c150a5d7c9">&#9670;&#160;</a></span>LunarOrbitInsertion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarOrbitInsertion </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>hLunarOrbit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>mI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>uE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>thrust</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the total velocity change, the vector direction for the burn and the duration of the burn. This always burns in the direction of the velocity error. You should approach the moon in the right direction so that the resulting orbit is achieved.</p>
<p>If your input is elements dR must be part of the orbit track otherwise it won't work. The moon relative position must be at the point in the orbit specified by the mean anomaly.</p>
<p>Type LunarOrbitInsertion for a demo.</p>
<h2><a class="anchor" id="autotoc_md5825"></a>
Form</h2>
<p>[deltaV, uECI, tBurn] = LunarOrbitInsertion( hLunarOrbit, dR, dV, mI, uE, thrust )</p>
<h2><a class="anchor" id="autotoc_md5826"></a>
Inputs</h2>
<p>hLunarOrbit (1,:) Perigee altitude or lunar orbital elements dR (3,1) Relative position vector at start (km) dV (3,1) Relative velocity vector at start (km/s) mI (1,1) Initial mass (kg) uE (1,1) Exhaust velocity (m/s) thrust (1,1) Thrust (N)</p>
<h2><a class="anchor" id="autotoc_md5827"></a>
Outputs</h2>
<p>deltaV (1,1) Velocity change (km/s) uECI (3,1) Vector for burn tBurn (1,1) Burn duration (sec) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="gac88d4ee3a736e5dd251f4fdb44d0213f" name="gac88d4ee3a736e5dd251f4fdb44d0213f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac88d4ee3a736e5dd251f4fdb44d0213f">&#9670;&#160;</a></span>LunarPolarOrbit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarPolarOrbit </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>e</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5741"></a>
Form</h2>
<p>x = LunarPolarOrbit( a, e, jD )</p>
<h2><a class="anchor" id="autotoc_md5742"></a>
Inputs</h2>
<p>a (1,1) Semi-major axis e (1,1) Eccentricity jD (1,1) Julian date</p>
<h2><a class="anchor" id="autotoc_md5743"></a>
Outputs</h2>
<p>x (6,1) [r;v] (km,km/s) ECI </p>

<p class="reference">References <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___orbit_functions.html#gaed91df46bdea0396c2055f146c5644f4">El2RV()</a>, <a class="el" href="#gac88d4ee3a736e5dd251f4fdb44d0213f">LunarPolarOrbit()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, <a class="el" href="group___common_functions.html#gae560a4e0a6618f9759193ce6956e9c0b">QForm()</a>, <a class="el" href="group___common_functions.html#ga83ff62e4fb6dfd7fd3f8e1a01e77d37b">U2Q()</a>, and <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac88d4ee3a736e5dd251f4fdb44d0213f">LunarPolarOrbit()</a>.</p>

</div>
</div>
<a id="ga4f9389ae2fd05f387cd4d097d82b2de2" name="ga4f9389ae2fd05f387cd4d097d82b2de2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f9389ae2fd05f387cd4d097d82b2de2">&#9670;&#160;</a></span>LunarProfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarProfile </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lambda</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lambda and theta are 1-dimensional arrays.</p>
<p>Type LunarProfile for a demo.</p>
<h2><a class="anchor" id="autotoc_md5733"></a>
Form</h2>
<p>r = LunarProfile( nH, lambda, theta, s, c )</p>
<h2><a class="anchor" id="autotoc_md5734"></a>
Inputs</h2>
<p>nH (1,1) Highest harmonic lambda (1,:) Equatorial angles theta (1,:) Angles from pole s (:,:) Normalized sine coefficients c (:,:) Normalized cosine coefficients </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___math_functions.html#gad7827b39ad5b85e6c86f228586fbe7c7">DupVect()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography()</a>, <a class="el" href="#ga4f9389ae2fd05f387cd4d097d82b2de2">LunarProfile()</a>, <a class="el" href="group___math_functions.html#ga225039f64ec07670c7657da575c73e99">PAL()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="group___math_functions.html#ga7c97ad8e6199d63e90b44715f8255779">SCHarm()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga4f9389ae2fd05f387cd4d097d82b2de2">LunarProfile()</a>.</p>

</div>
</div>
<a id="gaebad6f1071e3186cde092e72cfe35725" name="gaebad6f1071e3186cde092e72cfe35725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebad6f1071e3186cde092e72cfe35725">&#9670;&#160;</a></span>LunarRelativeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarRelativeState </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rTarget</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Also returns latitude, longitude and altitude.</p>
<h2><a class="anchor" id="autotoc_md5744"></a>
Form</h2>
<p>d = LunarRelativeState(x,jD,rTarget)</p>
<h2><a class="anchor" id="autotoc_md5745"></a>
Inputs</h2>
<p>x (20,1) State vector [r;v;..] (km,km/s) jD (1,1) Julian date rTarget (3,1) Target position in the lunar frame (km)</p>
<h2><a class="anchor" id="autotoc_md5746"></a>
Outputs</h2>
<p>d (.) Data structure for the output .lat (1,1) Latitude (deg) .lon (1,1) Longitude (deg) .alt (1,1) Altitude (km) .r (3,1) Relative position (km) .v (3,1) Relative velocity (km/s) </p>

<p class="reference">References <a class="el" href="group___common_functions.html#gadc6a599f9ce46634821bba382ad21ec0">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga08408e4ccd8ecc2b06cb3b1d58206ec0">EFToLatLonAlt()</a>, <a class="el" href="#gaebad6f1071e3186cde092e72cfe35725">LunarRelativeState()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaebad6f1071e3186cde092e72cfe35725">LunarRelativeState()</a>.</p>

</div>
</div>
<a id="ga69f4cee66a31964de2e61de6caf88a94" name="ga69f4cee66a31964de2e61de6caf88a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69f4cee66a31964de2e61de6caf88a94">&#9670;&#160;</a></span>LunarTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarTarget </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>downrange</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5774"></a>
Form</h2>
<p>r = LunarTarget( x, jD, downrange )</p>
<h2><a class="anchor" id="autotoc_md5775"></a>
Inputs</h2>
<p>x (20,1) State vector [r;v;..] (km,km/s) jD (1,1) Julian date downrange (3,1) Downrange distance</p>
<h2><a class="anchor" id="autotoc_md5776"></a>
Outputs</h2>
<p>r (3,1) Landing spot in the lunar fixed frame </p>

<p class="reference">References <a class="el" href="#ga69f4cee66a31964de2e61de6caf88a94">LunarTarget()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga69f4cee66a31964de2e61de6caf88a94">LunarTarget()</a>.</p>

</div>
</div>
<a id="ga2f9c9fbf8aa2fa7b88cb3448a03e92f3" name="ga2f9c9fbf8aa2fa7b88cb3448a03e92f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f9c9fbf8aa2fa7b88cb3448a03e92f3">&#9670;&#160;</a></span>LunarTargeting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarTargeting </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>date</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>el0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>inc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>fIf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>simJDP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>opts</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="acstate_8m.html#ac9ad2959b7b091d60ba42cfd4614a0a8">abs()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___orbit_functions.html#ga90e9766f2af18902f769f87b359c1ae3">APlanet()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="#gaa3582d7cbf2a2756a561c2476cc7f1ff">EarthMoon()</a>, <a class="el" href="group___orbit_functions.html#gaed91df46bdea0396c2055f146c5644f4">El2RV()</a>, <a class="el" href="group___common_functions.html#ga7a88bf2e34cb232da43e87a377f5d611">HasOptimizationToolbox()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="group___orbit_functions.html#gaae51ee018e321d05c93d309c3462d81e">LambertTOF()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#ga2f9c9fbf8aa2fa7b88cb3448a03e92f3">LunarTargeting()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___orbit_functions.html#ga567af55ff5e35fce1417e98d76796034">Period()</a>, <a class="el" href="group___interplanetary_functions.html#ga8c8ba5650a56a6046dc40aa002e4caca">PlanetPosJPL()</a>, <a class="el" href="group___common_functions.html#ga7fb512090e021a184ab6ac464b66d1db">Plot3D()</a>, <a class="el" href="group___orbit_functions.html#gaee6c6852bd96912c362c6ae013c37528">RV2El()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga2f9c9fbf8aa2fa7b88cb3448a03e92f3">LunarTargeting()</a>.</p>

</div>
</div>
<a id="ga8ef2b13e126b4fb028db4948c5c270d8" name="ga8ef2b13e126b4fb028db4948c5c270d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ef2b13e126b4fb028db4948c5c270d8">&#9670;&#160;</a></span>LunarVisibility()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function LunarVisibility </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the Clementine surface model. The orbit is in the inertial frame but lunar centric.</p>
<p>Type LunarVisibility for a demo.</p>
<h2><a class="anchor" id="autotoc_md5831"></a>
Form</h2>
<p>kVis = LunarVisibility( lat, lon, jD0, r, t, nH )</p>
<h2><a class="anchor" id="autotoc_md5832"></a>
Inputs</h2>
<p>lat (1,1) Latitude of the ground target (rad) lon (1,1) Longitude of the ground target (rad) jD0 (1,1) Julian data of start (days) r (3,:) ECI frame orbit (rad) t (1,:) Times corresponding to points in r (s) nH (1,1) Number of harmonics in the surface model (72 maximum)</p>
<h2><a class="anchor" id="autotoc_md5833"></a>
Outputs</h2>
<p>kVis (1,:) 1 if the satellite is visible, 0 if not</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80" title="Generates a topographic map of the moon using spherical harmonics.">RSHMoon</a>. </dd></dl>

<p class="reference">References <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___aerospace_utils_functions.html#gae553301ab93e8b26f8932a24c3358afe">LatLonToR()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography()</a>, <a class="el" href="#ga8ef2b13e126b4fb028db4948c5c270d8">LunarVisibility()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___common_functions.html#gaed5cd0deed75ce326b40bf785ba68462">Map()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="group___orbit_functions.html#gad018c1bbf59d9195a22f533fff47e4e4">RPRA2AE()</a>, <a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80">RSHMoon()</a>, <a class="el" href="group___orbit_functions.html#ga69b82953888de99ee146a72f065b3b71">RVOrbGen()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga5a563395c19144a488067c52e46b444e">U2RADec()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, <a class="el" href="group___common_functions.html#ga1238b8454ce3ae528a478c183bd67bd9">Watermark()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga8ef2b13e126b4fb028db4948c5c270d8">LunarVisibility()</a>.</p>

</div>
</div>
<a id="gac7b9f3002bc7c8c3aaed39680c108143" name="gac7b9f3002bc7c8c3aaed39680c108143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7b9f3002bc7c8c3aaed39680c108143">&#9670;&#160;</a></span>MoonECIElements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function MoonECIElements </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the state of the moon from a single epoch to compute elements. Type MoonECIElements for a comparison with MoonV1 and MoonV2.</p>
<h2><a class="anchor" id="autotoc_md5747"></a>
Form</h2>
<p>[el, jD] = MoonECIElements</p>
<h2><a class="anchor" id="autotoc_md5748"></a>
Inputs</h2>
<p>None</p>
<h2><a class="anchor" id="autotoc_md5749"></a>
Outputs</h2>
<p>el (1,6) [a i W w e M] jD (1,1) Epoch of elements</p>
<p>Reference: JPL Horizons, <a href="https://ssd.jpl.nasa.gov/horizons.cgi">https://ssd.jpl.nasa.gov/horizons.cgi</a> (2020) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#gac7b9f3002bc7c8c3aaed39680c108143">MoonECIElements()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="group___s_c_functions.html#ga977b5ab135272b047731e80e5143c39b">MoonV2()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="group___orbit_functions.html#gaee6c6852bd96912c362c6ae013c37528">RV2El()</a>, <a class="el" href="group___orbit_functions.html#ga69b82953888de99ee146a72f065b3b71">RVOrbGen()</a>, and <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac7b9f3002bc7c8c3aaed39680c108143">MoonECIElements()</a>.</p>

</div>
</div>
<a id="gaa5bb3ee371fd474a4b00452baf1bbb77" name="gaa5bb3ee371fd474a4b00452baf1bbb77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5bb3ee371fd474a4b00452baf1bbb77">&#9670;&#160;</a></span>MoonRot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function MoonRot </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mean is the default type.</p>
<p>Type MoonRot for a demo.</p>
<h2><a class="anchor" id="autotoc_md5750"></a>
Form</h2>
<p>[g, omega] = MoonRot( jD, type )</p>
<h2><a class="anchor" id="autotoc_md5751"></a>
Inputs</h2>
<p>jD (1,1) Julian Date type (1,4) 'mean' or 'true'</p>
<h2><a class="anchor" id="autotoc_md5752"></a>
Outputs</h2>
<p>g (3,3) ECI To Selenographic omega (3,1) ECI Polar rotation vector</p>
<p>References: Escobal, P. R., Methods of Orbit Determination, Krieger, pp. 413-416. </p>

<p class="reference">References <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gae4b37c437ee4982051de43f7ab332d43">CubeSatLunarEnvironment()</a>, <a class="el" href="group___interplanetary_functions.html#gaa9f235aadea5f9891cf82b4ab88e7f51">FEarthMoonSun()</a>, <a class="el" href="#gaecb3be2f28c7552cca77b1dd9e20c8aa">GravityHelio()</a>, <a class="el" href="#gab920924ba2204150bcf2e137c1cf4f26">LFToECI()</a>, <a class="el" href="#gac88d4ee3a736e5dd251f4fdb44d0213f">LunarPolarOrbit()</a>, <a class="el" href="#gaebad6f1071e3186cde092e72cfe35725">LunarRelativeState()</a>, <a class="el" href="#ga69f4cee66a31964de2e61de6caf88a94">LunarTarget()</a>, <a class="el" href="#ga8ef2b13e126b4fb028db4948c5c270d8">LunarVisibility()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, <a class="el" href="group___optical_navigation_functions.html#gaf404958dea04aff8bf99850c051febd8">OpticalNavLunarLandmarkStar()</a>, <a class="el" href="group___sail_functions.html#ga494a97d53e7b409b8cffff5f71cc9dca">PlanetRot()</a>, <a class="el" href="#ga7f98a58ca3d9304f78972461efe7e4dd">PlotLunarOrbit()</a>, and <a class="el" href="#gadd304cebe9b1d53bc9b8c0be59f45f75">RHSLunarOrbit()</a>.</p>

</div>
</div>
<a id="ga55d318b04001b52d2979d87aaaaed2aa" name="ga55d318b04001b52d2979d87aaaaed2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55d318b04001b52d2979d87aaaaed2aa">&#9670;&#160;</a></span>NoForce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function NoForce </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>varargin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5843"></a>
Form</h2>
<p>[t,f] = NoForce( varargin )</p>
<h2><a class="anchor" id="autotoc_md5844"></a>
Inputs</h2>
<p>None used.</p>
<h2><a class="anchor" id="autotoc_md5845"></a>
Outputs</h2>
<p>t (3,:) Body torque vector (Nm) f (3,:) Body force vector (N) </p>

<p class="reference">References <a class="el" href="#ga55d318b04001b52d2979d87aaaaed2aa">NoForce()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga55d318b04001b52d2979d87aaaaed2aa">NoForce()</a>.</p>

</div>
</div>
<a id="gabe88ace7d9e2d19cbf93058b711f5a3c" name="gabe88ace7d9e2d19cbf93058b711f5a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe88ace7d9e2d19cbf93058b711f5a3c">&#9670;&#160;</a></span>OrbitStateMatrices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function OrbitStateMatrices </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>xF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The matrices are ax = b x is the vector of decision variables or controls The order is [x1;x2;x3;...;xN] where each x is a vector</p>
<p>xI is only used to compute the term mu/R^3. A constant xI is sufficient for most low-altitude landings.</p>
<p>Type OrbitStateMatrices for a demo.</p>
<h2><a class="anchor" id="autotoc_md5777"></a>
Form</h2>
<p>[a,b,xF0,aX,bX] = OrbitStateMatrices( xI, xF, dT, d )</p>
<h2><a class="anchor" id="autotoc_md5778"></a>
Inputs</h2>
<p>x (6,:) States [x;y;z;vX;vY;vZ] xF (6,:) Final desired state [x;y;z;vX;vY;vZ] dT (1,1) Delta time d (.) Data structure describing spacecraft model .beta (1,:) Thrust angle in rv plane .alpha (1,:) Thrust angle out of plane .thrust (1,:) Thrust (N) .accel (1,:) 'constant' or 'free' .m0 (1,1) Dry mass .radius (1,1) Planet radius</p>
<h2><a class="anchor" id="autotoc_md5779"></a>
Outputs</h2>
<p>a (6,3*n) Matrix multiplying the decision variables b (6,1) Right hand side xF0 (6,1) Final state without control aX {n} Cell array of state transition matrices bX {n} Cell array of input matrices </p>

<p class="reference">References <a class="el" href="#gabe88ace7d9e2d19cbf93058b711f5a3c">OrbitStateMatrices()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gabe88ace7d9e2d19cbf93058b711f5a3c">OrbitStateMatrices()</a>.</p>

</div>
</div>
<a id="ga3e70c546958113e418d11ce2fb4efd71" name="ga3e70c546958113e418d11ce2fb4efd71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e70c546958113e418d11ce2fb4efd71">&#9670;&#160;</a></span>PlotEMTraj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function PlotEMTraj </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type PlotEMTraj for a demo</p>
<p>Since version 11.</p>
<h2><a class="anchor" id="autotoc_md5867"></a>
Form</h2>
<p>p = PlotEMTraj( r, frame, jD )</p>
<h2><a class="anchor" id="autotoc_md5868"></a>
Inputs</h2>
<p>r (3,:) Trajectory data frame (:) Coordinate frame. May be one of the following: 'EMBRND' Earth-Moon Barycenter Rotating Non-Dim. 'EMBR' Earth-moon Barycenter Rotating 'ECI' Earth-centered Inertial 'MCI' Moon-centered Inertial 'MCR' Moon-centered Rotating</p>
<p>jD (1,1) Julian date time vector</p>
<h2><a class="anchor" id="autotoc_md5869"></a>
Outputs</h2>
<p>None </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___interplanetary_functions.html#ga1241d52d74adcc81c99b7ba09872b306">CRTBPRHS()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga13892bce56af533e7a03f0f540d7ccb8">Dim()</a>, <a class="el" href="#gae1d3325631da60079ebd5ee011af115c">EarthMoonSystemConstants()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="#ga3e70c546958113e418d11ce2fb4efd71">PlotEMTraj()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___a_c_functions.html#ga36aaf7e58cc8ac695300dd716812b8de">Trajectory()</a>, <a class="el" href="#ga95b3f454972631b8e92aaa22b2a07688">TransformEMBRToECI()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3e70c546958113e418d11ce2fb4efd71">PlotEMTraj()</a>.</p>

</div>
</div>
<a id="ga7f98a58ca3d9304f78972461efe7e4dd" name="ga7f98a58ca3d9304f78972461efe7e4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f98a58ca3d9304f78972461efe7e4dd">&#9670;&#160;</a></span>PlotLunarOrbit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function PlotLunarOrbit </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rECI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>uSun</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>thrust</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>magF</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The terrain magnification factor increases the height of the terrain making it easier to see.</p>
<p>Type PlotLunarOrbit for a demo.</p>
<h2><a class="anchor" id="autotoc_md5870"></a>
Form</h2>
<p>PlotLunarOrbit( rECI, jD, uSun, magF )</p>
<h2><a class="anchor" id="autotoc_md5871"></a>
Inputs</h2>
<p>rECI (3,:) ECI frame orbit (km) jD (1,:) Julian date (day) uSun (3,:) Sun vector thrust (3,:) Thrust Vectors magF (1,1) Terrain magnification factor</p>
<h2><a class="anchor" id="autotoc_md5872"></a>
Outputs</h2>
<p>None </p>

<p class="reference">References <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="group___interplanetary_functions.html#gae6836c61fb65f1b52b2851052fd1ca72">PlanetWithTerrain()</a>, <a class="el" href="#ga7f98a58ca3d9304f78972461efe7e4dd">PlotLunarOrbit()</a>, <a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80">RSHMoon()</a>, <a class="el" href="group___orbit_functions.html#gac5427fbc7e145f25d217366fe07d739d">RVFromKepler()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="group___common_functions.html#gab795a56d3c8e2914aa6b373350006298">TitleS()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, <a class="el" href="group___common_functions.html#ga1238b8454ce3ae528a478c183bd67bd9">Watermark()</a>, <a class="el" href="group___common_functions.html#gadbcf7e8aa884881f6243670a40300e1c">XLabelS()</a>, <a class="el" href="group___common_functions.html#gaa9c18f12794cf2770b2b7d27ed3283a5">YLabelS()</a>, <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>, and <a class="el" href="group___common_functions.html#gafc92f0fef577c8878087a5e830792e81">ZLabelS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga7f98a58ca3d9304f78972461efe7e4dd">PlotLunarOrbit()</a>.</p>

</div>
</div>
<a id="gaba7fd581a5441ce9e25603d67e5d3e2a" name="gaba7fd581a5441ce9e25603d67e5d3e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba7fd581a5441ce9e25603d67e5d3e2a">&#9670;&#160;</a></span>PlotSEMTraj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function PlotSEMTraj </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The input vectors are in the ECI frame. Has a built-in demo for an orbit <br  />
 with an apogee of 400,000 km, a perigee of 7000 km, and a duration of 5 days.</p>
<p>Type PlotSEMTraj for a demo.</p>
<p>Forms: h = PlotSEMTraj( r, frame, jD )</p>
<h2><a class="anchor" id="autotoc_md5873"></a>
Inputs</h2>
<p>r (3,:) position vectors (km) frame (1,1) frame of r 'SEMRND', 'SEMR', 'ECI' jD (:) Julian dates</p>
<h2><a class="anchor" id="autotoc_md5874"></a>
Outputs</h2>
<p>h (1,1) Figure handle </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___interplanetary_functions.html#ga1241d52d74adcc81c99b7ba09872b306">CRTBPRHS()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="#gaba7fd581a5441ce9e25603d67e5d3e2a">PlotSEMTraj()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___a_c_functions.html#ga36aaf7e58cc8ac695300dd716812b8de">Trajectory()</a>, and <a class="el" href="group___common_functions.html#ga1238b8454ce3ae528a478c183bd67bd9">Watermark()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaba7fd581a5441ce9e25603d67e5d3e2a">PlotSEMTraj()</a>.</p>

</div>
</div>
<a id="ga248857f404f7d083ff8685aa080fd37e" name="ga248857f404f7d083ff8685aa080fd37e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga248857f404f7d083ff8685aa080fd37e">&#9670;&#160;</a></span>PropagateState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function PropagateState </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>beta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5780"></a>
Form</h2>
<p>xP = PropagateState( x, beta, dT, d )</p>
<h2><a class="anchor" id="autotoc_md5781"></a>
Inputs</h2>
<p>x (4,:) Initial state [x;y;vX;vY] beta (1,:) Thrust angle (rad) dT (1,:) Delta time for each step d (.) Data structure describing spacecraft model .a (1,1) Thrust acceleration (m/s^2) .g (1,1) Gravitation acceleration (m/s^2) .n (1,1) Number of steps</p>
<h2><a class="anchor" id="autotoc_md5782"></a>
Outputs</h2>
<p>xP (4,:) State</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___s_c_functions.html#gaeaff1d39a1db8228a65b647fadc545d9" title="Right-hand-side for a 2 dimensional planet takeoff.">RHSPlanetTakeoff</a>, <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2" title="Fourth order Runge-Kutta.">RK4</a> </dd></dl>

<p class="reference">References <a class="el" href="#ga248857f404f7d083ff8685aa080fd37e">PropagateState()</a>, <a class="el" href="group___s_c_functions.html#gaeaff1d39a1db8228a65b647fadc545d9">RHSPlanetTakeoff()</a>, <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2">RK4()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga248857f404f7d083ff8685aa080fd37e">PropagateState()</a>, and <a class="el" href="#gab625ddb779bafcbeeaf2f9274b5d16bf">Simulate2DLanding()</a>.</p>

</div>
</div>
<a id="ga8c53cb5f9afb6ec7b53c1112b781752f" name="ga8c53cb5f9afb6ec7b53c1112b781752f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c53cb5f9afb6ec7b53c1112b781752f">&#9670;&#160;</a></span>PropagateState3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function PropagateState3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Propagate the state with RHSPlanet3D and RK4 for the given control angles. If the fuel mass becomes negative, thrust is set to zero.</p>
<h2><a class="anchor" id="autotoc_md5783"></a>
Form</h2>
<p>xP = PropagateState3D( x, dT, d )</p>
<h2><a class="anchor" id="autotoc_md5784"></a>
Inputs</h2>
<p>x (7,1) Initial state [x;y;z;vX;vY;vZ;m] dT (1,:) Delta time for each step d (.) Data structure describing spacecraft model .beta (1,:) Thrust angle in rv plane .alpha (1,:) Thrust angle out of plane .thrust (1,:) Thrust (N) .accel (1,:) 'constant' or 'free' .m0 (1,1) Dry mass .n (1,1) Number of steps to simulate .nG (1,1) Multiplier of 'g', gravity, for 'constant'</p>
<h2><a class="anchor" id="autotoc_md5785"></a>
Outputs</h2>
<p>xP (7,:) State</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3" title="Cartesian orbital equations in a planet fixed (rotating) frame.">RHSPlanet3D</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#ga8c53cb5f9afb6ec7b53c1112b781752f">PropagateState3D()</a>, <a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3">RHSPlanet3D()</a>, <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2">RK4()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga8c53cb5f9afb6ec7b53c1112b781752f">PropagateState3D()</a>, and <a class="el" href="#ga1f1369cf17140181dfa0bba83eda1dae">Simulate3DLanding()</a>.</p>

</div>
</div>
<a id="ga30b7a141b30c5bf2cd954e16501d7387" name="ga30b7a141b30c5bf2cd954e16501d7387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30b7a141b30c5bf2cd954e16501d7387">&#9670;&#160;</a></span>RHSLunarLander()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSLunarLander </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a rigid body with an external force and torque input. The position is in km. The gravity model is for a point mass. The force and torque area constant across the integration time step.</p>
<p>The function fDist (which should be a pointer) is of the form</p>
<p>[force, torque] = MyFun( x, t, d )</p>
<p>You can add additional fields to d. force must be in N in the body frame and torque in Nm in the body frame. This function allows you to add forces and torques within the integration loop. This is required for forces and torques that are functions of time or the state vector.</p>
<h2><a class="anchor" id="autotoc_md5846"></a>
Form</h2>
<p>xDot = RHSLunarLander( x, t, d )</p>
<h2><a class="anchor" id="autotoc_md5847"></a>
Inputs</h2>
<p>x (20,1) State vector [r;v;q;w;m;inertia] (km,km/s,,rad/s,kg,kg-m^2) t (1,1) Time (s) d (1,1) Data structure for the simulation .torque (3,1) External torque (Nm) .thrust (1,1) Engine Thrust (N) .uThrust (3,1) Unit vector in the body frame .rThrust (3,1) Thrust position in the body frame .inertia (3,3) Vehicle inertia (kg-m^2) .inertia (3,3) Vehicle inertia (kg-m^2) .massDry (1,1) Vehicle dry mass (kg) .aGrav (1,1) Pointer to gravity function</p>
<h2><a class="anchor" id="autotoc_md5848"></a>
Outputs</h2>
<p>xDot (:,1) dx/dt </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="group___math_functions.html#gaab396bfd5113653d6da20f95bf4f85de">Euler()</a>, <a class="el" href="group___common_functions.html#gad9cd05ee0fe34d133490710851868f82">JD2000()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___aerospace_utils_functions.html#gacf52a16c0876f27b44b4b72354b1f0a0">QIToBDot()</a>, <a class="el" href="group___common_functions.html#ga8225cf186f4bd8843a219b98f1d08d75">QTForm()</a>, <a class="el" href="#ga30b7a141b30c5bf2cd954e16501d7387">RHSLunarLander()</a>, <a class="el" href="group___math_functions.html#gaee657ec6641275a2624dbb8113c0d5ad">Skew()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga774d87b1bed1eaf7b10bd2c23313dbe5">LunarLandingControl()</a>, and <a class="el" href="#ga30b7a141b30c5bf2cd954e16501d7387">RHSLunarLander()</a>.</p>

</div>
</div>
<a id="gad47da6d214196f728d6e4c6a8febcd3e" name="gad47da6d214196f728d6e4c6a8febcd3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad47da6d214196f728d6e4c6a8febcd3e">&#9670;&#160;</a></span>RHSLunarMission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSLunarMission </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Includes solar disturbances and the power model. Any number of reaction wheels can be simulated. Reaction wheels are optional. It also includes states for the IMU (gyro and accelerometer) bias.</p>
<ul>
<li><p class="startli">The gravity model includes the Earth, Sun and the Moon.</p>
<p class="startli">The Moon gravity model can have spherical harmonics.</p>
</li>
<li><p class="startli">The solar power model includes eclipses due to the Moon and Earth</p>
<p class="startli">but not self-shadowing.</p>
</li>
</ul>
<p>You can select the Moon or Earth as the coordinate center for orbit propagation. Get the default data structure by typing:</p>
<p>d = RHSLunarMission</p>
<p>Set up the state name output by typing:</p>
<p>RHSLunarMission( x );</p>
<p>You must initialize the JPL ephemerides prior to using this function. Type:</p>
<p>PlanetPosJPL( 'initialize', [0 3 10] );</p>
<p>Forms: d = RHSLunarMission; % data structure RHSLunarMission( x ); % initialize persistent variables [xDot, p] = RHSLunarMission( x, t, d )</p>
<h2><a class="anchor" id="autotoc_md5849"></a>
Inputs</h2>
<p>x (:,1) State [rECI;vECI;qECIToBody;omega;massFuel;pBattery; iMUBiasAccel;iMUBiasGyro;omegaRWA] t (1,1) Time d (.) Data structure .jD0 (1,1) Julian date of epoch .mass (1,1) Spacecraft mass (kg) .inertia (3,3) Spacecraft inertia (kg-m2) .power (.) Power data, see SolarCellPower .opticalModel * Handle, see CubeSatRadiationPressure .surfData (.) optional; empty to skip optical calcs .thruster (.) .rWA (.) .iMU (.) .gravity (.) .forceBody (3,1) Body forces (N) .torqueBody (3,1) Body torques (Nm)</p>
<h2><a class="anchor" id="autotoc_md5850"></a>
Outputs</h2>
<p>xDot (:,1) dx/dt p (.) Data structure with internally computed variables </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="#gae4b37c437ee4982051de43f7ab332d43">CubeSatLunarEnvironment()</a>, <a class="el" href="group___cube_sat_functions.html#ga08335e986bcf5367f3e9af9417961132">CubeSatRadiationPressure()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="group___math_functions.html#gad7827b39ad5b85e6c86f228586fbe7c7">DupVect()</a>, <a class="el" href="group___s_c_functions.html#gaa28f80def013b77a0eb7a7c4aad6b18c">IMU()</a>, <a class="el" href="group___cube_sat_functions.html#ga9b602d2ed0f1473fe83bd71472e45bb5">InertiaCubeSat()</a>, <a class="el" href="_core_2_common_2_help_2_file_help_8m.html#a532de5881ce1058a73a4636d8713c409">Initialize()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___interplanetary_functions.html#ga8c8ba5650a56a6046dc40aa002e4caca">PlanetPosJPL()</a>, <a class="el" href="group___common_functions.html#gae560a4e0a6618f9759193ce6956e9c0b">QForm()</a>, <a class="el" href="group___aerospace_utils_functions.html#gacf52a16c0876f27b44b4b72354b1f0a0">QIToBDot()</a>, <a class="el" href="group___common_functions.html#ga8225cf186f4bd8843a219b98f1d08d75">QTForm()</a>, <a class="el" href="#gad47da6d214196f728d6e4c6a8febcd3e">RHSLunarMission()</a>, <a class="el" href="group___math_functions.html#gaee657ec6641275a2624dbb8113c0d5ad">Skew()</a>, and <a class="el" href="group___cube_sat_functions.html#ga07f836098f19f235de32c518fdeb8b43">SolarCellPower()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gad47da6d214196f728d6e4c6a8febcd3e">RHSLunarMission()</a>.</p>

</div>
</div>
<a id="gadd304cebe9b1d53bc9b8c0be59f45f75" name="gadd304cebe9b1d53bc9b8c0be59f45f75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd304cebe9b1d53bc9b8c0be59f45f75">&#9670;&#160;</a></span>RHSLunarOrbit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSLunarOrbit </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements only orbit dynamics. The Moon gravity model can have spherical harmonics. Get the default data structure by typing:</p>
<p>d = RHSLunarOrbit</p>
<p>Set up the state name output by typing:</p>
<p>RHSLunarOrbit( x );</p>
<h2><a class="anchor" id="autotoc_md5851"></a>
Form</h2>
<p>d = RHSLunarOrbit % data structure RHSLunarOrbit( x ); % initialize persistent variables [xDot, p] = RHSLunarOrbit( x, t, d )</p>
<h2><a class="anchor" id="autotoc_md5852"></a>
Inputs</h2>
<p>x (:,1) [rECI;vECI;m] t (1,1) Time d (.) Data structure</p>
<h2><a class="anchor" id="autotoc_md5853"></a>
Outputs</h2>
<p>xDot (:,1) dx/dt p (.) Data structure with internally computed variables </p>

<p class="reference">References <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gaa5bb3ee371fd474a4b00452baf1bbb77">MoonRot()</a>, and <a class="el" href="#gadd304cebe9b1d53bc9b8c0be59f45f75">RHSLunarOrbit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gadd304cebe9b1d53bc9b8c0be59f45f75">RHSLunarOrbit()</a>.</p>

</div>
</div>
<a id="gafce2663feb9f95ff4948bf57a8196de3" name="gafce2663feb9f95ff4948bf57a8196de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafce2663feb9f95ff4948bf57a8196de3">&#9670;&#160;</a></span>RHSPlanet3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSPlanet3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>ignoredArg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The gravity function returns the gravitational accelerations in the planet fixed frame. It must be of the form</p>
<p>a = GravFun( r, gFunData )</p>
<p>where a is in the planet fixed frame. d.mu is not used in this case. The planet rotation is around the ECI z axis. The default data structure is for the the moon.</p>
<h2><a class="anchor" id="autotoc_md5786"></a>
Form</h2>
<p>xDot = RHSPlanet3D( x, ~, d )</p>
<h2><a class="anchor" id="autotoc_md5787"></a>
Inputs</h2>
<p>x (7,1) State [r;v;m], where m is fuel mass t (1,1) Time (not used) d (.) Data structure .mu (1,1) Gravitational constant .gFun (@) Handle to the gravity function .gFunData (.) Gravity function data structure .omega (1,1) Planet rotation rate .uThrust (3,1) Unit thrust vector .thrust (1,1) Thrust (N) .uE (1,1) Exhaust velocity (m/s) .m0 (1,1) Dry mass, total mass is m0 + m</p>
<h2><a class="anchor" id="autotoc_md5788"></a>
Outputs</h2>
<p>xDot (7,1) State derivative [r;v;m] </p>

<p class="reference">References <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3">RHSPlanet3D()</a>, <a class="el" href="group___math_functions.html#gaee657ec6641275a2624dbb8113c0d5ad">Skew()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga37c98b8e32ba253d0145c0e19ec32fe4">LandingConst3D()</a>, <a class="el" href="#ga8c53cb5f9afb6ec7b53c1112b781752f">PropagateState3D()</a>, <a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3">RHSPlanet3D()</a>, <a class="el" href="group___optical_navigation_functions.html#gaafe332bcb07fe850b69e4b14fb1e1405">RHSPlanet3DONS()</a>, and <a class="el" href="#gaa68a04498618c48a7ea9f45f0abad87c">RHSPlanet3DToAB()</a>.</p>

</div>
</div>
<a id="gaa68a04498618c48a7ea9f45f0abad87c" name="gaa68a04498618c48a7ea9f45f0abad87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa68a04498618c48a7ea9f45f0abad87c">&#9670;&#160;</a></span>RHSPlanet3DToAB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSPlanet3DToAB </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is for the function RHSPlanet3D. If aL is entered it will use an analytical solution for a spherical planet. The mass state equation is not output. b multiplies the acceleration vector.</p>
<p>Type RHSPlanet3DToAB for a demo.</p>
<h2><a class="anchor" id="autotoc_md5789"></a>
Form</h2>
<p>[a,b,aC] = RHSPlanet3DToAB( x, d, dT )</p>
<h2><a class="anchor" id="autotoc_md5790"></a>
Inputs</h2>
<p>x (6,1) [r;v] (km/km/s) d (.) Data structure for RHSPlanet3D dT (1,1) Time step</p>
<h2><a class="anchor" id="autotoc_md5791"></a>
Outputs</h2>
<p>a (6,6) State transition matrix b (6,3) Input matrix aC (6,6) Continuous </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga0ee2479514c20b080efd2a2b476890ff">C2DZOH()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga30f21394054c6687e19692593828e6d8">DispWithTitle()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="#gafce2663feb9f95ff4948bf57a8196de3">RHSPlanet3D()</a>, <a class="el" href="#gaa68a04498618c48a7ea9f45f0abad87c">RHSPlanet3DToAB()</a>, <a class="el" href="group___math_functions.html#gaee657ec6641275a2624dbb8113c0d5ad">Skew()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaa68a04498618c48a7ea9f45f0abad87c">RHSPlanet3DToAB()</a>.</p>

</div>
</div>
<a id="ga9b45c07e89a3caf53cdbac3373dd4dea" name="ga9b45c07e89a3caf53cdbac3373dd4dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b45c07e89a3caf53cdbac3373dd4dea">&#9670;&#160;</a></span>RHSRVPlanetFixed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSRVPlanetFixed </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>You can pass in user defined thrust functions via d.funThrust and gravitational acceleration functions via d.funGrav</p>
<p>[thrust,uE] = Thrust( massFuel, d )</p>
<p>thrust must be in N and uE in m/s. and custom gravitational acceleration functions for d.gFun; accelGrav is in km/s^2:</p>
<p>accelGrav = Gravity( x, d )</p>
<p>If gFun is not a pointer it is assumed to be the gravitational constant.</p>
<p>Type RHSRVPlanetFixed for the default data structure.</p>
<h2><a class="anchor" id="autotoc_md5854"></a>
Form</h2>
<p>xDot = RHSRVPlanetFixed( x, t, d ) d = RHSRVPlanetFixed; % data structure</p>
<h2><a class="anchor" id="autotoc_md5855"></a>
Inputs</h2>
<p>x (7,1) [r;v;massFuel] t (1,1) Time (s) d (.) Data structure .funThrust @ Thrust function handle .dataFunThrust (.) Thrust function data .rVStruct (.) Data for orbit RHS function .massDry (1,1) Dry mass (kg)</p>
<h2><a class="anchor" id="autotoc_md5856"></a>
Outputs</h2>
<p>x (7,1) d[r;v;massFuel]/dt</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="#ga35c2236445a6425a86d940a47f7e24c1" title="Returns thrust and exhaust velocity for a rocket engine.">FThrustLander</a>, <a class="el" href="group___orbit_functions.html#gad1a232251ac430ebada63970712d8019" title="Cartesian orbital equations in a planet fixed (rotating) frame.">RHSOrbitPlanetFixed</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="#ga35c2236445a6425a86d940a47f7e24c1">FThrustLander()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___orbit_functions.html#gad1a232251ac430ebada63970712d8019">RHSOrbitPlanetFixed()</a>, and <a class="el" href="#ga9b45c07e89a3caf53cdbac3373dd4dea">RHSRVPlanetFixed()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga9b45c07e89a3caf53cdbac3373dd4dea">RHSRVPlanetFixed()</a>.</p>

</div>
</div>
<a id="ga0d92e778ca7cf876dc541b51cef5564c" name="ga0d92e778ca7cf876dc541b51cef5564c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d92e778ca7cf876dc541b51cef5564c">&#9670;&#160;</a></span>RHSSGCMG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSSGCMG </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>ignoredArg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This has a built-in speed controller for the CMG wheel. It can handle any number of CMGs but the default is three.</p>
<h2><a class="anchor" id="autotoc_md5669"></a>
Form</h2>
<p>[xDot,hECI,inr] = RHSSGCMG(x,~,d)</p>
<h2><a class="anchor" id="autotoc_md5670"></a>
Inputs</h2>
<p>x (7+2*n) [q;omega;omegaCMG(2*n,1)] t (1,1) Time (not used) d (.) Data structure .omegaS (1,1) CMG wheel setpoint .inr (3+2*n,3+2*n) Inertia matrix (for 3 CMGs) (kg-m^2) .inrCMG (3,3) Inertia matrix for CMG (2-axis) (kg-m^2) .kC (1,1) Rate control gain (Nm-s) .torque (3,1) External torque (Nm) .tC (n,1) CMG gimbal torque (Nm)</p>
<h2><a class="anchor" id="autotoc_md5671"></a>
Outputs</h2>
<p>xDot (7+2*n) d[q;omega;omegaCMG(2*n,1)]/dt hECI (3,1) ECI momentum (Nms) inr (3+2*n,3+2*n) Inertia matrix (kg-m^2) </p>

<p class="reference">References <a class="el" href="group___s_c_functions.html#ga9b22840f9a5abfb9a45baf6b65612033">CMG()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="ga1a02508da8f4f35a5b52ea96f1de14db" name="ga1a02508da8f4f35a5b52ea96f1de14db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a02508da8f4f35a5b52ea96f1de14db">&#9670;&#160;</a></span>RHSTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RHSTrajectory </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This model explicitly includes the moon. You must initialize the JPL ephemerides before running this function.</p>
<p>PlanetPosJPL( 'initialize', planets );</p>
<p>Planets contains the JPL ephemeris ids from 1 to 11. The force model must be of the form f = ForceModel( r, v, d ) where d can be any data structure. f is the force vector in N in the ECI frame.</p>
<h2><a class="anchor" id="autotoc_md5857"></a>
Form</h2>
<p>d = RHSTrajectory; % Get the default data structure RHSTrajectory( x ); % initialize persistent variables [xDot, p] = RHSTrajectory( x, t, d ); % Call during simulation</p>
<h2><a class="anchor" id="autotoc_md5858"></a>
Inputs</h2>
<p>x (6*n,1) State [r;v] for n bodies t (1,1) Time since start date d (.) Date .jD0 (1,1) Julian date at start .mu (1,1) Sun gravitational parameter .planets (1,:) Planet IDs. .object (:) Data structures for object .mass (1,1) Mass .forceModel (.) Force model structure .gravity (.) Gravity model structure .cM (3,1) Center of mass</p>
<h2><a class="anchor" id="autotoc_md5859"></a>
Outputs</h2>
<p>xDot (6*n,:) State derivative d[r;v]/dt p {} Auxiliary outputs</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___interplanetary_functions.html#ga8c8ba5650a56a6046dc40aa002e4caca" title="Get positions for an array of planets using the JPL ephemeris.">PlanetPosJPL</a>, <a class="el" href="#ga8203eb3df56e930aa3f558a29a7282e3" title="Simple thruster force model for orbit simulations.">ForceSimple</a>, <a class="el" href="#gaecb3be2f28c7552cca77b1dd9e20c8aa" title="Calculate the heliocentric gravity for the position and date.">GravityHelio</a>, <a class="el" href="#ga55d318b04001b52d2979d87aaaaed2aa" title="Thruster force model producing zero force.">NoForce</a> </dd></dl>

<p class="reference">References <a class="el" href="group___s_c_functions.html#ga8fe20fb457c3cc21e0f117e9aac97b2a">Planets()</a>, <a class="el" href="#ga1a02508da8f4f35a5b52ea96f1de14db">RHSTrajectory()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga1a02508da8f4f35a5b52ea96f1de14db">RHSTrajectory()</a>.</p>

</div>
</div>
<a id="gaa3e662d1a3088b44c98fffe310279a80" name="gaa3e662d1a3088b44c98fffe310279a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3e662d1a3088b44c98fffe310279a80">&#9670;&#160;</a></span>RSHMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function RSHMoon </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lambda</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type RSHMoon for a demo.</p>
<p>This uses Clementine data. The highest harmonic is 72.</p>
<p>If s and c are not entered it will load the lunar surface coefficients each time is called. You can load the coefficients yourself using</p>
<p>[s,c] = LoadLunarTopography( nH );</p>
<h2><a class="anchor" id="autotoc_md5735"></a>
Form</h2>
<p>[r, lambda, theta] = RSHMoon( nH, lambda, theta, s, c )</p>
<h2><a class="anchor" id="autotoc_md5736"></a>
Inputs</h2>
<p>nH (1,1) Highest harmonic lambda (j) Equatorial angle theta (i) Angle from pole s (:,:) Normalized sine coefficients c (:,:) Normalized cosine coefficients</p>
<h2><a class="anchor" id="autotoc_md5737"></a>
Outputs</h2>
<p>r (i,j) Radius lambda (j) Equatorial angle theta (i) Angle from pole</p>
<p>Reference: Smith, D. E., Zuber, M. T., Neumann, G. A., "Topography of the
Moon from the Clementine lidar", Journal of Geophysical Research, Vol. 102, No. E1, pp. 1591-1611, January 25, 1997. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#gad7827b39ad5b85e6c86f228586fbe7c7">DupVect()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#gaaad4d34222d7f1f75871457b025a9a69">LoadLunarTopography()</a>, <a class="el" href="group___common_functions.html#gab9e66b3f3b474a97fc6621b72099bb16">Mesh2()</a>, <a class="el" href="group___math_functions.html#ga225039f64ec07670c7657da575c73e99">PAL()</a>, <a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80">RSHMoon()</a>, <a class="el" href="group___math_functions.html#ga7c97ad8e6199d63e90b44715f8255779">SCHarm()</a>, <a class="el" href="group___common_functions.html#ga1238b8454ce3ae528a478c183bd67bd9">Watermark()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga8ef2b13e126b4fb028db4948c5c270d8">LunarVisibility()</a>, <a class="el" href="group___interplanetary_functions.html#gae6836c61fb65f1b52b2851052fd1ca72">PlanetWithTerrain()</a>, <a class="el" href="group___interplanetary_functions.html#gad39bc9784aa661c7aa5bbf790ea16eec">PlanetWithTerrainPatch()</a>, <a class="el" href="#ga7f98a58ca3d9304f78972461efe7e4dd">PlotLunarOrbit()</a>, and <a class="el" href="#gaa3e662d1a3088b44c98fffe310279a80">RSHMoon()</a>.</p>

</div>
</div>
<a id="ga80b4131e537a8abb2cf0450c7df29380" name="ga80b4131e537a8abb2cf0450c7df29380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80b4131e537a8abb2cf0450c7df29380">&#9670;&#160;</a></span>SecondOrderGuidance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SecondOrderGuidance </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses a 2nd order controller to provide guidance for landing. Demonstrated in a cartesian system with x along vertical. Includes centripetal and gravitational acceleration.</p>
<p>'initialize' computes the time to land from the tolerance. 'update' updates the control accelerations.</p>
<p>You generally want zeta to be 1. Lower omegas will reduce the control accelerations. An omega of 0.01 gives roughly the Apollo LM landing guidance. If it is much lower you can overshoot and then have to return to the landing site.</p>
<p>Type SecondOrderGuidance for a demo. The demo is in cartesian coordinates with gravity and centripetal acceleration along x.</p>
<h2><a class="anchor" id="autotoc_md5792"></a>
Form</h2>
<p>a = SecondOrderGuidance( action, x, d )</p>
<h2><a class="anchor" id="autotoc_md5793"></a>
Inputs</h2>
<p>action (1,:) 'initialize' or 'update' x (6,1) State [r;v] d (.) Data structure .x (6,1) Target [r;v] .tol (1,1) Tolerance for damping .zeta (1,1) Damping ratio .omega (1,1) Undamped natural frequency (rad/s) .t (1,1) Time to damp .rP (1,1) Equatorial radius .mu (1,1) Gravitational constant</p>
<h2><a class="anchor" id="autotoc_md5794"></a>
Outputs</h2>
<p>a (3,:) Control accelerations </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2">RK4()</a>, <a class="el" href="#ga80b4131e537a8abb2cf0450c7df29380">SecondOrderGuidance()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="group___a_c_functions.html#ga36aaf7e58cc8ac695300dd716812b8de">Trajectory()</a>, <a class="el" href="group___common_functions.html#gadbcf7e8aa884881f6243670a40300e1c">XLabelS()</a>, <a class="el" href="group___common_functions.html#gaa9c18f12794cf2770b2b7d27ed3283a5">YLabelS()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga80b4131e537a8abb2cf0450c7df29380">SecondOrderGuidance()</a>, and <a class="el" href="#ga96bfff8315d3e7b0ee26352242829550">SecondOrderGuidance3D()</a>.</p>

</div>
</div>
<a id="ga96bfff8315d3e7b0ee26352242829550" name="ga96bfff8315d3e7b0ee26352242829550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96bfff8315d3e7b0ee26352242829550">&#9670;&#160;</a></span>SecondOrderGuidance3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SecondOrderGuidance3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses a 2nd order controller to provide guidance for landing. Demonstrated in a cartesian system.</p>
<p>'initialize' computes the time to land from the tolerance. 'update' updates the control accelerations.</p>
<p>You generally want zeta to be 1. Lower omegas will reduce the control accelerations. An omega of 0.01 gives roughly the Apollo LM landing guidance. If it is much lower you can overshoot and then have to return to the landing site.</p>
<p>Type SecondOrderGuidance3D for a demo of lunar landing. This replicates the demo in SecondOrderGuidance.</p>
<h2><a class="anchor" id="autotoc_md5795"></a>
Form</h2>
<p>d = SecondOrderGuidance3D a = SecondOrderGuidance3D( action, x, d )</p>
<h2><a class="anchor" id="autotoc_md5796"></a>
Inputs</h2>
<p>action (1,:) 'initialize' or 'update' x (6,1) State [r;v] d (.) Data structure .x (6,1) Target [r;v] .tol (1,1) Tolerance for damping .zeta (1,1) Damping ratio .omega (1,1) Undamped natural frequency (rad/s) .t (1,1) Time to damp .rP (1,1) Equatorial radius .mu (1,1) Gravitational constant</p>
<h2><a class="anchor" id="autotoc_md5797"></a>
Outputs</h2>
<p>a (3,:) Control accelerations </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___aerospace_utils_functions.html#gad58e97876da08913c7201e00784c9a6b">DownrangeAndAltFromTarget()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="group___math_functions.html#ga0effcdde6bb79d7705aef465a7f987c2">RK4()</a>, <a class="el" href="#ga80b4131e537a8abb2cf0450c7df29380">SecondOrderGuidance()</a>, <a class="el" href="#ga96bfff8315d3e7b0ee26352242829550">SecondOrderGuidance3D()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga8f85f5e4dbb1b3f750639affdd3ed006">TargetFromRPVD()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga96bfff8315d3e7b0ee26352242829550">SecondOrderGuidance3D()</a>.</p>

</div>
</div>
<a id="gaeff4a91d798df80ecc4c2add0fd752d6" name="gaeff4a91d798df80ecc4c2add0fd752d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeff4a91d798df80ecc4c2add0fd752d6">&#9670;&#160;</a></span>SEMGravAcc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SEMGravAcc </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEM</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The position is in the Sun-Earth/Moon frame.</p>
<p>Type SEMGravAcc for a built-in demo creating gravity contour plots.</p>
<p>Since version 10.</p>
<h2><a class="anchor" id="autotoc_md5860"></a>
Form</h2>
<p>[gSun,gEM,gCompare] = SEMGravAcc( rSEM )</p>
<h2><a class="anchor" id="autotoc_md5861"></a>
Inputs</h2>
<p>rSEM (2,:) Position vector in SEM frame</p>
<h2><a class="anchor" id="autotoc_md5862"></a>
Outputs</h2>
<p>gSun (:,:) Gravitational acceleration due to the Sun gEM (:,:) Gravitational acceleration due to the Earth/Moon gCompare (:,:) gEM/gSun </p>

<p class="reference">References <a class="el" href="group___s_c_functions.html#ga90fafa33cf2087052ef44641145a45c6">Accel()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga744659571504739313271c967d5c3043">NewFig()</a>, <a class="el" href="#gaeff4a91d798df80ecc4c2add0fd752d6">SEMGravAcc()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaeff4a91d798df80ecc4c2add0fd752d6">SEMGravAcc()</a>.</p>

</div>
</div>
<a id="ga1503d7880bbf37ed1a853e6a9e3da436" name="ga1503d7880bbf37ed1a853e6a9e3da436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1503d7880bbf37ed1a853e6a9e3da436">&#9670;&#160;</a></span>SEMIToSEMR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SEMIToSEMR </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transform position and velocity from inertial heliocentric frame to the Sun-Earth/Moon barycentered rotating frame.</p>
<p>The SEMR coordinate frame has xy in the ecliptic plane.</p>
<p>+x points at the earth along the Sun-Earth line. +z normal to the ecliptic plane +y completes the right-handed system.</p>
<p>Uses an analytic formula for the ecliptic longitude to define the rotation in the xy plane. Uses a constant value of the Earth rotation rate around the sun to transform the velocity.</p>
<h2><a class="anchor" id="autotoc_md5689"></a>
Form</h2>
<p>[rSEMR,vSEMR,m] = SEMIToSEMR( jD, rSEMI, vSEMI )</p>
<h2><a class="anchor" id="autotoc_md5690"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days) rSEMI (3,:) Position vector in SEMI frame <br  />
 vSEMI (3,:) Velocity vector in SEMI frame <br  />
</p>
<h2><a class="anchor" id="autotoc_md5691"></a>
Outputs</h2>
<p>rSEMR (6,:) Position vector in SEMR frame vSEMR (6,:) Velocity vector in SEMR frame m {:} Rotation matrix </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="gad9f2ae7ee374094af2a43e7e5f15a69e" name="gad9f2ae7ee374094af2a43e7e5f15a69e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9f2ae7ee374094af2a43e7e5f15a69e">&#9670;&#160;</a></span>SEMRToSEMI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SEMRToSEMI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transform pos. and vel. from Sun-Earth/Moon barycentered rotating frame to inertial heliocentric frame.</p>
<p>The SEMR coordinate frame has xy in the ecliptic plane.</p>
<p>+x points at the earth along the Sun-Earth line. +z normal to the ecliptic plane +y completes the right-handed system.</p>
<p>Uses an analytic formula for the ecliptic longitude to define the rotation in the xy plane. Uses a constant value of the Earth rotation rate around the sun to transform the velocity.</p>
<h2><a class="anchor" id="autotoc_md5692"></a>
Form</h2>
<p>[rSEMI,vSEMI,m] = SEMRToSEMI( jD, rSEMR, vSEMR )</p>
<h2><a class="anchor" id="autotoc_md5693"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days) rSEMR (6,:) Position vector in SEMR frame vSEMR (6,:) Velocity vector in SEMR frame</p>
<h2><a class="anchor" id="autotoc_md5694"></a>
Outputs</h2>
<p>rSEMI (3,:) Position vector in SEMI frame <br  />
 vSEMI (3,:) Velocity vector in SEMI frame <br  />
 m {:} Rotation matrix </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___interplanetary_functions.html#ga2b9fa1ccb1ca198daa5e358969debe41">EarthOrbToHelioOrb()</a>.</p>

</div>
</div>
<a id="ga9c8a35cccfe5051e90112a606384aa82" name="ga9c8a35cccfe5051e90112a606384aa82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c8a35cccfe5051e90112a606384aa82">&#9670;&#160;</a></span>SEMToSEMND()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SEMToSEMND </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale position and velocity in SEM system (rotating or inertial) by distance and velocity units to make non-dimensional</p>
<h2><a class="anchor" id="autotoc_md5695"></a>
Form</h2>
<p>[rND,vND] = SEMToSEMND( r, v )</p>
<h2><a class="anchor" id="autotoc_md5696"></a>
Inputs</h2>
<p>r (3,:) Position vector in EMBR frame <br  />
 v (3,:) Velocity vector in EMBR frame </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="#ga9c8a35cccfe5051e90112a606384aa82">SEMToSEMND()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga9c8a35cccfe5051e90112a606384aa82">SEMToSEMND()</a>.</p>

</div>
</div>
<a id="gab625ddb779bafcbeeaf2f9274b5d16bf" name="gab625ddb779bafcbeeaf2f9274b5d16bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab625ddb779bafcbeeaf2f9274b5d16bf">&#9670;&#160;</a></span>Simulate2DLanding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function Simulate2DLanding </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>beta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5798"></a>
Form</h2>
<p>Simulate2DLanding( t, beta, d, name )</p>
<h2><a class="anchor" id="autotoc_md5799"></a>
Inputs</h2>
<p>t (1,:) Time vector beta (1,:) Thrust angle (rad) d (.) Data structure describing spacecraft model .x (4,1) Initial state (ex. [0;h;-u;0]) .g (1,1) Gravitational acceleration .a (1,1) Thrust acceleration (m/s^2) .n (1,1) Number of steps name '' Name for the plots</p>
<h2><a class="anchor" id="autotoc_md5800"></a>
Outputs</h2>
<p>None</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga248857f404f7d083ff8685aa080fd37e" title="Propagate the 2D state for the landing problem.">PropagateState</a> </dd></dl>

<p class="reference">References <a class="el" href="group___common_functions.html#gadc6a599f9ce46634821bba382ad21ec0">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="quat_8m.html#a3df87fc1b2fd8838b19b3a1721e05ab0">get()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="#ga248857f404f7d083ff8685aa080fd37e">PropagateState()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="group___a_c_functions.html#ga36aaf7e58cc8ac695300dd716812b8de">Trajectory()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="ga1f1369cf17140181dfa0bba83eda1dae" name="ga1f1369cf17140181dfa0bba83eda1dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f1369cf17140181dfa0bba83eda1dae">&#9670;&#160;</a></span>Simulate3DLanding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function Simulate3DLanding </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5801"></a>
Form</h2>
<p>Simulate3DLanding( dT, d, name )</p>
<h2><a class="anchor" id="autotoc_md5802"></a>
Inputs</h2>
<p>dT (1,:) Time step vector d (.) Data structure describing spacecraft model .s0 (7,1) State [x;y;z;vX;vY;vZ;m] .beta (1,:) Thrust angle in rv plane .alpha (1,:) Thrust angle out of plane .thrust (1,:) Thrust (N) .accel '' 'constant' or 'free' name (1,:) Name for the plots</p>
<h2><a class="anchor" id="autotoc_md5803"></a>
Outputs</h2>
<p>None</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="#ga8c53cb5f9afb6ec7b53c1112b781752f" title="Propagate the 3D state for the landing problem.">PropagateState3D</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3" title="Easily build a versatile 2D plot page consisting of any number of plots.">Plot2D</a>, <a class="el" href="group___interplanetary_functions.html#gad39bc9784aa661c7aa5bbf790ea16eec" title="Generate vertices and faces for a planet patch with terrain.">PlanetWithTerrainPatch</a> </dd></dl>

<p class="reference">References <a class="el" href="group___common_functions.html#gadc6a599f9ce46634821bba382ad21ec0">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___interplanetary_functions.html#gad39bc9784aa661c7aa5bbf790ea16eec">PlanetWithTerrainPatch()</a>, <a class="el" href="group___common_functions.html#gad8224b630862781e5b991a2741964ab3">Plot2D()</a>, <a class="el" href="#ga8c53cb5f9afb6ec7b53c1112b781752f">PropagateState3D()</a>, <a class="el" href="group___common_functions.html#gaf96f2212c8decc8858e5f70f81ce5ef3">TimeLabl()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="ga1d15b1f6565d2dae4ac892a21e02cb60" name="ga1d15b1f6565d2dae4ac892a21e02cb60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d15b1f6565d2dae4ac892a21e02cb60">&#9670;&#160;</a></span>SunEarthMoonSystemConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function SunEarthMoonSystemConstants </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Useful for non-dimensionalizing in the Sun-Earth-Moon system.</p>
<p>Since version 11.</p>
<h2><a class="anchor" id="autotoc_md5721"></a>
Form</h2>
<p>d = SunEarthMoonSystemConstants</p>
<h2><a class="anchor" id="autotoc_md5722"></a>
Inputs</h2>
<p>none</p>
<h2><a class="anchor" id="autotoc_md5723"></a>
Outputs</h2>
<p>d (1,1) Data structure output with system constants and fields: .system (1,:) Name of system - 'SEM' .muMoon (1,1) Gravitational parameter of the moon .muEarth (1,1) Gravitational parameter of the Earth .muSun (1,1) Gravitational parameter of the Sun .mu (1,1) Mu of the SEM system .au (1,1) Astronomical unit (km) .L (1,1) Sun/Earth distance = .au .T (1,1) Earth year .Re (1,1) Earth radius .Rm (1,1) Moon radius .Rs (1,1) Sun radius .xL1 (1,1) Earth/Sun L1 distance .xL2 (1,1) Earth/Sun L2 distance .v (1,1) Earth velocity (km/s) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="quat_8m.html#a3df87fc1b2fd8838b19b3a1721e05ab0">get()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, and <a class="el" href="#ga1d15b1f6565d2dae4ac892a21e02cb60">SunEarthMoonSystemConstants()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___interplanetary_functions.html#ga58d6ead5b613b92239e5b322e2157b67">EarthEscape()</a>, <a class="el" href="group___interplanetary_functions.html#ga2b9fa1ccb1ca198daa5e358969debe41">EarthOrbToHelioOrb()</a>, <a class="el" href="group___interplanetary_functions.html#ga0f16fa8d485a193ec38a825a07233cbc">L2OrbitPlots()</a>, <a class="el" href="group___interplanetary_functions.html#ga4c1d73765e85644909c5e81eaf7acd93">L2OrbitSim()</a>, and <a class="el" href="#ga1d15b1f6565d2dae4ac892a21e02cb60">SunEarthMoonSystemConstants()</a>.</p>

</div>
</div>
<a id="gac1ba0d283f26a5427e8c359128c325b9" name="gac1ba0d283f26a5427e8c359128c325b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1ba0d283f26a5427e8c359128c325b9">&#9670;&#160;</a></span>TransformECIToEMBR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function TransformECIToEMBR </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rECI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vECI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>and vel. to Earth Moon barycenter rotating frame.</p>
<p>The EMBR coordinate frame is +x pointing at the earth along the earth-moon line. +z normal to the earth moon plane and +y completing the set. Uses MoonV1. Computes the plane by looking at the moon vector at jD(k) and then 1 day later.</p>
<p>Type</p>
<p>TransformECIToEMBR</p>
<p>for a demo</p>
<p>Since version 10.</p>
<h2><a class="anchor" id="autotoc_md5697"></a>
Form</h2>
<p>[rEMBR,vEMBR,m] = TransformECIToEMBR( jD, rECI, vECI )</p>
<h2><a class="anchor" id="autotoc_md5698"></a>
Inputs</h2>
<p>rECI (6,:) Position vector in ECI frame vECI (6,:) Velocity vector in ECI frame jD (1,:) Julian date (days)</p>
<h2><a class="anchor" id="autotoc_md5699"></a>
Outputs</h2>
<p>rEMBR (6,:) Position vector in EMBR frame <br  />
 vEMBR (6,:) Velocity vector in EMBR frame <br  />
 m {:} Rotation matrix </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="#gac1ba0d283f26a5427e8c359128c325b9">TransformECIToEMBR()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac1ba0d283f26a5427e8c359128c325b9">TransformECIToEMBR()</a>.</p>

</div>
</div>
<a id="ga2a3d4d343c69b8bbd18d9c078e61d4be" name="ga2a3d4d343c69b8bbd18d9c078e61d4be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a3d4d343c69b8bbd18d9c078e61d4be">&#9670;&#160;</a></span>TransformECIToSEMR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function TransformECIToSEMR </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rECI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vECI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>and vel. to Sun-Earth-Moon rotating (SEMR) frame.</p>
<p>The SEMR coordinate frame is +x pointing at the earth along the sun-earth line. +z normal to the sun-earth plane and +y completing the set. Uses CEcl2Eq.</p>
<p>Type</p>
<p>TransformECIToSEMR</p>
<p>for a demo</p>
<p>Since version 10.</p>
<h2><a class="anchor" id="autotoc_md5700"></a>
Form</h2>
<p>[rSEMR,vSEMR,m] = TransformECIToSEMR( jD, rECI, vECI )</p>
<h2><a class="anchor" id="autotoc_md5701"></a>
Inputs</h2>
<p>rECI (6,:) Position vector in ECI frame vECI (6,:) Velocity vector in ECI frame jD (1,:) Julian date (days)</p>
<h2><a class="anchor" id="autotoc_md5702"></a>
Outputs</h2>
<p>rSEMR (6,:) Position vector in SEMR frame <br  />
 vSEMR (6,:) Velocity vector in SEMR frame <br  />
 m {:} Rotation matrix </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#ga33cba71b966fe58eded5f408054905e1">CEcl2Eq()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="#ga2a3d4d343c69b8bbd18d9c078e61d4be">TransformECIToSEMR()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___interplanetary_functions.html#ga2b9fa1ccb1ca198daa5e358969debe41">EarthOrbToHelioOrb()</a>, <a class="el" href="#ga2a3d4d343c69b8bbd18d9c078e61d4be">TransformECIToSEMR()</a>, and <a class="el" href="#gaf6524e9ff58738ce6d938fe295b36105">TransformSEMRToHelio()</a>.</p>

</div>
</div>
<a id="ga95b3f454972631b8e92aaa22b2a07688" name="ga95b3f454972631b8e92aaa22b2a07688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95b3f454972631b8e92aaa22b2a07688">&#9670;&#160;</a></span>TransformEMBRToECI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function TransformEMBRToECI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rEMBR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vEMBR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>and vel. from Earth Moon barycenter rotating frame to ECI</p>
<p>The EMBR coordinate frame is +x pointing at the earth along the earth-moon line. +z normal to the earth moon plane and +y completing the set. Uses MoonV1. Computes the plane by looking at the moon vector at jD(k) and then 1 day later.</p>
<p>Type</p>
<p>TransformEMBRToECI</p>
<p>for a demo</p>
<p>Since version 10.</p>
<h2><a class="anchor" id="autotoc_md5703"></a>
Form</h2>
<p>[xECI,vECI,m] = TransformEMBRToECI( xEMBR, jD )</p>
<h2><a class="anchor" id="autotoc_md5704"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days) rEMBR (3,:) Position vector in EMBR frame <br  />
 vEMBR (3,:) Velocity vector in EMBR frame <br  />
</p>
<h2><a class="anchor" id="autotoc_md5705"></a>
Outputs</h2>
<p>rECI (6,:) Position vector in ECI frame vECI (6,:) Velocity vector in ECI frame m {:} Rotation matrix </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#ga5a3567a1edf813c5d3d811785876f78e">MoonV1()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="#ga95b3f454972631b8e92aaa22b2a07688">TransformEMBRToECI()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3e70c546958113e418d11ce2fb4efd71">PlotEMTraj()</a>, and <a class="el" href="#ga95b3f454972631b8e92aaa22b2a07688">TransformEMBRToECI()</a>.</p>

</div>
</div>
<a id="gaa63c281263b2d72bfe0e4d56b4a05095" name="gaa63c281263b2d72bfe0e4d56b4a05095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa63c281263b2d72bfe0e4d56b4a05095">&#9670;&#160;</a></span>TransformSEMRToECI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function TransformSEMRToECI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SEMR coordinate frame is +x pointing at the earth along the sun-earth line. +z normal to the sun-earth plane and +y completing the set. Uses CEcl2Eq.</p>
<h2><a class="anchor" id="autotoc_md5706"></a>
Form</h2>
<p>[rECI,vECI,m] = TransformSEMRToECI( jD, rSEMR, vSEMR )</p>
<h2><a class="anchor" id="autotoc_md5707"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days) rSEMR (3,:) Position vector in SEMR frame <br  />
 vSEMR (3,:) Velocity vector in SEMR frame</p>
<h2><a class="anchor" id="autotoc_md5708"></a>
Outputs</h2>
<p>rECI (3,:) Position vector in ECI frame vECI (3,:) Velocity vector in ECI frame m {:} Rotation matrix </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#ga33cba71b966fe58eded5f408054905e1">CEcl2Eq()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaf6524e9ff58738ce6d938fe295b36105">TransformSEMRToHelio()</a>.</p>

</div>
</div>
<a id="gaf6524e9ff58738ce6d938fe295b36105" name="gaf6524e9ff58738ce6d938fe295b36105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6524e9ff58738ce6d938fe295b36105">&#9670;&#160;</a></span>TransformSEMRToHelio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function TransformSEMRToHelio </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SEMR coordinate frame is +x pointing at the earth along the sun-earth line. +z normal to the sun-earth plane and +y completing the set.</p>
<p>Type TransformSEMRToHelio for a demo</p>
<h2><a class="anchor" id="autotoc_md5709"></a>
Form</h2>
<p>[rHelio,vHelio,mRot] = TransformSEMRToHelio( jD, rSEMR, vSEMR )</p>
<h2><a class="anchor" id="autotoc_md5710"></a>
Inputs</h2>
<p>jD (1,:) Julian date (days) rSEMR (3,:) Position vector in SEMR frame <br  />
 vSEMR (3,:) Velocity vector in SEMR frame <br  />
</p>
<h2><a class="anchor" id="autotoc_md5711"></a>
Outputs</h2>
<p>rHelio (3,:) Position vector in heliocentric frame vHelio (3,:) Velocity vector in heliocentric frame mRot (3,3) Rotation matrix</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaa63c281263b2d72bfe0e4d56b4a05095" title="Transform Sun-Earth-Moon rotating (SEMR) state to ECI frame.">TransformSEMRToECI</a> <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c" title="Append two state space system.">and</a> <a class="el" href="group___s_c_functions.html#ga4d12f04ef7d90aaa10cd930512072527" title="Moderate precision sun model.">SunV2</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga333e57e54da5b1629f5fac27222949c3">Constant()</a>, <a class="el" href="group___common_functions.html#gaa48c784bb78677916d4a8ea05e78b0f3">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___s_c_functions.html#ga4d12f04ef7d90aaa10cd930512072527">SunV2()</a>, <a class="el" href="#ga2a3d4d343c69b8bbd18d9c078e61d4be">TransformECIToSEMR()</a>, <a class="el" href="#gaa63c281263b2d72bfe0e4d56b4a05095">TransformSEMRToECI()</a>, <a class="el" href="#gaf6524e9ff58738ce6d938fe295b36105">TransformSEMRToHelio()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaf6524e9ff58738ce6d938fe295b36105">TransformSEMRToHelio()</a>.</p>

</div>
</div>
<a id="gaaf4a4e55a51e51886d7f7f4f9ecf5993" name="gaaf4a4e55a51e51886d7f7f4f9ecf5993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf4a4e55a51e51886d7f7f4f9ecf5993">&#9670;&#160;</a></span>UMinGG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">blank line function UMinGG </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>inr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses fminsearch. Type UMinGG for a demo with NASA Gateway.</p>
<h2><a class="anchor" id="autotoc_md5672"></a>
Form</h2>
<p>u = UMinGG(inr)</p>
<h2><a class="anchor" id="autotoc_md5673"></a>
Inputs</h2>
<p>inr (3,3) Inertia matrix</p>
<h2><a class="anchor" id="autotoc_md5674"></a>
Outputs</h2>
<p>u (3,1) Unit vector </p>

<p class="reference">References <a class="el" href="group___math_functions.html#ga058693fa5e69570bca8c2568df970266">Cross()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___math_functions.html#ga1dc2fa66a4f35374ed94a34daa86e513">Mag()</a>, <a class="el" href="group___common_functions.html#ga0b49f2af92c6407ee1063b5775652188">RaDec2U()</a>, <a class="el" href="#gaaf4a4e55a51e51886d7f7f4f9ecf5993">UMinGG()</a>, <a class="el" href="group___math_functions.html#gac94e3328682f937211287f266dfd0a47">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaaf4a4e55a51e51886d7f7f4f9ecf5993">UMinGG()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Feb 7 2025 14:22:12 for PSS MATLAB Toolboxes by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
