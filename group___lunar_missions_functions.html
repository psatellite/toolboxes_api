<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSS MATLAB Toolboxes: LunarMissions Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PSSLogo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PSS MATLAB Toolboxes<span id="projectnumber">&#160;2025.1</span>
   </div>
   <div id="projectbrief">MATLAB toolboxes for aerospace analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___lunar_missions_functions.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#dirs">Directories</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">LunarMissions Functions<div class="ingroups"><a class="el" href="group___lunar_missions_group.html">LunarMissions Module</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>The LunarMissions module functions are organized into subfolders.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="dirs" name="dirs"></a>
Directories</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_5edca0f9d47a145a997a49fa8b90bb65.html">Gateway</a></td></tr>
<tr class="memdesc:dir_5edca0f9d47a145a997a49fa8b90bb65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar Gateway functions including disturbances and control . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_ac6a9c42d8b70926048296c5682dbb42.html">LunarCoord</a></td></tr>
<tr class="memdesc:dir_ac6a9c42d8b70926048296c5682dbb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinate transformations including three-body frames. . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_a9092a45d02d331de5a6e554690aba36.html">LunarEnvironment</a></td></tr>
<tr class="memdesc:dir_a9092a45d02d331de5a6e554690aba36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topography and local environment . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_a9092a45d02d331de5a6e554690aba36.html">LunarEnvironment</a></td></tr>
<tr class="memdesc:dir_a9092a45d02d331de5a6e554690aba36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topography and local environment . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_d639d5ad783ded9eb7feee9580f3e438.html">LunarEphemeris</a></td></tr>
<tr class="memdesc:dir_d639d5ad783ded9eb7feee9580f3e438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Elements and rotations that are a function of time . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_efeac8ab84d73aedc37e8512b1cd8c47.html">LunarLanding</a></td></tr>
<tr class="memdesc:dir_efeac8ab84d73aedc37e8512b1cd8c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Landing dynamics and control . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_38b062066722c91b5deb40862f90853c.html">LunarMission</a></td></tr>
<tr class="memdesc:dir_38b062066722c91b5deb40862f90853c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar mission analysis . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_49452a2dfadf77833cc8720909c59587.html">LunarRHS</a></td></tr>
<tr class="memdesc:dir_49452a2dfadf77833cc8720909c59587"><td class="mdescLeft">&#160;</td><td class="mdescRight">Orbital dynamics functions . <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa4510cc820bf3d2ed31f7d1acfe11c0b" id="r_gaa4510cc820bf3d2ed31f7d1acfe11c0b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa4510cc820bf3d2ed31f7d1acfe11c0b">ApolloGuidanceCoordinates</a> (in xLF, in rTLF)</td></tr>
<tr class="memdesc:gaa4510cc820bf3d2ed31f7d1acfe11c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes Apollo guidance coordinates.  <br /></td></tr>
<tr class="separator:gaa4510cc820bf3d2ed31f7d1acfe11c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac032a16c4ddf28e800b1be971c12a711" id="r_gac032a16c4ddf28e800b1be971c12a711"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac032a16c4ddf28e800b1be971c12a711">ApolloLunarDescentGuidance</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gac032a16c4ddf28e800b1be971c12a711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apollo lunar module landing guidance.  <br /></td></tr>
<tr class="separator:gac032a16c4ddf28e800b1be971c12a711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b3ddc8041cdf2731c3b33cfa73d4272" id="r_ga6b3ddc8041cdf2731c3b33cfa73d4272"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6b3ddc8041cdf2731c3b33cfa73d4272">ApolloTrajectory</a> (in rTG, in vTG, in aTG, in rG, in vG, in t)</td></tr>
<tr class="memdesc:ga6b3ddc8041cdf2731c3b33cfa73d4272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates an Apollo lunar landing trajectory.  <br /></td></tr>
<tr class="separator:ga6b3ddc8041cdf2731c3b33cfa73d4272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7be344fbe8862b9ee27e71aa8e509d02" id="r_ga7be344fbe8862b9ee27e71aa8e509d02"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7be344fbe8862b9ee27e71aa8e509d02">BarycenterEarthMoon</a> (in jD)</td></tr>
<tr class="memdesc:ga7be344fbe8862b9ee27e71aa8e509d02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the ECI position of the Earth-Moon Barycenter.  <br /></td></tr>
<tr class="separator:ga7be344fbe8862b9ee27e71aa8e509d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9eeb5740e2f8ebd7da323a60bb5b22a9" id="r_ga9eeb5740e2f8ebd7da323a60bb5b22a9"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9eeb5740e2f8ebd7da323a60bb5b22a9">CommandListProcessing</a> (in jD0, in cList, in kCurrent, in jD)</td></tr>
<tr class="memdesc:ga9eeb5740e2f8ebd7da323a60bb5b22a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes command lists.  <br /></td></tr>
<tr class="separator:ga9eeb5740e2f8ebd7da323a60bb5b22a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fd593f7d15feb11aa32b34a52f9ae7b" id="r_ga2fd593f7d15feb11aa32b34a52f9ae7b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2fd593f7d15feb11aa32b34a52f9ae7b">CubeSatLunarEnvironment</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga2fd593f7d15feb11aa32b34a52f9ae7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar environment calculations for the CubeSat dynamical model.  <br /></td></tr>
<tr class="separator:ga2fd593f7d15feb11aa32b34a52f9ae7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac55dd234f2e90adffa4cc67c8ecf0d78" id="r_gac55dd234f2e90adffa4cc67c8ecf0d78"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac55dd234f2e90adffa4cc67c8ecf0d78">EarthMoon</a> (in r, in jD, in scale, in rMoon)</td></tr>
<tr class="memdesc:gac55dd234f2e90adffa4cc67c8ecf0d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot an orbit track in the Earth/Moon System.  <br /></td></tr>
<tr class="separator:gac55dd234f2e90adffa4cc67c8ecf0d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e8c1e5bfbed46382d97531c4379c045" id="r_ga3e8c1e5bfbed46382d97531c4379c045"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3e8c1e5bfbed46382d97531c4379c045">EarthMoonRotFrame</a> (in r, in jD, in scale, in lagrange, in lunarCone)</td></tr>
<tr class="memdesc:ga3e8c1e5bfbed46382d97531c4379c045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot an orbit track in the Earth/Moon Rotating System.  <br /></td></tr>
<tr class="separator:ga3e8c1e5bfbed46382d97531c4379c045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga703d08e61f84dc8b43945141c8e55fb3" id="r_ga703d08e61f84dc8b43945141c8e55fb3"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga703d08e61f84dc8b43945141c8e55fb3">EarthMoonSystemConstants</a> ()</td></tr>
<tr class="memdesc:ga703d08e61f84dc8b43945141c8e55fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies Earth-Moon system constants.  <br /></td></tr>
<tr class="separator:ga703d08e61f84dc8b43945141c8e55fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga175d4d61731586c1b52bcc79e7e5ed45" id="r_ga175d4d61731586c1b52bcc79e7e5ed45"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga175d4d61731586c1b52bcc79e7e5ed45">ECIToEarthMoonRot</a> (in jD)</td></tr>
<tr class="memdesc:ga175d4d61731586c1b52bcc79e7e5ed45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert ECI to Earth Moon rotating coordinates about the barycenter.  <br /></td></tr>
<tr class="separator:ga175d4d61731586c1b52bcc79e7e5ed45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f26afb5313d65fae1eaa81c60bb350d" id="r_ga3f26afb5313d65fae1eaa81c60bb350d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3f26afb5313d65fae1eaa81c60bb350d">EMBToEMBND</a> (in r, in v)</td></tr>
<tr class="memdesc:ga3f26afb5313d65fae1eaa81c60bb350d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale EMB system to be non-dimensional.  <br /></td></tr>
<tr class="separator:ga3f26afb5313d65fae1eaa81c60bb350d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bca4bf1c2e9fc17857355c18594849b" id="r_ga2bca4bf1c2e9fc17857355c18594849b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2bca4bf1c2e9fc17857355c18594849b">ForceSimple</a> (in d)</td></tr>
<tr class="memdesc:ga2bca4bf1c2e9fc17857355c18594849b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple thruster force model for orbit simulations.  <br /></td></tr>
<tr class="separator:ga2bca4bf1c2e9fc17857355c18594849b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36b12299f0550edf94e403a0842b560c" id="r_ga36b12299f0550edf94e403a0842b560c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga36b12299f0550edf94e403a0842b560c">FThrustLander</a> (in massFuel, in d)</td></tr>
<tr class="memdesc:ga36b12299f0550edf94e403a0842b560c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns thrust and exhaust velocity for a rocket engine.  <br /></td></tr>
<tr class="separator:ga36b12299f0550edf94e403a0842b560c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70e8aee107f6b0e50c5bb9b7fa556dae" id="r_ga70e8aee107f6b0e50c5bb9b7fa556dae"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga70e8aee107f6b0e50c5bb9b7fa556dae">FuelMassFromAccel</a> (in accel, in dT, in massDry, in uE)</td></tr>
<tr class="memdesc:ga70e8aee107f6b0e50c5bb9b7fa556dae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the fuel mass to achieve the desired acceleration vector.  <br /></td></tr>
<tr class="separator:ga70e8aee107f6b0e50c5bb9b7fa556dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa36f69ab5fe1ca8cc6a97c97afd33968" id="r_gaa36f69ab5fe1ca8cc6a97c97afd33968"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa36f69ab5fe1ca8cc6a97c97afd33968">GravityHelio</a> (in r, in jD, in rP, in mu, in iD, in d)</td></tr>
<tr class="memdesc:gaa36f69ab5fe1ca8cc6a97c97afd33968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the heliocentric gravity for the position and date.  <br /></td></tr>
<tr class="separator:gaa36f69ab5fe1ca8cc6a97c97afd33968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebbde070bf8128ee90eb889a5e8b3953" id="r_gaebbde070bf8128ee90eb889a5e8b3953"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaebbde070bf8128ee90eb889a5e8b3953">LandingConst2D</a> (in x, in d)</td></tr>
<tr class="memdesc:gaebbde070bf8128ee90eb889a5e8b3953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality constraints for the landing for a 2D flat planet problem.  <br /></td></tr>
<tr class="separator:gaebbde070bf8128ee90eb889a5e8b3953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c4aa0e750a13388d3a1689fb8a6c42f" id="r_ga4c4aa0e750a13388d3a1689fb8a6c42f"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4c4aa0e750a13388d3a1689fb8a6c42f">LandingConst3D</a> (in x, in d)</td></tr>
<tr class="memdesc:ga4c4aa0e750a13388d3a1689fb8a6c42f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality constraints for the landing for a 2D flat planet problem.  <br /></td></tr>
<tr class="separator:ga4c4aa0e750a13388d3a1689fb8a6c42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fa7cc9b4133f9857e5bcf579159cc8c" id="r_ga0fa7cc9b4133f9857e5bcf579159cc8c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0fa7cc9b4133f9857e5bcf579159cc8c">LandingCost2D</a> (in x, in ignoredArg)</td></tr>
<tr class="memdesc:ga0fa7cc9b4133f9857e5bcf579159cc8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost for the landing for a 2D flat planet problem.  <br /></td></tr>
<tr class="separator:ga0fa7cc9b4133f9857e5bcf579159cc8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cbf4cb8569d27015457033a7070e834" id="r_ga3cbf4cb8569d27015457033a7070e834"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3cbf4cb8569d27015457033a7070e834">LandingCost3D</a> (in x, in d)</td></tr>
<tr class="memdesc:ga3cbf4cb8569d27015457033a7070e834"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost for the landing for a 3D planet problem.  <br /></td></tr>
<tr class="separator:ga3cbf4cb8569d27015457033a7070e834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9724322338bfbd86f05092bc8930f549" id="r_ga9724322338bfbd86f05092bc8930f549"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9724322338bfbd86f05092bc8930f549">LandingLegsCAD</a> (in varargin)</td></tr>
<tr class="memdesc:ga9724322338bfbd86f05092bc8930f549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a CAD component for a lunar module first stage legs.  <br /></td></tr>
<tr class="separator:ga9724322338bfbd86f05092bc8930f549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4daa6e5e48664ca27cf389b5c2c65eac" id="r_ga4daa6e5e48664ca27cf389b5c2c65eac"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4daa6e5e48664ca27cf389b5c2c65eac">LFToECI</a> (in xLF, in jD)</td></tr>
<tr class="memdesc:ga4daa6e5e48664ca27cf389b5c2c65eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar fixed to ECI transformation.  <br /></td></tr>
<tr class="separator:ga4daa6e5e48664ca27cf389b5c2c65eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ca3c5456114b7d80c685418a699c0f8" id="r_ga8ca3c5456114b7d80c685418a699c0f8"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8ca3c5456114b7d80c685418a699c0f8">LoadLP150Q</a> (in fileName)</td></tr>
<tr class="memdesc:ga8ca3c5456114b7d80c685418a699c0f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the LP150Q Lunar gravity model.  <br /></td></tr>
<tr class="separator:ga8ca3c5456114b7d80c685418a699c0f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c9e614c2930a6035cab887299aaa78d" id="r_ga2c9e614c2930a6035cab887299aaa78d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography</a> (in nH)</td></tr>
<tr class="memdesc:ga2c9e614c2930a6035cab887299aaa78d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in the Clementine data.  <br /></td></tr>
<tr class="separator:ga2c9e614c2930a6035cab887299aaa78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85bcee6f3798b55d2c0e0c8b8b47657a" id="r_ga85bcee6f3798b55d2c0e0c8b8b47657a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga85bcee6f3798b55d2c0e0c8b8b47657a">LoadSGM150</a> (in fileName)</td></tr>
<tr class="memdesc:ga85bcee6f3798b55d2c0e0c8b8b47657a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the SGM150 Lunar gravity model.  <br /></td></tr>
<tr class="separator:ga85bcee6f3798b55d2c0e0c8b8b47657a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d40770600481128a23e4d9339e68ba0" id="r_ga9d40770600481128a23e4d9339e68ba0"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9d40770600481128a23e4d9339e68ba0">LunarAngle</a> (in nH, in lat, in lon, in azimuth, in s, in c, in n)</td></tr>
<tr class="memdesc:ga9d40770600481128a23e4d9339e68ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the angle needed to see over lunar terrain.  <br /></td></tr>
<tr class="separator:ga9d40770600481128a23e4d9339e68ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e64a90e9337b0e4cd1183a1290dd52b" id="r_ga9e64a90e9337b0e4cd1183a1290dd52b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9e64a90e9337b0e4cd1183a1290dd52b">LunarLandingControl</a> (in x, in t, in dRHS, in d)</td></tr>
<tr class="memdesc:ga9e64a90e9337b0e4cd1183a1290dd52b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spacecraft control during landing.  <br /></td></tr>
<tr class="separator:ga9e64a90e9337b0e4cd1183a1290dd52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6613e35cbbf3baba2bab67db6f4ce28" id="r_gaf6613e35cbbf3baba2bab67db6f4ce28"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6613e35cbbf3baba2bab67db6f4ce28">LunarLandingTargetState</a> (in lat, in lon, in alt, in f)</td></tr>
<tr class="memdesc:gaf6613e35cbbf3baba2bab67db6f4ce28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar landing target state.  <br /></td></tr>
<tr class="separator:gaf6613e35cbbf3baba2bab67db6f4ce28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2c178683c762b30e57064628ed0850d" id="r_gaf2c178683c762b30e57064628ed0850d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf2c178683c762b30e57064628ed0850d">LunarMissionControl</a> (in action, in jD, in dC, in dSim, in meas, in cList)</td></tr>
<tr class="memdesc:gaf2c178683c762b30e57064628ed0850d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a lunar mission control system.  <br /></td></tr>
<tr class="separator:gaf2c178683c762b30e57064628ed0850d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0106368dae68498435695737a8d72784" id="r_ga0106368dae68498435695737a8d72784"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0106368dae68498435695737a8d72784">LunarOrbitInsertion</a> (in hLunarOrbit, in dR, in dV, in mI, in uE, in thrust)</td></tr>
<tr class="memdesc:ga0106368dae68498435695737a8d72784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes parameters for a lunar orbit insertion.  <br /></td></tr>
<tr class="separator:ga0106368dae68498435695737a8d72784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab200502c51b6782d3c3bc442fed60212" id="r_gab200502c51b6782d3c3bc442fed60212"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab200502c51b6782d3c3bc442fed60212">LunarPolarOrbit</a> (in a, in e, in jD)</td></tr>
<tr class="memdesc:gab200502c51b6782d3c3bc442fed60212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a polar lunar orbit.  <br /></td></tr>
<tr class="separator:gab200502c51b6782d3c3bc442fed60212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17b4d9e118cb9e03ed21fb817ed8653e" id="r_ga17b4d9e118cb9e03ed21fb817ed8653e"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga17b4d9e118cb9e03ed21fb817ed8653e">LunarProfile</a> (in nH, in lambda, in theta, in s, in c)</td></tr>
<tr class="memdesc:ga17b4d9e118cb9e03ed21fb817ed8653e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a lunar profile given lambda and theta.  <br /></td></tr>
<tr class="separator:ga17b4d9e118cb9e03ed21fb817ed8653e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga589b358fbcf113b219d304131928d8e7" id="r_ga589b358fbcf113b219d304131928d8e7"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga589b358fbcf113b219d304131928d8e7">LunarRelativeState</a> (in x, in jD, in rTarget)</td></tr>
<tr class="memdesc:ga589b358fbcf113b219d304131928d8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position and velocity relative to the target.  <br /></td></tr>
<tr class="separator:ga589b358fbcf113b219d304131928d8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga992b184e9a60cf90d2080a348a8e1e7f" id="r_ga992b184e9a60cf90d2080a348a8e1e7f"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga992b184e9a60cf90d2080a348a8e1e7f">LunarTarget</a> (in x, in jD, in downrange)</td></tr>
<tr class="memdesc:ga992b184e9a60cf90d2080a348a8e1e7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lunar surface landing target.  <br /></td></tr>
<tr class="separator:ga992b184e9a60cf90d2080a348a8e1e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga659fbbb949014d4170fd77e93d9f520b" id="r_ga659fbbb949014d4170fd77e93d9f520b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga659fbbb949014d4170fd77e93d9f520b">LunarTargeting</a> (in date, in el0, in rP, in inc, in fIf, in simJDP, in opts)</td></tr>
<tr class="memdesc:ga659fbbb949014d4170fd77e93d9f520b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate transfer orbit elements for a lunar mission (fmincon).  <br /></td></tr>
<tr class="separator:ga659fbbb949014d4170fd77e93d9f520b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb6cc80cacdb365169785fab42d7e1f3" id="r_gaeb6cc80cacdb365169785fab42d7e1f3"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeb6cc80cacdb365169785fab42d7e1f3">LunarVisibility</a> (in lat, in lon, in jD0, in r, in t, in nH)</td></tr>
<tr class="memdesc:gaeb6cc80cacdb365169785fab42d7e1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes visibility of a satellite in lunar orbit.  <br /></td></tr>
<tr class="separator:gaeb6cc80cacdb365169785fab42d7e1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac5f2cf14282d12e55b91504df38a641" id="r_gaac5f2cf14282d12e55b91504df38a641"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaac5f2cf14282d12e55b91504df38a641">MoonECIElements</a> ()</td></tr>
<tr class="memdesc:gaac5f2cf14282d12e55b91504df38a641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the moon ECI elements.  <br /></td></tr>
<tr class="separator:gaac5f2cf14282d12e55b91504df38a641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6518ef388e4dc35d2b8f5d6960a162e" id="r_gac6518ef388e4dc35d2b8f5d6960a162e"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot</a> (in jD, in type)</td></tr>
<tr class="memdesc:gac6518ef388e4dc35d2b8f5d6960a162e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the matrix that transforms from ECI to selenographic axes.  <br /></td></tr>
<tr class="separator:gac6518ef388e4dc35d2b8f5d6960a162e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d06810c7d9835226587fb69958bc854" id="r_ga7d06810c7d9835226587fb69958bc854"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7d06810c7d9835226587fb69958bc854">NoForce</a> (in varargin)</td></tr>
<tr class="memdesc:ga7d06810c7d9835226587fb69958bc854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thruster force model producing zero force.  <br /></td></tr>
<tr class="separator:ga7d06810c7d9835226587fb69958bc854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeaf306f3e3534c6a676e85077c7ff91" id="r_gaaeaf306f3e3534c6a676e85077c7ff91"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaeaf306f3e3534c6a676e85077c7ff91">OrbitStateMatrices</a> (in x, in xF, in dT, in d)</td></tr>
<tr class="memdesc:gaaeaf306f3e3534c6a676e85077c7ff91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the orbit state matrices.  <br /></td></tr>
<tr class="separator:gaaeaf306f3e3534c6a676e85077c7ff91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf72e87767c2dd367b47d08c6bf07227" id="r_gacf72e87767c2dd367b47d08c6bf07227"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacf72e87767c2dd367b47d08c6bf07227">PlotEMTraj</a> (in r, in frame, in jD)</td></tr>
<tr class="memdesc:gacf72e87767c2dd367b47d08c6bf07227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot a trajectory in the Earth-Moon system.  <br /></td></tr>
<tr class="separator:gacf72e87767c2dd367b47d08c6bf07227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga042acfe5a9c90a187c42f2f5c75f3369" id="r_ga042acfe5a9c90a187c42f2f5c75f3369"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga042acfe5a9c90a187c42f2f5c75f3369">PlotLunarOrbit</a> (in rECI, in jD, in uSun, in thrust, in magF)</td></tr>
<tr class="memdesc:ga042acfe5a9c90a187c42f2f5c75f3369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot a 3D orbit around the moon.  <br /></td></tr>
<tr class="separator:ga042acfe5a9c90a187c42f2f5c75f3369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac59f36307ca4eb500d7de50effc95db7" id="r_gac59f36307ca4eb500d7de50effc95db7"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac59f36307ca4eb500d7de50effc95db7">PlotSEMTraj</a> (in r, in frame, in jD)</td></tr>
<tr class="memdesc:gac59f36307ca4eb500d7de50effc95db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot an orbit track in the Sun/Earth-Moon Rotating System.  <br /></td></tr>
<tr class="separator:gac59f36307ca4eb500d7de50effc95db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8469326bbc343cb7a968d9d06edd7c4" id="r_gac8469326bbc343cb7a968d9d06edd7c4"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac8469326bbc343cb7a968d9d06edd7c4">PropagateState</a> (in x, in beta, in dT, in d)</td></tr>
<tr class="memdesc:gac8469326bbc343cb7a968d9d06edd7c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate the 2D state for the landing problem.  <br /></td></tr>
<tr class="separator:gac8469326bbc343cb7a968d9d06edd7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2cff28ef8fa4a42e86649ed61a10e6d" id="r_gaf2cff28ef8fa4a42e86649ed61a10e6d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf2cff28ef8fa4a42e86649ed61a10e6d">PropagateState3D</a> (in x, in dT, in d)</td></tr>
<tr class="memdesc:gaf2cff28ef8fa4a42e86649ed61a10e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate the 3D state for the landing problem.  <br /></td></tr>
<tr class="separator:gaf2cff28ef8fa4a42e86649ed61a10e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89aa62f09cc6defb30ea90dc66b45d28" id="r_ga89aa62f09cc6defb30ea90dc66b45d28"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga89aa62f09cc6defb30ea90dc66b45d28">RHSLunarLander</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga89aa62f09cc6defb30ea90dc66b45d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spacecraft attitude and orbit dynamics with a disturbance function.  <br /></td></tr>
<tr class="separator:ga89aa62f09cc6defb30ea90dc66b45d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9ec5c5853351c315e6f2be7ded4fe26" id="r_gad9ec5c5853351c315e6f2be7ded4fe26"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad9ec5c5853351c315e6f2be7ded4fe26">RHSLunarMission</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gad9ec5c5853351c315e6f2be7ded4fe26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right hand side for orbit and attitude dynamics for a lunar mission simulation.  <br /></td></tr>
<tr class="separator:gad9ec5c5853351c315e6f2be7ded4fe26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39a8b9a6f7485b09bb7bc085390ea751" id="r_ga39a8b9a6f7485b09bb7bc085390ea751"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga39a8b9a6f7485b09bb7bc085390ea751">RHSLunarOrbit</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:ga39a8b9a6f7485b09bb7bc085390ea751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right hand side for a lunar mission simulation with only orbit dynamics.  <br /></td></tr>
<tr class="separator:ga39a8b9a6f7485b09bb7bc085390ea751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4d0705234461a4c05d27ce050b09a51" id="r_gaa4d0705234461a4c05d27ce050b09a51"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51">RHSPlanet3D</a> (in x, in ignoredArg, in d)</td></tr>
<tr class="memdesc:gaa4d0705234461a4c05d27ce050b09a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cartesian orbital equations in a planet fixed (rotating) frame.  <br /></td></tr>
<tr class="separator:gaa4d0705234461a4c05d27ce050b09a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dce249457516cbbf3811a97973100c6" id="r_ga3dce249457516cbbf3811a97973100c6"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3dce249457516cbbf3811a97973100c6">RHSPlanet3DToAB</a> (in x, in d, in dT)</td></tr>
<tr class="memdesc:ga3dce249457516cbbf3811a97973100c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function computes the matrices a and b for dx/dt = a*x + b*u .  <br /></td></tr>
<tr class="separator:ga3dce249457516cbbf3811a97973100c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae63ae2ced0e4ca12a3f9d6df651935f6" id="r_gae63ae2ced0e4ca12a3f9d6df651935f6"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae63ae2ced0e4ca12a3f9d6df651935f6">RHSRVPlanetFixed</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gae63ae2ced0e4ca12a3f9d6df651935f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right hand side for translational motion in the planet fixed frame.  <br /></td></tr>
<tr class="separator:gae63ae2ced0e4ca12a3f9d6df651935f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab904415e8a6da76cd46535446609b1b7" id="r_gab904415e8a6da76cd46535446609b1b7"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab904415e8a6da76cd46535446609b1b7">RHSSGCMG</a> (in x, in ignoredArg, in d)</td></tr>
<tr class="memdesc:gab904415e8a6da76cd46535446609b1b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the right hand side for single gimbal CMGs.  <br /></td></tr>
<tr class="separator:gab904415e8a6da76cd46535446609b1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8750c2770084b1c93851b8a9c31e8d1" id="r_gaf8750c2770084b1c93851b8a9c31e8d1"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf8750c2770084b1c93851b8a9c31e8d1">RHSTrajectory</a> (in x, in t, in d)</td></tr>
<tr class="memdesc:gaf8750c2770084b1c93851b8a9c31e8d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right-Hand-Side function for solar system object trajectories with moon.  <br /></td></tr>
<tr class="separator:gaf8750c2770084b1c93851b8a9c31e8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad798ee92d8af58a8ed60815dcc13a980" id="r_gad798ee92d8af58a8ed60815dcc13a980"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980">RSHMoon</a> (in nH, in lambda, in theta, in s, in c)</td></tr>
<tr class="memdesc:gad798ee92d8af58a8ed60815dcc13a980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a topographic map of the moon using spherical harmonics.  <br /></td></tr>
<tr class="separator:gad798ee92d8af58a8ed60815dcc13a980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d0ea4c37b9f6bcc07c8b37d27caa5e9" id="r_ga8d0ea4c37b9f6bcc07c8b37d27caa5e9"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8d0ea4c37b9f6bcc07c8b37d27caa5e9">SecondOrderGuidance</a> (in action, in x, in d)</td></tr>
<tr class="memdesc:ga8d0ea4c37b9f6bcc07c8b37d27caa5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a 2nd order guidance law.  <br /></td></tr>
<tr class="separator:ga8d0ea4c37b9f6bcc07c8b37d27caa5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f57c03f1626463d9c4f17bde98e3786" id="r_ga9f57c03f1626463d9c4f17bde98e3786"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9f57c03f1626463d9c4f17bde98e3786">SecondOrderGuidance3D</a> (in action, in x, in d)</td></tr>
<tr class="memdesc:ga9f57c03f1626463d9c4f17bde98e3786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements a 2nd order guidance law in 3 dimensions.  <br /></td></tr>
<tr class="separator:ga9f57c03f1626463d9c4f17bde98e3786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga733b3a80c5ed06d38a1f31f22f6005f2" id="r_ga733b3a80c5ed06d38a1f31f22f6005f2"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga733b3a80c5ed06d38a1f31f22f6005f2">SEMGravAcc</a> (in rSEM)</td></tr>
<tr class="memdesc:ga733b3a80c5ed06d38a1f31f22f6005f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the acceleration due to the Sun and the Earth/Moon.  <br /></td></tr>
<tr class="separator:ga733b3a80c5ed06d38a1f31f22f6005f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga031c909c9c7015bc2cc8f34504ae3a3e" id="r_ga031c909c9c7015bc2cc8f34504ae3a3e"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga031c909c9c7015bc2cc8f34504ae3a3e">SEMIToSEMR</a> (in jD, in rSEMI, in vSEMI)</td></tr>
<tr class="memdesc:ga031c909c9c7015bc2cc8f34504ae3a3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform heliocentric frame to Sun-Earth/Moon barycentered rotating frame.  <br /></td></tr>
<tr class="separator:ga031c909c9c7015bc2cc8f34504ae3a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfcbadc0e0c4fe700f2976f84569f426" id="r_gacfcbadc0e0c4fe700f2976f84569f426"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacfcbadc0e0c4fe700f2976f84569f426">SEMRToSEMI</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:gacfcbadc0e0c4fe700f2976f84569f426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform from Sun-Earth/Moon rotating to inertial frame.  <br /></td></tr>
<tr class="separator:gacfcbadc0e0c4fe700f2976f84569f426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga742f8490ba7d500fddf0d233760ef0b0" id="r_ga742f8490ba7d500fddf0d233760ef0b0"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga742f8490ba7d500fddf0d233760ef0b0">SEMToSEMND</a> (in r, in v)</td></tr>
<tr class="memdesc:ga742f8490ba7d500fddf0d233760ef0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale state in SEM system (rotating or inertial) to be non-dimensional.  <br /></td></tr>
<tr class="separator:ga742f8490ba7d500fddf0d233760ef0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadfe008a82ba0c6d5802f10e20102d430" id="r_gadfe008a82ba0c6d5802f10e20102d430"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadfe008a82ba0c6d5802f10e20102d430">Simulate2DLanding</a> (in t, in beta, in d, in name)</td></tr>
<tr class="memdesc:gadfe008a82ba0c6d5802f10e20102d430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate the 2D landing problem and generate plots.  <br /></td></tr>
<tr class="separator:gadfe008a82ba0c6d5802f10e20102d430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadacb57322cb75958462fdbfb151560c2" id="r_gadacb57322cb75958462fdbfb151560c2"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadacb57322cb75958462fdbfb151560c2">Simulate3DLanding</a> (in dT, in d, in name)</td></tr>
<tr class="memdesc:gadacb57322cb75958462fdbfb151560c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate a 3D landing and generate plots.  <br /></td></tr>
<tr class="separator:gadacb57322cb75958462fdbfb151560c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a6cf185a7f6af550d5d5c537a4d6b26" id="r_ga1a6cf185a7f6af550d5d5c537a4d6b26"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a6cf185a7f6af550d5d5c537a4d6b26">SunEarthMoonSystemConstants</a> ()</td></tr>
<tr class="memdesc:ga1a6cf185a7f6af550d5d5c537a4d6b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies Sun-Earth-Moon system constants.  <br /></td></tr>
<tr class="separator:ga1a6cf185a7f6af550d5d5c537a4d6b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffcdf2b5b46e7905e7e7541fe1511b10" id="r_gaffcdf2b5b46e7905e7e7541fe1511b10"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaffcdf2b5b46e7905e7e7541fe1511b10">TransformECIToEMBR</a> (in jD, in rECI, in vECI)</td></tr>
<tr class="memdesc:gaffcdf2b5b46e7905e7e7541fe1511b10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform ECI pos.  <br /></td></tr>
<tr class="separator:gaffcdf2b5b46e7905e7e7541fe1511b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e5c49a2bc9d27b6d2a8861a5a6c4240" id="r_ga1e5c49a2bc9d27b6d2a8861a5a6c4240"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1e5c49a2bc9d27b6d2a8861a5a6c4240">TransformECIToSEMR</a> (in jD, in rECI, in vECI)</td></tr>
<tr class="memdesc:ga1e5c49a2bc9d27b6d2a8861a5a6c4240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform ECI pos.  <br /></td></tr>
<tr class="separator:ga1e5c49a2bc9d27b6d2a8861a5a6c4240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1141043cb4cf97b202de1a71c4ae038" id="r_gaf1141043cb4cf97b202de1a71c4ae038"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf1141043cb4cf97b202de1a71c4ae038">TransformEMBRToECI</a> (in jD, in rEMBR, in vEMBR)</td></tr>
<tr class="memdesc:gaf1141043cb4cf97b202de1a71c4ae038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform pos.  <br /></td></tr>
<tr class="separator:gaf1141043cb4cf97b202de1a71c4ae038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb4dde29d0315fbe8bd3b8ea8a2f7b59" id="r_gacb4dde29d0315fbe8bd3b8ea8a2f7b59"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacb4dde29d0315fbe8bd3b8ea8a2f7b59">TransformSEMRToECI</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:gacb4dde29d0315fbe8bd3b8ea8a2f7b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform Sun-Earth-Moon rotating (SEMR) state to ECI frame.  <br /></td></tr>
<tr class="separator:gacb4dde29d0315fbe8bd3b8ea8a2f7b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadd950b943f9adc45a1b4dafd9ce9305" id="r_gaadd950b943f9adc45a1b4dafd9ce9305"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaadd950b943f9adc45a1b4dafd9ce9305">TransformSEMRToHelio</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:gaadd950b943f9adc45a1b4dafd9ce9305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform Sun-Earth-Moon rotating (SEMR) state to the heliocentric frame.  <br /></td></tr>
<tr class="separator:gaadd950b943f9adc45a1b4dafd9ce9305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga201f07a0e91c2e609b7a8cc3b4f2b6d0" id="r_ga201f07a0e91c2e609b7a8cc3b4f2b6d0"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga201f07a0e91c2e609b7a8cc3b4f2b6d0">UMinGG</a> (in inr)</td></tr>
<tr class="memdesc:ga201f07a0e91c2e609b7a8cc3b4f2b6d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector from ECI to body that minimizes the gravity gradient torque.  <br /></td></tr>
<tr class="separator:ga201f07a0e91c2e609b7a8cc3b4f2b6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa4510cc820bf3d2ed31f7d1acfe11c0b" name="gaa4510cc820bf3d2ed31f7d1acfe11c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4510cc820bf3d2ed31f7d1acfe11c0b">&#9670;&#160;</a></span>ApolloGuidanceCoordinates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ApolloGuidanceCoordinates </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>xLF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rTLF</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The origin coincides continuously with the current landing site (the frame rotates with the moon); the XG-axis is vertical; the ZG-axis lies in, or near, the plane containing the LM and the landing site and points forward; and the YG-axis completes the right-hand triad.</p>
<p>Type ApolloGuidanceCoordinates for a demo.</p>
<h2><a class="anchor" id="autotoc_md5700"></a>
Form</h2>
<pre class="fragment"> [rG,vG] = ApolloGuidanceCoordinates( xLF, rTLF )
</pre><h2><a class="anchor" id="autotoc_md5701"></a>
Inputs</h2>
<pre class="fragment"> xLF   (6,1)   State vector
 rTLF   (3,1)   Target position
</pre><h2><a class="anchor" id="autotoc_md5702"></a>
Outputs</h2>
<pre class="fragment"> rG    (3,1)   Position in guidance coordinates
 vG    (3,1)   Velocity in guidance coordinates
</pre><p>Reference: Klumpp, A. R. "Apollo Guidance Navigation and Control," MIT Charles Stark Draper Laboratory, June 1971, R-695. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#gaa4510cc820bf3d2ed31f7d1acfe11c0b">ApolloGuidanceCoordinates()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga3ae579f78299105d41d72c8eeeb78c19">DispWithTitle()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaa4510cc820bf3d2ed31f7d1acfe11c0b">ApolloGuidanceCoordinates()</a>.</p>

</div>
</div>
<a id="gac032a16c4ddf28e800b1be971c12a711" name="gac032a16c4ddf28e800b1be971c12a711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac032a16c4ddf28e800b1be971c12a711">&#9670;&#160;</a></span>ApolloLunarDescentGuidance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ApolloLunarDescentGuidance </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If no inputs or outputs are specified it will simulate a lunar landing using the guidance system. Three phases are implemented:</p>
<p>P63 Braking phase P64 Approach phase P66 Terminal descent phase The land flag is used in P66 to tell it to land.</p>
<p>x is normal to the lunar surface and z is downrange</p>
<h2><a class="anchor" id="autotoc_md5703"></a>
Form</h2>
<pre class="fragment"> [aCG, d] = ApolloLunarDescentGuidance( x, t, d )
</pre><h2><a class="anchor" id="autotoc_md5704"></a>
Inputs</h2>
<pre class="fragment"> x   (6,1)    State vector [rCG;vCG]
 t   (1,1)    Time (sec)
 d   (.)      Data structure
</pre><h2><a class="anchor" id="autotoc_md5705"></a>
Outputs</h2>
<pre class="fragment"> a  (3,1)   Command acceleration (m/sec^2)
 d   (.)     Data structure
</pre><p>Reference: Klumpp, A. R. "Apollo Lunar Descent Guidance," Automatica, Vol. 10, pp. 133-146, Pergamon Press, 1974. </p>

<p class="reference">References <a class="el" href="acstate_8m.html#ac9ad2959b7b091d60ba42cfd4614a0a8">abs()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#gac032a16c4ddf28e800b1be971c12a711">ApolloLunarDescentGuidance()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga6919dc8ec87b51d1aabc5fe115d19565">Limit()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac032a16c4ddf28e800b1be971c12a711">ApolloLunarDescentGuidance()</a>.</p>

</div>
</div>
<a id="ga6b3ddc8041cdf2731c3b33cfa73d4272" name="ga6b3ddc8041cdf2731c3b33cfa73d4272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b3ddc8041cdf2731c3b33cfa73d4272">&#9670;&#160;</a></span>ApolloTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ApolloTrajectory </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rTG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vTG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>aTG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vG</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type ApolloTrajectory for a demo.</p>
<h2><a class="anchor" id="autotoc_md5706"></a>
Form</h2>
<pre class="fragment"> [r, v, a] = ApolloTrajectory( rTG, vTG, aTG, rG, vG, t )
</pre><h2><a class="anchor" id="autotoc_md5707"></a>
Inputs</h2>
<pre class="fragment"> rTG   (3,1)    R target (m)
 vTG   (3,1)    V target (m/s)
 aG    (3,1)    Acceleration target(m/s^2)
 rTG   (3,1)    R start (m)
 vTG   (3,1)    V start (m/s)
 t     (1,:)    Time (s)
</pre><h2><a class="anchor" id="autotoc_md5708"></a>
Outputs</h2>
<pre class="fragment"> r     (3,:)   Position (m)
 v     (3,:)   Velocity (m/s)
 a     (3,:)   Acceleration (m/s^2)
</pre><p>Reference: Klumpp, A. R. "Apollo Lunar Descent Guidance," Automatica, Vol. 10, pp. 133-146, Pergamon Press, 1974. </p>

<p class="reference">References <a class="el" href="group___common_functions.html#ga661eef54b3bae179f5c6f7c5e6ff1ede">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga6b3ddc8041cdf2731c3b33cfa73d4272">ApolloTrajectory()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="group___a_c_functions.html#ga14d05fc63c1e8afbd89ca25fcc700933">Trajectory()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga6b3ddc8041cdf2731c3b33cfa73d4272">ApolloTrajectory()</a>.</p>

</div>
</div>
<a id="ga7be344fbe8862b9ee27e71aa8e509d02" name="ga7be344fbe8862b9ee27e71aa8e509d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7be344fbe8862b9ee27e71aa8e509d02">&#9670;&#160;</a></span>BarycenterEarthMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function BarycenterEarthMoon </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Uses MoonV1 for ephemeris and Constant to look up the gravitational 
 parameters.
</pre><h2><a class="anchor" id="autotoc_md5576"></a>
Form</h2>
<pre class="fragment"> b = BarycenterEarthMoon( jD )
</pre><h2><a class="anchor" id="autotoc_md5577"></a>
Inputs</h2>
<pre class="fragment"> jD             (1,:)      Julian date (days)
</pre><h2><a class="anchor" id="autotoc_md5578"></a>
Outputs</h2>
<pre class="fragment"> b              (3,:)      Barycenter
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga7be344fbe8862b9ee27e71aa8e509d02">BarycenterEarthMoon()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga27f3dfb980e396d07b061dab831d7a12">JD2000()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, and <a class="el" href="group___common_functions.html#ga8f5f143027f22f0c9575996036c39c00">Plot3D()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga7be344fbe8862b9ee27e71aa8e509d02">BarycenterEarthMoon()</a>.</p>

</div>
</div>
<a id="ga9eeb5740e2f8ebd7da323a60bb5b22a9" name="ga9eeb5740e2f8ebd7da323a60bb5b22a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9eeb5740e2f8ebd7da323a60bb5b22a9">&#9670;&#160;</a></span>CommandListProcessing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CommandListProcessing </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>cList</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>kCurrent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The command list cell array format is {time command data} where data is a data structure for that command. The command list rows should be in order of Julian date. You can also use +sec instead of jD in which case the time is +sec after the previous command. For example, +6 indicates 6 seconds after the previous command. If the first command is +sec then it is +sec from the time passed on initialization. <br  />
</p>
<p>Type CommandListProcessing for a demo.</p>
<h2><a class="anchor" id="autotoc_md5709"></a>
Form</h2>
<p>kCurrent = CommandListProcessing( jD0, cList, kCurrent, jD )</p>
<h2><a class="anchor" id="autotoc_md5710"></a>
Inputs</h2>
<pre class="fragment"> jD0       (1,1)    Base Julian date before any commands
 cList     {:,3} Command list {time tag, string description, data structure}
 kCurrent  (1,1) Current command
 jD        (1,1) Current Julian date
</pre><hr  />
 <h2><a class="anchor" id="autotoc_md5711"></a>
Outputs</h2>
<pre class="fragment"> kCurrent  (1,1) Current command
</pre> 
</div>
</div>
<a id="ga2fd593f7d15feb11aa32b34a52f9ae7b" name="ga2fd593f7d15feb11aa32b34a52f9ae7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fd593f7d15feb11aa32b34a52f9ae7b">&#9670;&#160;</a></span>CubeSatLunarEnvironment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CubeSatLunarEnvironment </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes sun location with SunV1 and accounts for eclipses from the Earth and the Moon via Eclipse. All environment constants including gravity are defined here.</p>
<h2><a class="anchor" id="autotoc_md5620"></a>
Form</h2>
<pre class="fragment"> e = CubeSatLunarEnvironment             % data structure
 e = CubeSatLunarEnvironment( x, t, d )
</pre><h2><a class="anchor" id="autotoc_md5621"></a>
Inputs</h2>
<pre class="fragment"> x        (14,1)    [r;v;q;w;b]
 t         (1,1)    Time, sec
 d          (.)     Data structure
                    .jD0          Julian date of epoch
                    .surfData (.) optional; empty to skip optical calcs
                    .gravity  (.) 
                         .center  Index of gravity center
</pre><h2><a class="anchor" id="autotoc_md5622"></a>
Outputs</h2>
<pre class="fragment"> env        (.)     Environmental data
                    .r            ECI position (km)
                    .v            ECI velocity (km/s)
                    .q            ECI to body quaternion
                    .mu           Gravitational constant (km3/s2)
                    .radiusPlanet Radius of the center planet (km)
                    .rho          Distance from the Moon (km)
                    .radiation    Planetary radiation W/m2
                    .albedo       Planet bond albedo fraction
                    .uSun         Sun unit vector (ECI)
                    .rSun         Sun distance (km)
                    .solarFlux    Solar flux at position (W/m2)
                    .nEcl         Eclipse fraction (source intensity, 0-1)
                    .accelGrav    Acceleration due to gravity
                    .rMoon        Moon position
                    .vMoon        Moon velocity
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___s_c_functions.html#ga407115a474f1a7b8c6e20cf91d4277fa" title="Generate the sun vector in the earth-centered inertial frame.">SunV1</a>, <a class="el" href="group___s_c_functions.html#ga44e35aa01575acdbcbdfa830ab913035" title="Computes eclipses.">Eclipse</a>, <a class="el" href="group___aerospace_utils_functions.html#gacf9792fb7e73b54fbae4e6faa66c925f" title="Computes the Earth&#39;s atmospheric density using scale heights.">AtmDens2</a>, <a class="el" href="group___aerospace_utils_functions.html#ga2da1f5dc14f4997298f006a00df68281" title="Computes the atmospheric density using Jacchia&#39;s 1970 model.">AtmJ70</a>, <a class="el" href="group___s_c_functions.html#ga45a232b2bf8de32ec48b0ad595b7dbec" title="Computes the geocentric magnetic field based on a tilted dipole model.">BDipole</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___orbit_functions.html#ga9d605fc3c0ee7eea381f1cc028cc2208">APlanet()</a>, <a class="el" href="group___aerospace_utils_functions.html#gacf9792fb7e73b54fbae4e6faa66c925f">AtmDens2()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga2da1f5dc14f4997298f006a00df68281">AtmJ70()</a>, <a class="el" href="group___s_c_functions.html#ga45a232b2bf8de32ec48b0ad595b7dbec">BDipole()</a>, <a class="el" href="group___cube_sat_functions.html#ga897e92eb9c6bec56cb62a2649d0a98e3">CubeSatAttitude()</a>, <a class="el" href="#ga2fd593f7d15feb11aa32b34a52f9ae7b">CubeSatLunarEnvironment()</a>, <a class="el" href="group___s_c_functions.html#ga44e35aa01575acdbcbdfa830ab913035">Eclipse()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, <a class="el" href="group___interplanetary_functions.html#ga2b5e0ac3a78c312c0b1a492ff4e50d16">PlanetPosJPL()</a>, <a class="el" href="transmat_8m.html#a4b3dc4e3d17b42a8536479d9a8dd91d1">quaternion()</a>, <a class="el" href="group___s_c_functions.html#ga407115a474f1a7b8c6e20cf91d4277fa">SunV1()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga2fd593f7d15feb11aa32b34a52f9ae7b">CubeSatLunarEnvironment()</a>, and <a class="el" href="#gad9ec5c5853351c315e6f2be7ded4fe26">RHSLunarMission()</a>.</p>

</div>
</div>
<a id="gac55dd234f2e90adffa4cc67c8ecf0d78" name="gac55dd234f2e90adffa4cc67c8ecf0d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac55dd234f2e90adffa4cc67c8ecf0d78">&#9670;&#160;</a></span>EarthMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function EarthMoon </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>scale</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rMoon</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The plots are in the ECI frame. Has a built-in demo for an orbit with an apogee of 400,000 km, a perigee of 7000 km, and a duration of 5 days.</p>
<pre class="fragment"> Forms:
 EarthMoon( r, jD, scale, rMoon )
 EarthMoon( elements, jD, scale, rMoon )
</pre><h2><a class="anchor" id="autotoc_md5756"></a>
Inputs</h2>
<pre class="fragment"> r                (3,:) ECI position vectors (km) -or-
                  (1,6) elements
 jD               (:)   Julian dates
 scale            (1,2) Planet scale (optional, default is [1 1])
 rMoon            (3,:) Moon position
</pre><h2><a class="anchor" id="autotoc_md5757"></a>
Outputs</h2>
<pre class="fragment"> none                  
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367" title="Generate the moon vector in an earth or spacecraft centered frame.">MoonV1</a>, <a class="el" href="group___s_c_functions.html#ga748831318d1f67c1d3b904a709a14d6e" title="Computes the moon orbital elements with respect to the earth inertial frame.">MoonEl</a>. </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#gab72c53d95ec2efebfa0f469784019c46">Axis3D()</a>, <a class="el" href="#gac55dd234f2e90adffa4cc67c8ecf0d78">EarthMoon()</a>, <a class="el" href="group___common_functions.html#ga5c862348531230a44e60759a0d5f7ae6">Equal()</a>, <a class="el" href="group___common_functions.html#ga27f3dfb980e396d07b061dab831d7a12">JD2000()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga228ee3d4a49106f9460dd51b02b87f23">Map()</a>, <a class="el" href="group___s_c_functions.html#ga748831318d1f67c1d3b904a709a14d6e">MoonEl()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="group___orbit_functions.html#gafe44bccc182e3a10df9def6b15983170">RPRA2AE()</a>, <a class="el" href="group___orbit_functions.html#ga81aeaeb57bec300fb9cca611d68ea9f1">RVFromKepler()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="group___common_functions.html#gac9aa46a0522738d5b0517cbad1801f87">XLabelS()</a>, <a class="el" href="group___common_functions.html#ga44852ccbe0e2aa704e7fa3fa174203dc">YLabelS()</a>, <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>, and <a class="el" href="group___common_functions.html#ga093a9fb1a6b4e968d9ae74917ddf109b">ZLabelS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac55dd234f2e90adffa4cc67c8ecf0d78">EarthMoon()</a>, and <a class="el" href="#ga659fbbb949014d4170fd77e93d9f520b">LunarTargeting()</a>.</p>

</div>
</div>
<a id="ga3e8c1e5bfbed46382d97531c4379c045" name="ga3e8c1e5bfbed46382d97531c4379c045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e8c1e5bfbed46382d97531c4379c045">&#9670;&#160;</a></span>EarthMoonRotFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function EarthMoonRotFrame </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>scale</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lagrange</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lunarCone</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The input vectors are in the ECI frame. Has a built-in demo for an orbit <br  />
 with an apogee of 400,000 km, a perigee of 7000 km, and a duration of 5 days.</p>
<pre class="fragment"> Forms:
 EarthMoonRotFrame( r, jD, scale, lagrange, lunarCone )
</pre><h2><a class="anchor" id="autotoc_md5758"></a>
Inputs</h2>
<pre class="fragment"> r                (3,:) ECI position vectors (km) or
                  (1,6) elements
 jD               (:)   Julian dates
 scale            (1,2) Planet scale (optional, default is [1 1])
 lagrange         (1,1) If entered draw lagrange points
 lunarCone        (1,3) [lat, lon, angle]
</pre><h2><a class="anchor" id="autotoc_md5759"></a>
Outputs</h2>
<pre class="fragment"> none                  
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#gab72c53d95ec2efebfa0f469784019c46">Axis3D()</a>, <a class="el" href="group___common_functions.html#ga6c97d3a594924d4f6b3bf91459a3e983">Cone()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="#ga3e8c1e5bfbed46382d97531c4379c045">EarthMoonRotFrame()</a>, <a class="el" href="group___common_functions.html#ga5c862348531230a44e60759a0d5f7ae6">Equal()</a>, <a class="el" href="group___common_functions.html#ga27f3dfb980e396d07b061dab831d7a12">JD2000()</a>, <a class="el" href="group___s_c_functions.html#ga9e0dbfe84e7423d8749f9a092abb783d">LagrangePointsL1ToL5()</a>, <a class="el" href="group___aerospace_utils_functions.html#gaa13a746ff8d11fcd7f0ee47c15093020">LatLonToR()</a>, <a class="el" href="group___common_functions.html#ga228ee3d4a49106f9460dd51b02b87f23">Map()</a>, <a class="el" href="group___s_c_functions.html#ga748831318d1f67c1d3b904a709a14d6e">MoonEl()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="group___orbit_functions.html#gafe44bccc182e3a10df9def6b15983170">RPRA2AE()</a>, <a class="el" href="group___orbit_functions.html#ga8dd4015eb11dd93d9278245e033a1ec6">RVOrbGen()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___a_c_functions.html#ga14d05fc63c1e8afbd89ca25fcc700933">Trajectory()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, <a class="el" href="group___common_functions.html#gac9aa46a0522738d5b0517cbad1801f87">XLabelS()</a>, <a class="el" href="group___common_functions.html#ga44852ccbe0e2aa704e7fa3fa174203dc">YLabelS()</a>, <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>, and <a class="el" href="group___common_functions.html#ga093a9fb1a6b4e968d9ae74917ddf109b">ZLabelS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3e8c1e5bfbed46382d97531c4379c045">EarthMoonRotFrame()</a>.</p>

</div>
</div>
<a id="ga703d08e61f84dc8b43945141c8e55fb3" name="ga703d08e61f84dc8b43945141c8e55fb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga703d08e61f84dc8b43945141c8e55fb3">&#9670;&#160;</a></span>EarthMoonSystemConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function EarthMoonSystemConstants </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5608"></a>
Form</h2>
<pre class="fragment"> d = EarthMoonSystemConstants()
</pre><h2><a class="anchor" id="autotoc_md5609"></a>
Inputs</h2>
<pre class="fragment"> none
</pre><h2><a class="anchor" id="autotoc_md5610"></a>
Outputs</h2>
<pre class="fragment"> d       (.)     Data structure output with system constants and fields:
                   .system   ''    Name of system - 'EM'
                   .muMoon   (1,1) Moon gravity constant (km^3/sec^2)
                   .muEarth  (1,1) Earth gravity constant
                   .mu       (1,1) Non-dimensional mass parameter
                   .L        (1,1) Length unit (Earth-moon) (km)
                   .T        (1,1) Time unit (lunar period) (s)
                   .Re       (1,1) Radius earth (km)
                   .Rm       (1,1) Radius moon (km)
                   .xL1      (1,1) L1 distance (nd)
                   .xL2      (1,1) L2 distance (nd)
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga703d08e61f84dc8b43945141c8e55fb3">EarthMoonSystemConstants()</a>, <a class="el" href="quat_8m.html#a3df87fc1b2fd8838b19b3a1721e05ab0">get()</a>, and <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga703d08e61f84dc8b43945141c8e55fb3">EarthMoonSystemConstants()</a>, and <a class="el" href="#gacf72e87767c2dd367b47d08c6bf07227">PlotEMTraj()</a>.</p>

</div>
</div>
<a id="ga175d4d61731586c1b52bcc79e7e5ed45" name="ga175d4d61731586c1b52bcc79e7e5ed45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga175d4d61731586c1b52bcc79e7e5ed45">&#9670;&#160;</a></span>ECIToEarthMoonRot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ECIToEarthMoonRot </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> The coordinate frame is +x pointing at the moon along
 the earth-moon line. +z normal to the earth moon plane
 and +y completing the set. Uses MoonV1. Computes the plane
 by looking at the moon vector at jD(k) and then 1 day later.


 Type


 ECIToEarthMoonRot


 for a demo


 Since version 10.
</pre><h2><a class="anchor" id="autotoc_md5579"></a>
Form</h2>
<pre class="fragment"> m = ECIToEarthMoonRot( jD )
</pre><h2><a class="anchor" id="autotoc_md5580"></a>
Inputs</h2>
<pre class="fragment"> jD             (1,:)      Julian date (days)
</pre><h2><a class="anchor" id="autotoc_md5581"></a>
Outputs</h2>
<pre class="fragment"> m              {:}        Rotation matrix
 z              (3,:)      Rotation axis
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga175d4d61731586c1b52bcc79e7e5ed45">ECIToEarthMoonRot()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga175d4d61731586c1b52bcc79e7e5ed45">ECIToEarthMoonRot()</a>.</p>

</div>
</div>
<a id="ga3f26afb5313d65fae1eaa81c60bb350d" name="ga3f26afb5313d65fae1eaa81c60bb350d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f26afb5313d65fae1eaa81c60bb350d">&#9670;&#160;</a></span>EMBToEMBND()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function EMBToEMBND </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale position and velocity in EMB system (rotating or inertial) by distance and velocity units to make non-dimensional</p>
<h2><a class="anchor" id="autotoc_md5582"></a>
Form</h2>
<pre class="fragment"> [rND,vND] = EMBToEMBND( r, v )
</pre><h2><a class="anchor" id="autotoc_md5583"></a>
Inputs</h2>
<pre class="fragment"> r            (3,:)       Position vector in EMBR frame          
 v            (3,:)       Velocity vector in EMBR frame          
</pre><h2><a class="anchor" id="autotoc_md5584"></a>
Outputs</h2>
<pre class="fragment"> rND           (3,:)       Position vector in ECI frame
 vND           (3,:)       Velocity vector in ECI frame
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="#ga3f26afb5313d65fae1eaa81c60bb350d">EMBToEMBND()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3f26afb5313d65fae1eaa81c60bb350d">EMBToEMBND()</a>.</p>

</div>
</div>
<a id="ga2bca4bf1c2e9fc17857355c18594849b" name="ga2bca4bf1c2e9fc17857355c18594849b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bca4bf1c2e9fc17857355c18594849b">&#9670;&#160;</a></span>ForceSimple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ForceSimple </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Models the force for a thruster using a direction vector and a scalar magnitude.</p>
<h2><a class="anchor" id="autotoc_md5727"></a>
Form</h2>
<pre class="fragment"> d = ForceSimple;      % default data structure
 f = ForceSimple( d )
</pre><h2><a class="anchor" id="autotoc_md5728"></a>
Inputs</h2>
<pre class="fragment"> d         (.)   Data structure
                 .uThrustECI (3,1)  Thrust unit vector in the ECI frame
                 .thrustMag  (1,1) Thrust magnitude (N)
</pre><h2><a class="anchor" id="autotoc_md5729"></a>
Outputs</h2>
<pre class="fragment"> f         (3,1) ECI force vector (N)
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="#ga2bca4bf1c2e9fc17857355c18594849b">ForceSimple()</a>, <a class="el" href="quat_8m.html#a04b91fae3e911c99ee12dc42b4406b4b">scalar()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga2bca4bf1c2e9fc17857355c18594849b">ForceSimple()</a>.</p>

</div>
</div>
<a id="ga36b12299f0550edf94e403a0842b560c" name="ga36b12299f0550edf94e403a0842b560c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36b12299f0550edf94e403a0842b560c">&#9670;&#160;</a></span>FThrustLander()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function FThrustLander </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>massFuel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Outputs thrust aligned with the specified vector. The thrust is set to zero once the fuel mass is at or below zero.</p>
<h2><a class="anchor" id="autotoc_md5730"></a>
Form</h2>
<pre class="fragment"> [thrust, uE] = FThrustLander( massFuel, d )
</pre><h2><a class="anchor" id="autotoc_md5731"></a>
Inputs</h2>
<pre class="fragment"> massFuel (1,1) Mass of fuel (kg)
 d        (.)   Data structure
                .thrust  (1,1) Thrust magnitude (N)
                .uE      (1,1) Exhaust velocity (m/s)
                .uThrust (3,1) Thrust unit vector
</pre><h2><a class="anchor" id="autotoc_md5732"></a>
Outputs</h2>
<pre class="fragment"> thrust (3,1)   Thrust vector (N)
 uE      (1,1) Exhaust velocity (m/s)
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga36b12299f0550edf94e403a0842b560c">FThrustLander()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga36b12299f0550edf94e403a0842b560c">FThrustLander()</a>, and <a class="el" href="#gae63ae2ced0e4ca12a3f9d6df651935f6">RHSRVPlanetFixed()</a>.</p>

</div>
</div>
<a id="ga70e8aee107f6b0e50c5bb9b7fa556dae" name="ga70e8aee107f6b0e50c5bb9b7fa556dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70e8aee107f6b0e50c5bb9b7fa556dae">&#9670;&#160;</a></span>FuelMassFromAccel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function FuelMassFromAccel </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>accel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>massDry</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>uE</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type FuelMassFromAccel for a demo with a constant acceleration.</p>
<h2><a class="anchor" id="autotoc_md5649"></a>
Form</h2>
<pre class="fragment"> massFuel = FuelMassFromAccel( accel, dT, massDry, uE )
</pre><h2><a class="anchor" id="autotoc_md5650"></a>
Inputs</h2>
<pre class="fragment"> accel      (1,:)  Acceleration vector
 dT        (1,:)  Time vector
 massDry   (1,1)  Dry mass
 uE        (1,1)  Exhaust velocity
</pre><h2><a class="anchor" id="autotoc_md5651"></a>
Outputs</h2>
<pre class="fragment"> massFuel  (1,1)  Fuel mass (kg)
</pre> 
<p class="reference">References <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="#ga70e8aee107f6b0e50c5bb9b7fa556dae">FuelMassFromAccel()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga70e8aee107f6b0e50c5bb9b7fa556dae">FuelMassFromAccel()</a>.</p>

</div>
</div>
<a id="gaa36f69ab5fe1ca8cc6a97c97afd33968" name="gaa36f69ab5fe1ca8cc6a97c97afd33968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa36f69ab5fe1ca8cc6a97c97afd33968">&#9670;&#160;</a></span>GravityHelio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function GravityHelio </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>mu</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>iD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Julian date is only used if lunar gravitational harmonics are used. If the field, sphHarmMoon, is not empty, it uses the moon harmonics.</p>
<h2><a class="anchor" id="autotoc_md5733"></a>
Form</h2>
<pre class="fragment"> a = GravityHelio( r, jD, rP, mu, iD, d )
</pre><h2><a class="anchor" id="autotoc_md5734"></a>
Inputs</h2>
<pre class="fragment"> r       (3,1)   Heliocentric position (km)
 jD      (1,1)   Julian date (days)
 rP      (3,:)   Heliocentric planet locations (km)
 mu      (1,:)   Gravitational constants (km^3/s^2)
 iD      (1,:)   JPL planet ids
 d       (.)     Data structure
                     .muSun        (1,1)   Sun gravity constants
                     .sphHarmMoon  (.)     Data structure for the moon harmonics
                     .moonID       (1,1)   The index for the moon id in iD
</pre><h2><a class="anchor" id="autotoc_md5735"></a>
Outputs</h2>
<pre class="fragment"> a       (3,:)   ECI force vector (N)
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___orbit_functions.html#ga9d605fc3c0ee7eea381f1cc028cc2208" title="Perturbing acceleration due to a planet on a spacecraft.">APlanet</a>, <a class="el" href="group___orbit_functions.html#ga90f6fdb9989875f76600c37cc30f392a" title="Compute the gravitational acceleration in cartesian coordinates.">AGravityC</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e" title="Computes the matrix that transforms from ECI to selenographic axes.">MoonRot</a> </dd></dl>

<p class="reference">References <a class="el" href="group___orbit_functions.html#ga90f6fdb9989875f76600c37cc30f392a">AGravityC()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___orbit_functions.html#ga9d605fc3c0ee7eea381f1cc028cc2208">APlanet()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="#gaa36f69ab5fe1ca8cc6a97c97afd33968">GravityHelio()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaa36f69ab5fe1ca8cc6a97c97afd33968">GravityHelio()</a>.</p>

</div>
</div>
<a id="gaebbde070bf8128ee90eb889a5e8b3953" name="gaebbde070bf8128ee90eb889a5e8b3953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebbde070bf8128ee90eb889a5e8b3953">&#9670;&#160;</a></span>LandingConst2D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LandingConst2D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constraint is the terminal altitude and velocities. They must be zero. The function integrates the trajectory to find the values.</p>
<h2><a class="anchor" id="autotoc_md5652"></a>
Form</h2>
<pre class="fragment"> [cIn, cEq, s, t] = LandingConst2D( x, d )
</pre><h2><a class="anchor" id="autotoc_md5653"></a>
Inputs</h2>
<pre class="fragment"> x       (:,1)   [beta;dT]
 d        (.)    Data structure describing spacecraft model
                 .hFinal (1,1) Final altitude
                 .a      (1,1) Acceleration
                 .g      (1,1) Gravity
                 .x      (4,1) Initial condition
                 .n      (1,1) Number of segments
</pre><h2><a class="anchor" id="autotoc_md5654"></a>
Outputs</h2>
<pre class="fragment"> cIn    (1,1)   Inequality contraints, empty
 cEq    (3,1)   Equality constraints, [altitude;x velocity;y velocity]
 s      (4,1)   Final state
 t      (1,:)   Corresponding times
</pre><dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___s_c_functions.html#ga8d55ff3b3df38ed45996fb7c70c22f18" title="Right-hand-side for a 2 dimensional planet takeoff.">RHSPlanetTakeoff</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#gaebbde070bf8128ee90eb889a5e8b3953">LandingConst2D()</a>, <a class="el" href="group___s_c_functions.html#ga8d55ff3b3df38ed45996fb7c70c22f18">RHSPlanetTakeoff()</a>, <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089">RK4()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaebbde070bf8128ee90eb889a5e8b3953">LandingConst2D()</a>, and <a class="el" href="group___optical_navigation_functions.html#ga9ce3e29d61121a049c3c3905fafc5f0b">OptimalLunarLanding()</a>.</p>

</div>
</div>
<a id="ga4c4aa0e750a13388d3a1689fb8a6c42f" name="ga4c4aa0e750a13388d3a1689fb8a6c42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c4aa0e750a13388d3a1689fb8a6c42f">&#9670;&#160;</a></span>LandingConst3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LandingConst3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constraint is the terminal altitude and velocities. They must be zero. The function integrates the trajectory to find the values.</p>
<h2><a class="anchor" id="autotoc_md5655"></a>
Form</h2>
<pre class="fragment"> [cIn, cEq, s, t] = LandingConst3D( x, d )
</pre><h2><a class="anchor" id="autotoc_md5656"></a>
Inputs</h2>
<pre class="fragment"> x       (:,1)   [beta;alpha;thrust;dT]
 d        (.)    Data structure describing spacecraft model
                 .timeOpt (1,1) Variable dT if true, otherwise constant
</pre><h2><a class="anchor" id="autotoc_md5657"></a>
Outputs</h2>
<pre class="fragment"> cIn    (1,1)   Inequality contraints, empty
 cEq    (5,1)   Equality constraints, [altitude;y;x velocity;y velocity;z velocity]
 s      (:,1)   Final state
 t      (1,:)   Corresponding times
</pre><dl class="section see"><dt>See also</dt><dd>: RHSPlanet3DPFFrame </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga4c4aa0e750a13388d3a1689fb8a6c42f">LandingConst3D()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51">RHSPlanet3D()</a>, and <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089">RK4()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga4c4aa0e750a13388d3a1689fb8a6c42f">LandingConst3D()</a>.</p>

</div>
</div>
<a id="ga0fa7cc9b4133f9857e5bcf579159cc8c" name="ga0fa7cc9b4133f9857e5bcf579159cc8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fa7cc9b4133f9857e5bcf579159cc8c">&#9670;&#160;</a></span>LandingCost2D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LandingCost2D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>ignoredArg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The cost is the total time for the maneuver. This is computed from the decision variable.</p>
<h2><a class="anchor" id="autotoc_md5658"></a>
Form</h2>
<pre class="fragment"> cost = LandingCost2D( x, ~ )
</pre><h2><a class="anchor" id="autotoc_md5659"></a>
Inputs</h2>
<pre class="fragment"> x       (:,1)   [beta;dT]
 d        (.)    Data structure describing spacecraft model
</pre><h2><a class="anchor" id="autotoc_md5660"></a>
Outputs</h2>
<pre class="fragment"> cost    (1,1)   Total time
</pre> 
<p class="reference">References <a class="el" href="#ga0fa7cc9b4133f9857e5bcf579159cc8c">LandingCost2D()</a>, and <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga0fa7cc9b4133f9857e5bcf579159cc8c">LandingCost2D()</a>, and <a class="el" href="group___optical_navigation_functions.html#ga9ce3e29d61121a049c3c3905fafc5f0b">OptimalLunarLanding()</a>.</p>

</div>
</div>
<a id="ga3cbf4cb8569d27015457033a7070e834" name="ga3cbf4cb8569d27015457033a7070e834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cbf4cb8569d27015457033a7070e834">&#9670;&#160;</a></span>LandingCost3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LandingCost3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The cost is the weighted sum of total time and fuel mass. This is computed from the decision variable.</p>
<h2><a class="anchor" id="autotoc_md5661"></a>
Form</h2>
<pre class="fragment"> cost = LandingCost3D( x, d )
</pre><h2><a class="anchor" id="autotoc_md5662"></a>
Inputs</h2>
<pre class="fragment"> x       (:,1)   [beta;alpha;thrust;dT]
 d        (.)    Data structure describing spacecraft model
                 .timeW (1,1)  Time weight
                 .fuelW (1,1)  Fuel weight
                 .uE    (1,1)  Exhaust velocity
</pre><h2><a class="anchor" id="autotoc_md5663"></a>
Outputs</h2>
<pre class="fragment"> cost    (1,1)   Time weighted with total fuel consumed
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="#ga3cbf4cb8569d27015457033a7070e834">LandingCost3D()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3cbf4cb8569d27015457033a7070e834">LandingCost3D()</a>.</p>

</div>
</div>
<a id="ga9724322338bfbd86f05092bc8930f549" name="ga9724322338bfbd86f05092bc8930f549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9724322338bfbd86f05092bc8930f549">&#9670;&#160;</a></span>LandingLegsCAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LandingLegsCAD </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>varargin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use 'scale' to change the size of the legs. Use 'xy spacing' to adjust the distance between the legs. These legs are based on the Apollo Lunar Module.</p>
<p>Type LandingLegsCAD for a demo.</p>
<h2><a class="anchor" id="autotoc_md5712"></a>
Form</h2>
<pre class="fragment"> [v, f] = LandingLegsCAD( varargin )
</pre><h2><a class="anchor" id="autotoc_md5713"></a>
Inputs</h2>
<pre class="fragment"> 'scale' and 'xy spacing'
</pre><h2><a class="anchor" id="autotoc_md5714"></a>
Outputs</h2>
<pre class="fragment"> v(:,3) Vertices
 f(:,3) Faces
 a(1,:) Area
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#ga9724322338bfbd86f05092bc8930f549">LandingLegsCAD()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, and <a class="el" href="group___orbit_functions.html#gafccfc511a1db5f3b54378342c14675e1">Parameter()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga9724322338bfbd86f05092bc8930f549">LandingLegsCAD()</a>.</p>

</div>
</div>
<a id="ga4daa6e5e48664ca27cf389b5c2c65eac" name="ga4daa6e5e48664ca27cf389b5c2c65eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4daa6e5e48664ca27cf389b5c2c65eac">&#9670;&#160;</a></span>LFToECI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LFToECI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>xLF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5634"></a>
Form</h2>
<pre class="fragment"> xECI = LFToECI(xLF,jD)
</pre><h2><a class="anchor" id="autotoc_md5635"></a>
Inputs</h2>
<pre class="fragment"> xLF   (6,1)    State vector [r;v] (km,km/s)
 jD    (1,1)    Julian date
</pre><h2><a class="anchor" id="autotoc_md5636"></a>
Outputs</h2>
<pre class="fragment"> xECI   (6,1)   State vector [r;v] (km,km/s)
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="#ga4daa6e5e48664ca27cf389b5c2c65eac">LFToECI()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga4daa6e5e48664ca27cf389b5c2c65eac">LFToECI()</a>, and <a class="el" href="group___optical_navigation_functions.html#ga41435043e8caa3e7afe7f238470e0bd1">LunarTrajectoryControl()</a>.</p>

</div>
</div>
<a id="ga8ca3c5456114b7d80c685418a699c0f8" name="ga8ca3c5456114b7d80c685418a699c0f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ca3c5456114b7d80c685418a699c0f8">&#9670;&#160;</a></span>LoadLP150Q()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LoadLP150Q </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>fileName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The model is normalized.</p>
<h2><a class="anchor" id="autotoc_md5611"></a>
Form</h2>
<pre class="fragment"> gravityModel = LoadLP150Q( fileName )
</pre><h2><a class="anchor" id="autotoc_md5612"></a>
Inputs</h2>
<pre class="fragment"> fileName        (1,:) Filename
</pre><h2><a class="anchor" id="autotoc_md5613"></a>
Outputs</h2>
<pre class="fragment"> gravityModel    (.)   Data structure
                       .name (1,:) Model name
                       .mu   (1,1) Gravitational constant (km^3/sec^2)
                       .a    (1,1) Model earth radius (km)
                       .c    (n,n) Cosine coefficients
                       .s    (n,n) Sine coefficients
                       .isNormalized (1,1)  Boolean
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#ga1d7e7f26068f50e08a5a7dab27d5a396">StringToTokens()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="ga2c9e614c2930a6035cab887299aaa78d" name="ga2c9e614c2930a6035cab887299aaa78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c9e614c2930a6035cab887299aaa78d">&#9670;&#160;</a></span>LoadLunarTopography()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LoadLunarTopography </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> It will automatically read the file gltm2b.topo.
 If no output arguments are found it will create a file Topography.txt
 with the s and c coefficients.
</pre><h2><a class="anchor" id="autotoc_md5623"></a>
Form</h2>
<pre class="fragment"> [s,c] = LoadLunarTopography( nH )
</pre><h2><a class="anchor" id="autotoc_md5624"></a>
Inputs</h2>
<pre class="fragment"> nH            (1,1)  Highest harmonic 
</pre><h2><a class="anchor" id="autotoc_md5625"></a>
Outputs</h2>
<pre class="fragment"> s             (:,:)  Normalized sine coefficients
 c             (:,:)  Normalized cosine coefficients
</pre><p>Reference: Smith, D. E., Zuber, M. T., Neumann, G. A., "Topography of
the Moon from the Clementine lidar", Journal of Geophysical Research, Vol. 102, No. E1, pp. 1591-1611, January 25, 1997. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga1ef8a82669c22ea4b87e3356bc92959e">Factorl()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#ga6919dc8ec87b51d1aabc5fe115d19565">Limit()</a>, <a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___s_c_functions.html#ga92b013f94fd1be23a4bab243ff7314a8">AltitudeSH()</a>, <a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography()</a>, <a class="el" href="#ga9d40770600481128a23e4d9339e68ba0">LunarAngle()</a>, <a class="el" href="#ga17b4d9e118cb9e03ed21fb817ed8653e">LunarProfile()</a>, <a class="el" href="#gaeb6cc80cacdb365169785fab42d7e1f3">LunarVisibility()</a>, and <a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980">RSHMoon()</a>.</p>

</div>
</div>
<a id="ga85bcee6f3798b55d2c0e0c8b8b47657a" name="ga85bcee6f3798b55d2c0e0c8b8b47657a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85bcee6f3798b55d2c0e0c8b8b47657a">&#9670;&#160;</a></span>LoadSGM150()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LoadSGM150 </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>fileName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The model is normalized.</p>
<h2><a class="anchor" id="autotoc_md5614"></a>
Form</h2>
<pre class="fragment"> gravityModel = LoadSGM150( fileName )
</pre><h2><a class="anchor" id="autotoc_md5615"></a>
Inputs</h2>
<pre class="fragment"> fileName        (1,:) Filename
</pre><h2><a class="anchor" id="autotoc_md5616"></a>
Outputs</h2>
<pre class="fragment"> gravityModel    (1,1) Data structure
                       .name (1,:) Model name
                       .mu   (1,1) Gravitational constant (km^3/sec^2)
                       .a    (1,1) Model earth radius (km)
                       .c    (n,n) Cosine coefficients
                       .s    (n,n) Sine coefficients
                       .isNormalized  (1,1)  True
</pre> 
<p class="reference">References <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="ga9d40770600481128a23e4d9339e68ba0" name="ga9d40770600481128a23e4d9339e68ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d40770600481128a23e4d9339e68ba0">&#9670;&#160;</a></span>LunarAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarAngle </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>azimuth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> You need to enter a spherical harmonic lunar topography model.
 It loads the default model from LoadLunarTopography if you don't enter
 s or c. n is the number of azimuth points so it computes the topgraphy
 for the full range of azimuths from 0 to 360 degrees.


 Type LunarAngle for a demo.
</pre><h2><a class="anchor" id="autotoc_md5626"></a>
Form</h2>
<pre class="fragment"> elevation = LunarAngle( nH, lat, lon, azimuth, s, c, n  )
</pre><h2><a class="anchor" id="autotoc_md5627"></a>
Inputs</h2>
<pre class="fragment"> nH            (1,1)  Highest harmonic 
 lat           (1,1)  Latitude of the location
 lon           (1,1)  Longitude of the location
 azimuth       (1,:)  Azimuth points starting from north
 s             (:,:)  Normalized sine coefficients
 c             (:,:)  Normalized cosine coefficients
 n             (1,1)  Number of points along each azimuth
</pre><h2><a class="anchor" id="autotoc_md5628"></a>
Outputs</h2>
<pre class="fragment"> elevation    (1,n)  Elevation as a function of azimuth (rad)
 azimuth      (1,n)  Corresponding azimuth (rad)
</pre> 
<p class="reference">References <a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography()</a>.</p>

</div>
</div>
<a id="ga9e64a90e9337b0e4cd1183a1290dd52b" name="ga9e64a90e9337b0e4cd1183a1290dd52b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e64a90e9337b0e4cd1183a1290dd52b">&#9670;&#160;</a></span>LunarLandingControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarLandingControl </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dRHS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This implements a spacecraft control system for landing.</p>
<h2><a class="anchor" id="autotoc_md5664"></a>
Form</h2>
<pre class="fragment"> d = LunarLandingControl;   % default data
 [d,dRHS] = LunarLandingControl( x, t, dRHS, d )
</pre><h2><a class="anchor" id="autotoc_md5665"></a>
Inputs</h2>
<pre class="fragment"> x       (20,1) State vector [r;v;q;w;m;inertia]
                          (km,km/s,-,rad/s,kg,kg-m^2)
 t       (1,1)  Time  (s)
 dRHS    (.) Data structure for the simulation. See RHSLunarLander
 d       (.)    Data structure for the controller
</pre><h2><a class="anchor" id="autotoc_md5666"></a>
Outputs</h2>
<pre class="fragment"> d       (.)    Data structure for the controller
 dRHS    (.) Data structure for the simulation. 
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="group___interplanetary_functions.html#ga19ea0a9e3b0846701cd3b92532fb62d0">LandingControlBilinear()</a>, <a class="el" href="#ga9e64a90e9337b0e4cd1183a1290dd52b">LunarLandingControl()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___s_c_functions.html#gaa06199b6784f7be2466b616810233057">PID3Axis()</a>, <a class="el" href="group___common_functions.html#gad412ba3d9c1a2f7559ac0de6981100a0">PIDMIMO()</a>, <a class="el" href="group___common_functions.html#gab63f3ad8219a695021616d47b8a163a3">QTForm()</a>, <a class="el" href="#ga89aa62f09cc6defb30ea90dc66b45d28">RHSLunarLander()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga9e64a90e9337b0e4cd1183a1290dd52b">LunarLandingControl()</a>.</p>

</div>
</div>
<a id="gaf6613e35cbbf3baba2bab67db6f4ce28" name="gaf6613e35cbbf3baba2bab67db6f4ce28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6613e35cbbf3baba2bab67db6f4ce28">&#9670;&#160;</a></span>LunarLandingTargetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarLandingTargetState </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>alt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>f</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5667"></a>
Form</h2>
<pre class="fragment"> x = LunarLandingTargetState( lat, lon, alt, f )
</pre><h2><a class="anchor" id="autotoc_md5668"></a>
Inputs</h2>
<pre class="fragment"> lat     (1,1)   Target latitude
 lon     (1,1)   Target longitude
 alt     (1,1)   Target altitude
 f       (1,1)   Flattening factor
</pre><h2><a class="anchor" id="autotoc_md5669"></a>
Outputs</h2>
<pre class="fragment"> x     (6,1)   State [r;v]
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga3ae579f78299105d41d72c8eeeb78c19">DispWithTitle()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga58163d4e74aa6958140b13b175c009e5">LatLonAltToEF()</a>, and <a class="el" href="#gaf6613e35cbbf3baba2bab67db6f4ce28">LunarLandingTargetState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaf6613e35cbbf3baba2bab67db6f4ce28">LunarLandingTargetState()</a>.</p>

</div>
</div>
<a id="gaf2c178683c762b30e57064628ed0850d" name="gaf2c178683c762b30e57064628ed0850d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2c178683c762b30e57064628ed0850d">&#9670;&#160;</a></span>LunarMissionControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarMissionControl </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dSim</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>meas</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>cList</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The command list cell array is {time command data} where data is a data structure for that command. The command list rows should be in order of Julian date. You can also use +sec instead of jD in which case the time is +sec after the previous command. If the first command is +sec then it is +sec from the time passed on initialization.</p>
<p>Supported commands:</p>
<pre class="fragment"> Command                          data
 'align with a quaternion',        struct('q_target',[0;1;0;0]);...
 'lunar orbit insertion prepare',   struct('thrust',20,'massInitial',6,...
 'uE', 290*9.806,...
 'body_vector',[1;0;0],...
 'hLunarOrbit',200);...
 'align for lunar insertion',      [];...
 'start main engine',              struct('iD',1,'thrust',20)};
</pre><p>uE is exhaust velocity in m/s. massInitial is the mass at the start of the burn. hLunarOrbit is the altitude of the burn.</p>
<p>meas can be the state vector.</p>
<p>dC = LunarMissionControl gives the default data structure. This also opens a GUI that shows the command list and current command that is being executed.</p>
<p>Commands are implemented via the dSim data structure. This is compatible with RHSLunarMission.</p>
<h2><a class="anchor" id="autotoc_md5715"></a>
Form</h2>
<pre class="fragment"> dC = LunarMissionControl   % default data structure
 [dC, dSim] = LunarMissionControl( action, jD, dC, dSim, meas, cList )
</pre><h2><a class="anchor" id="autotoc_md5716"></a>
Inputs</h2>
<pre class="fragment"> action  (1,:)   'initialize', 'update', 'terminate'
 jD      (1,1)   Julian date
 dC      (.)     Controller data structure
 dSim    (.)     Simulation data structure
 meas    (.)     Measurement data structure or state vector
                 .qECIToBody (4,1) Quaternion
                 .rECI       (3,1) ECI position
                 .vECI       (3,1) ECI velocity
                 .omega      (3,1) Body rate
                 .omegaRWA   (:,1) RWA rates                  
 cList   {:,3}   Command list cell array

-------
</pre> <h2><a class="anchor" id="autotoc_md5717"></a>
Outputs</h2>
<pre class="fragment"> dC      (.)     Controller data structure
 dSim    (.)     Simulation data structure
</pre> 
</div>
</div>
<a id="ga0106368dae68498435695737a8d72784" name="ga0106368dae68498435695737a8d72784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0106368dae68498435695737a8d72784">&#9670;&#160;</a></span>LunarOrbitInsertion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarOrbitInsertion </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>hLunarOrbit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>mI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>uE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>thrust</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the total velocity change, the vector direction for the burn and the duration of the burn. This always burns in the direction of the velocity error. You should approach the moon in the right direction so that the resulting orbit is achieved.</p>
<p>If your input is elements dR must be part of the orbit track otherwise it won't work. The moon relative position must be at the point in the orbit specified by the mean anomaly.</p>
<p>Type LunarOrbitInsertion for a demo.</p>
<h2><a class="anchor" id="autotoc_md5718"></a>
Form</h2>
<p>[deltaV, uECI, tBurn] = LunarOrbitInsertion( hLunarOrbit, dR, dV, mI, uE, thrust )</p>
<h2><a class="anchor" id="autotoc_md5719"></a>
Inputs</h2>
<pre class="fragment"> hLunarOrbit    (1,:)   Perigee altitude or lunar orbital elements
 dR          (3,1)  Relative position vector at start (km)
 dV          (3,1)  Relative velocity vector at start (km/s)
 mI          (1,1)  Initial mass (kg)
 uE          (1,1) Exhaust velocity (m/s)
 thrust      (1,1) Thrust (N)
</pre><h2><a class="anchor" id="autotoc_md5720"></a>
Outputs</h2>
<pre class="fragment"> deltaV  (1,1)   Velocity change (km/s)
 uECI    (3,1)   Vector for burn
 tBurn   (1,1)   Burn duration (sec)
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="gab200502c51b6782d3c3bc442fed60212" name="gab200502c51b6782d3c3bc442fed60212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab200502c51b6782d3c3bc442fed60212">&#9670;&#160;</a></span>LunarPolarOrbit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarPolarOrbit </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>e</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5637"></a>
Form</h2>
<pre class="fragment"> x = LunarPolarOrbit( a, e, jD )
</pre><h2><a class="anchor" id="autotoc_md5638"></a>
Inputs</h2>
<pre class="fragment"> a      (1,1)   Semi-major axis
 e      (1,1)   Eccentricity
 jD (1,1)   Julian date
</pre><h2><a class="anchor" id="autotoc_md5639"></a>
Outputs</h2>
<pre class="fragment"> x      (6,1) [r;v] (km,km/s) ECI
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___orbit_functions.html#ga5afb2fb1d6667a79269e1376665d1064">El2RV()</a>, <a class="el" href="#gab200502c51b6782d3c3bc442fed60212">LunarPolarOrbit()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, <a class="el" href="group___common_functions.html#ga7d3c7fb06a85848dbbdcf0e6cbcf17fb">QForm()</a>, <a class="el" href="group___common_functions.html#gab1cad35e41ac74584be669b1c77d6788">U2Q()</a>, and <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gab200502c51b6782d3c3bc442fed60212">LunarPolarOrbit()</a>.</p>

</div>
</div>
<a id="ga17b4d9e118cb9e03ed21fb817ed8653e" name="ga17b4d9e118cb9e03ed21fb817ed8653e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17b4d9e118cb9e03ed21fb817ed8653e">&#9670;&#160;</a></span>LunarProfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarProfile </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lambda</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Lambda and theta are 1-dimensional arrays.


 Type LunarProfile for a demo.
</pre><h2><a class="anchor" id="autotoc_md5629"></a>
Form</h2>
<pre class="fragment"> r =  LunarProfile( nH, lambda, theta, s, c )
</pre><h2><a class="anchor" id="autotoc_md5630"></a>
Inputs</h2>
<pre class="fragment"> nH            (1,1)  Highest harmonic 
 lambda        (1,:)  Equatorial angles
 theta         (1,:)  Angles from pole
 s             (:,:)  Normalized sine coefficients
 c             (:,:)  Normalized cosine coefficients 
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___math_functions.html#ga82d2eaffbfc4c2a2bc904b5f013e0d64">DupVect()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography()</a>, <a class="el" href="#ga17b4d9e118cb9e03ed21fb817ed8653e">LunarProfile()</a>, <a class="el" href="group___math_functions.html#ga1928b8f08fe462d6d1c402a783d33dac">PAL()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="group___math_functions.html#ga6ce037b6f6ed4c531ff3988289cf62c4">SCHarm()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga17b4d9e118cb9e03ed21fb817ed8653e">LunarProfile()</a>.</p>

</div>
</div>
<a id="ga589b358fbcf113b219d304131928d8e7" name="ga589b358fbcf113b219d304131928d8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga589b358fbcf113b219d304131928d8e7">&#9670;&#160;</a></span>LunarRelativeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarRelativeState </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rTarget</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Also returns latitude, longitude and altitude.</p>
<h2><a class="anchor" id="autotoc_md5640"></a>
Form</h2>
<pre class="fragment"> d = LunarRelativeState(x,jD,rTarget)
</pre><h2><a class="anchor" id="autotoc_md5641"></a>
Inputs</h2>
<pre class="fragment"> x       (20,1) State vector [r;v;..] (km,km/s)
 jD      (1,1)   Julian date
 rTarget (3,1)   Target position in the lunar frame (km)
</pre><h2><a class="anchor" id="autotoc_md5642"></a>
Outputs</h2>
<pre class="fragment"> d       (.)     Data structure for the output
                 .lat   (1,1) Latitude (deg)
                 .lon   (1,1) Longitude (deg)
                 .alt   (1,1) Altitude (km)
                 .r     (3,1) Relative position (km)
                 .v     (3,1) Relative velocity (km/s)
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#ga661eef54b3bae179f5c6f7c5e6ff1ede">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga84f57bf0fc0095d9bc0f6d762872df6f">EFToLatLonAlt()</a>, <a class="el" href="#ga589b358fbcf113b219d304131928d8e7">LunarRelativeState()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga589b358fbcf113b219d304131928d8e7">LunarRelativeState()</a>.</p>

</div>
</div>
<a id="ga992b184e9a60cf90d2080a348a8e1e7f" name="ga992b184e9a60cf90d2080a348a8e1e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga992b184e9a60cf90d2080a348a8e1e7f">&#9670;&#160;</a></span>LunarTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarTarget </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>downrange</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5670"></a>
Form</h2>
<pre class="fragment"> r = LunarTarget( x, jD, downrange )
</pre><h2><a class="anchor" id="autotoc_md5671"></a>
Inputs</h2>
<pre class="fragment"> x         (20,1)  State vector [r;v;..] (km,km/s)
 jD        (1,1)   Julian date
 downrange (3,1)   Downrange distance
</pre><h2><a class="anchor" id="autotoc_md5672"></a>
Outputs</h2>
<pre class="fragment"> r         (3,1)   Landing spot in the lunar fixed frame
</pre> 
<p class="reference">References <a class="el" href="#ga992b184e9a60cf90d2080a348a8e1e7f">LunarTarget()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga992b184e9a60cf90d2080a348a8e1e7f">LunarTarget()</a>.</p>

</div>
</div>
<a id="ga659fbbb949014d4170fd77e93d9f520b" name="ga659fbbb949014d4170fd77e93d9f520b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga659fbbb949014d4170fd77e93d9f520b">&#9670;&#160;</a></span>LunarTargeting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarTargeting </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>date</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>el0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>inc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>fIf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>simJDP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>opts</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the JPL Ephemerides for the Earth and moon. The target is the perilune altitude of the hyperbolic passage of the moon. The function propagates the resulting trajectory using ode113. It propagates to the target point. You can specify radius of perilune and orbit inclination.</p>
<p>This function uses Lambert to target a point on the Earth/Moon interface. The point is where the hyperbolic passage of the moon starts. This justifies the single body Lambert solution.</p>
<p>The spacecraft starts in any Earth orbit.</p>
<p>Requires fmincon in the optimization toolbox. See fmincon for the definition of the argument opts.</p>
<p>Type LunarTargeting for a demo.</p>
<h2><a class="anchor" id="autotoc_md5721"></a>
Form</h2>
<pre class="fragment"> [x0,eL,v,jD0] = LunarTargeting( date, a0, rP, inc, fIf, opts )
</pre><h2><a class="anchor" id="autotoc_md5722"></a>
Inputs</h2>
<pre class="fragment"> date    (1,:)  Date [yy mm dd hh mm ss] or Julian date
                of lunar encounter. "Encounter": When spacecraft reaches
                earth/moon interface.
 el0     (1,5)  Initial keplerian orbital elements [a,i,W,w,e] in km and
                radians 
 rP      (1,1)  Desired perilune distance (km)
 inc     (1,1)  Desired Lunar orbit inclination (rad)
 fIf     (1,1)  The Earth/Moon gravitational interface point from the
                moon
 simJDP  (1,1)  Logical. If false, jDP is computed from Keplerian lunar
                elements. If true, jDP is computed more accurately via
                simulation. Default: False
 opts    (.)    Optimization tolerance data structure
</pre><h2><a class="anchor" id="autotoc_md5723"></a>
Outputs</h2>
<pre class="fragment"> x0      (1,6)  Initial state [r,v] in km and km/s
 elL     (6,1)  Final lunar keplerian orbital elements [a,i,W,w,e,M] in
                km and radians 
 v       (3,2)  Initial and interface velocity in km/s
 jD0     (1,1)  Start Julian date
 jDP     (1,1)  Julian date of perilune
</pre> 
<p class="reference">References <a class="el" href="acstate_8m.html#ac9ad2959b7b091d60ba42cfd4614a0a8">abs()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___orbit_functions.html#ga9d605fc3c0ee7eea381f1cc028cc2208">APlanet()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="#gac55dd234f2e90adffa4cc67c8ecf0d78">EarthMoon()</a>, <a class="el" href="group___orbit_functions.html#ga5afb2fb1d6667a79269e1376665d1064">El2RV()</a>, <a class="el" href="group___common_functions.html#ga2ae3c0d75f4cc0335f754630ad242b82">HasOptimizationToolbox()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="group___orbit_functions.html#gacd03e02247d5d61495c8840dedd1416a">LambertTOF()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#ga659fbbb949014d4170fd77e93d9f520b">LunarTargeting()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___orbit_functions.html#ga7c1eb42e22d71a258a2045394604e33b">Period()</a>, <a class="el" href="group___interplanetary_functions.html#ga2b5e0ac3a78c312c0b1a492ff4e50d16">PlanetPosJPL()</a>, <a class="el" href="group___common_functions.html#ga8f5f143027f22f0c9575996036c39c00">Plot3D()</a>, <a class="el" href="_rendezvous_sim_8m.html#a877f1073b93edf945c9063c16509d9cc">RHS()</a>, <a class="el" href="group___orbit_functions.html#ga1089993ec76d603555d52ad54c1aecfe">RV2El()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga659fbbb949014d4170fd77e93d9f520b">LunarTargeting()</a>.</p>

</div>
</div>
<a id="gaeb6cc80cacdb365169785fab42d7e1f3" name="gaeb6cc80cacdb365169785fab42d7e1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb6cc80cacdb365169785fab42d7e1f3">&#9670;&#160;</a></span>LunarVisibility()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function LunarVisibility </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the Clementine surface model. The orbit is in the inertial frame but lunar centric.</p>
<p>Type LunarVisibility for a demo.</p>
<h2><a class="anchor" id="autotoc_md5724"></a>
Form</h2>
<pre class="fragment"> kVis = LunarVisibility( lat, lon, jD0, r, t, nH )
</pre><h2><a class="anchor" id="autotoc_md5725"></a>
Inputs</h2>
<pre class="fragment"> lat   (1,1)    Latitude of the ground target (rad)
 lon   (1,1)    Longitude of the ground target (rad)
 jD0   (1,1)    Julian data of start (days)
 r     (3,:)    ECI frame orbit (rad)
 t     (1,:)    Times corresponding to points in r (s)
 nH    (1,1)    Number of harmonics in the surface model (72 maximum)
</pre><h2><a class="anchor" id="autotoc_md5726"></a>
Outputs</h2>
<pre class="fragment"> kVis   (1,:)   1 if the satellite is visible, 0 if not
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980" title="Generates a topographic map of the moon using spherical harmonics.">RSHMoon</a>. </dd></dl>

<p class="reference">References <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___aerospace_utils_functions.html#gaa13a746ff8d11fcd7f0ee47c15093020">LatLonToR()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography()</a>, <a class="el" href="#gaeb6cc80cacdb365169785fab42d7e1f3">LunarVisibility()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___common_functions.html#ga228ee3d4a49106f9460dd51b02b87f23">Map()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="group___orbit_functions.html#gafe44bccc182e3a10df9def6b15983170">RPRA2AE()</a>, <a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980">RSHMoon()</a>, <a class="el" href="group___orbit_functions.html#ga8dd4015eb11dd93d9278245e033a1ec6">RVOrbGen()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="group___aerospace_utils_functions.html#gaf6b85171d6432a84e74d8a7351d80970">U2RADec()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, <a class="el" href="group___common_functions.html#ga3316d5f8b1fb697a5b67b1a32604752d">Watermark()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaeb6cc80cacdb365169785fab42d7e1f3">LunarVisibility()</a>.</p>

</div>
</div>
<a id="gaac5f2cf14282d12e55b91504df38a641" name="gaac5f2cf14282d12e55b91504df38a641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac5f2cf14282d12e55b91504df38a641">&#9670;&#160;</a></span>MoonECIElements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function MoonECIElements </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the state of the moon from a single epoch to compute elements. Type MoonECIElements for a comparison with MoonV1 and MoonV2.</p>
<h2><a class="anchor" id="autotoc_md5643"></a>
Form</h2>
<pre class="fragment"> [el, jD] = MoonECIElements
</pre><h2><a class="anchor" id="autotoc_md5644"></a>
Inputs</h2>
<pre class="fragment"> None
</pre><h2><a class="anchor" id="autotoc_md5645"></a>
Outputs</h2>
<pre class="fragment"> el      (1,6)   [a i W w e M]
 jD      (1,1)   Epoch  of elements
</pre><p>Reference: JPL Horizons, <a href="https://ssd.jpl.nasa.gov/horizons.cgi">https://ssd.jpl.nasa.gov/horizons.cgi</a> (2020) </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="#gaac5f2cf14282d12e55b91504df38a641">MoonECIElements()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="group___s_c_functions.html#ga4d682b11b399ae798b4e6b085b2bf923">MoonV2()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="group___orbit_functions.html#ga1089993ec76d603555d52ad54c1aecfe">RV2El()</a>, <a class="el" href="group___orbit_functions.html#ga8dd4015eb11dd93d9278245e033a1ec6">RVOrbGen()</a>, and <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaac5f2cf14282d12e55b91504df38a641">MoonECIElements()</a>.</p>

</div>
</div>
<a id="gac6518ef388e4dc35d2b8f5d6960a162e" name="gac6518ef388e4dc35d2b8f5d6960a162e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6518ef388e4dc35d2b8f5d6960a162e">&#9670;&#160;</a></span>MoonRot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function MoonRot </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> mean is the default type.


 Type MoonRot for a demo.
</pre><h2><a class="anchor" id="autotoc_md5646"></a>
Form</h2>
<pre class="fragment"> [g, omega] = MoonRot( jD, type )
</pre><h2><a class="anchor" id="autotoc_md5647"></a>
Inputs</h2>
<pre class="fragment"> jD      (1,1) Julian Date
 type    (1,4) 'mean' or 'true'
</pre><h2><a class="anchor" id="autotoc_md5648"></a>
Outputs</h2>
<pre class="fragment"> g       (3,3) ECI To Selenographic
 omega   (3,1) ECI Polar rotation vector
</pre><p>References: Escobal, P. R., Methods of Orbit Determination, Krieger, pp. 413-416. </p>

<p class="reference">References <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga2fd593f7d15feb11aa32b34a52f9ae7b">CubeSatLunarEnvironment()</a>, <a class="el" href="group___interplanetary_functions.html#ga348ca74e38f2ef9339a626055916fa0e">FEarthMoonSun()</a>, <a class="el" href="#gaa36f69ab5fe1ca8cc6a97c97afd33968">GravityHelio()</a>, <a class="el" href="#ga4daa6e5e48664ca27cf389b5c2c65eac">LFToECI()</a>, <a class="el" href="#gab200502c51b6782d3c3bc442fed60212">LunarPolarOrbit()</a>, <a class="el" href="#ga589b358fbcf113b219d304131928d8e7">LunarRelativeState()</a>, <a class="el" href="#ga992b184e9a60cf90d2080a348a8e1e7f">LunarTarget()</a>, <a class="el" href="#gaeb6cc80cacdb365169785fab42d7e1f3">LunarVisibility()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, <a class="el" href="group___optical_navigation_functions.html#ga6bea9b80160d17af51c7a4decdc8d436">OpticalNavLunarLandmarkStar()</a>, <a class="el" href="group___sail_functions.html#gadc44462a3ea3d6c93c3ff6fc5aca14e7">PlanetRot()</a>, <a class="el" href="#ga042acfe5a9c90a187c42f2f5c75f3369">PlotLunarOrbit()</a>, and <a class="el" href="#ga39a8b9a6f7485b09bb7bc085390ea751">RHSLunarOrbit()</a>.</p>

</div>
</div>
<a id="ga7d06810c7d9835226587fb69958bc854" name="ga7d06810c7d9835226587fb69958bc854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d06810c7d9835226587fb69958bc854">&#9670;&#160;</a></span>NoForce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function NoForce </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>varargin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5736"></a>
Form</h2>
<pre class="fragment"> [t,f] = NoForce( varargin )
</pre><h2><a class="anchor" id="autotoc_md5737"></a>
Inputs</h2>
<pre class="fragment"> None used.
</pre><h2><a class="anchor" id="autotoc_md5738"></a>
Outputs</h2>
<pre class="fragment"> t         (3,:) Body torque vector (Nm)
 f         (3,:) Body force vector (N)
</pre> 
<p class="reference">References <a class="el" href="#ga7d06810c7d9835226587fb69958bc854">NoForce()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga7d06810c7d9835226587fb69958bc854">NoForce()</a>.</p>

</div>
</div>
<a id="gaaeaf306f3e3534c6a676e85077c7ff91" name="gaaeaf306f3e3534c6a676e85077c7ff91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeaf306f3e3534c6a676e85077c7ff91">&#9670;&#160;</a></span>OrbitStateMatrices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function OrbitStateMatrices </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>xF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> The matrices are ax = b
 x is the vector of decision variables or controls
 The order is [x1;x2;x3;...;xN] where each x is a vector


 xI is only used to compute the term mu/R^3. A constant xI is 
 sufficient for most low-altitude landings.


 Type OrbitStateMatrices for a demo.
</pre><h2><a class="anchor" id="autotoc_md5673"></a>
Form</h2>
<pre class="fragment"> [a,b,xF0,aX,bX] = OrbitStateMatrices( xI, xF, dT, d )
</pre><h2><a class="anchor" id="autotoc_md5674"></a>
Inputs</h2>
<pre class="fragment"> x       (6,:)   States [x;y;z;vX;vY;vZ]
 xF      (6,:)   Final desired state   [x;y;z;vX;vY;vZ]
 dT      (1,1)   Delta time
 d        (.)    Data structure describing spacecraft model
                 .beta   (1,:) Thrust angle in rv plane
                 .alpha  (1,:) Thrust angle out of plane
                 .thrust (1,:) Thrust (N)
                 .accel  (1,:) 'constant' or 'free'
                 .m0     (1,1) Dry mass
                 .radius (1,1) Planet radius
</pre><h2><a class="anchor" id="autotoc_md5675"></a>
Outputs</h2>
<pre class="fragment"> a     (6,3*n)   Matrix multiplying the decision variables
 b     (6,1)     Right hand side
 xF0   (6,1)     Final state without control
 aX    {n}       Cell array of state transition matrices
 bX    {n}       Cell array of input matrices
</pre> 
<p class="reference">References <a class="el" href="#gaaeaf306f3e3534c6a676e85077c7ff91">OrbitStateMatrices()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaaeaf306f3e3534c6a676e85077c7ff91">OrbitStateMatrices()</a>.</p>

</div>
</div>
<a id="gacf72e87767c2dd367b47d08c6bf07227" name="gacf72e87767c2dd367b47d08c6bf07227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf72e87767c2dd367b47d08c6bf07227">&#9670;&#160;</a></span>PlotEMTraj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PlotEMTraj </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Type PlotEMTraj for a demo


 Since version 11.
</pre><h2><a class="anchor" id="autotoc_md5760"></a>
Form</h2>
<pre class="fragment"> p = PlotEMTraj( r, frame, jD )
</pre><h2><a class="anchor" id="autotoc_md5761"></a>
Inputs</h2>
<pre class="fragment"> r         (3,:)   Trajectory data 
 frame      (:)    Coordinate frame. May be one of the following:
                     'EMBRND'    Earth-Moon Barycenter Rotating Non-Dim.
                     'EMBR'      Earth-moon Barycenter Rotating
                     'ECI'       Earth-centered Inertial
                     'MCI'       Moon-centered Inertial
                     'MCR'       Moon-centered Rotating


 jD        (1,1)   Julian date time vector
</pre><h2><a class="anchor" id="autotoc_md5762"></a>
Outputs</h2>
<pre class="fragment"> None
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___interplanetary_functions.html#ga5f4ce0420aecb06770e66fac49299466">CRTBPRHS()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga519ba5b2af1b6b1aba6c924243e3ba1d">Dim()</a>, <a class="el" href="#ga703d08e61f84dc8b43945141c8e55fb3">EarthMoonSystemConstants()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="#gacf72e87767c2dd367b47d08c6bf07227">PlotEMTraj()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___a_c_functions.html#ga14d05fc63c1e8afbd89ca25fcc700933">Trajectory()</a>, <a class="el" href="#gaf1141043cb4cf97b202de1a71c4ae038">TransformEMBRToECI()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gacf72e87767c2dd367b47d08c6bf07227">PlotEMTraj()</a>.</p>

</div>
</div>
<a id="ga042acfe5a9c90a187c42f2f5c75f3369" name="ga042acfe5a9c90a187c42f2f5c75f3369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga042acfe5a9c90a187c42f2f5c75f3369">&#9670;&#160;</a></span>PlotLunarOrbit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PlotLunarOrbit </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rECI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>uSun</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>thrust</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>magF</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The terrain magnification factor increases the height of the terrain making it easier to see.</p>
<p>Type PlotLunarOrbit for a demo.</p>
<h2><a class="anchor" id="autotoc_md5763"></a>
Form</h2>
<pre class="fragment"> PlotLunarOrbit( rECI, jD, uSun, magF )
</pre><h2><a class="anchor" id="autotoc_md5764"></a>
Inputs</h2>
<pre class="fragment"> rECI    (3,:)  ECI frame orbit (km)
 jD      (1,:)  Julian date (day)
 uSun    (3,:)  Sun vector
 thrust  (3,:)  Thrust Vectors
 magF    (1,1)  Terrain magnification factor
</pre><h2><a class="anchor" id="autotoc_md5765"></a>
Outputs</h2>
<pre class="fragment"> None
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="group___interplanetary_functions.html#ga406178a8940e4e5824aaceb986669f5b">PlanetWithTerrain()</a>, <a class="el" href="#ga042acfe5a9c90a187c42f2f5c75f3369">PlotLunarOrbit()</a>, <a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980">RSHMoon()</a>, <a class="el" href="group___orbit_functions.html#ga81aeaeb57bec300fb9cca611d68ea9f1">RVFromKepler()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="group___common_functions.html#gaeca3ec9be91d33d8b95904c431c6e4d0">TitleS()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, <a class="el" href="group___common_functions.html#ga3316d5f8b1fb697a5b67b1a32604752d">Watermark()</a>, <a class="el" href="group___common_functions.html#gac9aa46a0522738d5b0517cbad1801f87">XLabelS()</a>, <a class="el" href="group___common_functions.html#ga44852ccbe0e2aa704e7fa3fa174203dc">YLabelS()</a>, <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>, and <a class="el" href="group___common_functions.html#ga093a9fb1a6b4e968d9ae74917ddf109b">ZLabelS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga042acfe5a9c90a187c42f2f5c75f3369">PlotLunarOrbit()</a>.</p>

</div>
</div>
<a id="gac59f36307ca4eb500d7de50effc95db7" name="gac59f36307ca4eb500d7de50effc95db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac59f36307ca4eb500d7de50effc95db7">&#9670;&#160;</a></span>PlotSEMTraj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PlotSEMTraj </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> The input vectors are in the ECI frame. Has a built-in demo for an orbit  
 with an apogee of 400,000 km, a perigee of 7000 km, and a duration of 5 days.


 Type PlotSEMTraj for a demo.


 Forms:
 h = PlotSEMTraj( r, frame, jD )
</pre><h2><a class="anchor" id="autotoc_md5766"></a>
Inputs</h2>
<pre class="fragment"> r                (3,:) position vectors (km)
 frame            (1,1) frame of r
                        'SEMRND', 'SEMR', 'ECI'
 jD               (:)   Julian dates
</pre><h2><a class="anchor" id="autotoc_md5767"></a>
Outputs</h2>
<pre class="fragment"> h                (1,1) Figure handle                  
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___interplanetary_functions.html#ga5f4ce0420aecb06770e66fac49299466">CRTBPRHS()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="#gac59f36307ca4eb500d7de50effc95db7">PlotSEMTraj()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___a_c_functions.html#ga14d05fc63c1e8afbd89ca25fcc700933">Trajectory()</a>, and <a class="el" href="group___common_functions.html#ga3316d5f8b1fb697a5b67b1a32604752d">Watermark()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac59f36307ca4eb500d7de50effc95db7">PlotSEMTraj()</a>.</p>

</div>
</div>
<a id="gac8469326bbc343cb7a968d9d06edd7c4" name="gac8469326bbc343cb7a968d9d06edd7c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8469326bbc343cb7a968d9d06edd7c4">&#9670;&#160;</a></span>PropagateState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PropagateState </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>beta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5676"></a>
Form</h2>
<pre class="fragment"> xP = PropagateState( x, beta, dT, d )
</pre><h2><a class="anchor" id="autotoc_md5677"></a>
Inputs</h2>
<pre class="fragment"> x       (4,:)   Initial state [x;y;vX;vY]
 beta    (1,:)   Thrust angle (rad)
 dT      (1,:)   Delta time for each step
 d        (.)    Data structure describing spacecraft model
                 .a (1,1) Thrust acceleration (m/s^2)
                 .g (1,1) Gravitation acceleration (m/s^2)
                 .n (1,1) Number of steps
</pre><h2><a class="anchor" id="autotoc_md5678"></a>
Outputs</h2>
<pre class="fragment"> xP    (4,:)   State
</pre><dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___s_c_functions.html#ga8d55ff3b3df38ed45996fb7c70c22f18" title="Right-hand-side for a 2 dimensional planet takeoff.">RHSPlanetTakeoff</a>, <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089" title="Fourth order Runge-Kutta.">RK4</a> </dd></dl>

<p class="reference">References <a class="el" href="#gac8469326bbc343cb7a968d9d06edd7c4">PropagateState()</a>, <a class="el" href="group___s_c_functions.html#ga8d55ff3b3df38ed45996fb7c70c22f18">RHSPlanetTakeoff()</a>, <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089">RK4()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gac8469326bbc343cb7a968d9d06edd7c4">PropagateState()</a>, and <a class="el" href="#gadfe008a82ba0c6d5802f10e20102d430">Simulate2DLanding()</a>.</p>

</div>
</div>
<a id="gaf2cff28ef8fa4a42e86649ed61a10e6d" name="gaf2cff28ef8fa4a42e86649ed61a10e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2cff28ef8fa4a42e86649ed61a10e6d">&#9670;&#160;</a></span>PropagateState3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PropagateState3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Propagate the state with RHSPlanet3D and RK4 for the given control angles. If the fuel mass becomes negative, thrust is set to zero.</p>
<h2><a class="anchor" id="autotoc_md5679"></a>
Form</h2>
<pre class="fragment"> xP = PropagateState3D( x, dT, d )
</pre><h2><a class="anchor" id="autotoc_md5680"></a>
Inputs</h2>
<pre class="fragment"> x       (7,1)   Initial state [x;y;z;vX;vY;vZ;m]
 dT      (1,:)   Delta time for each step
 d        (.)    Data structure describing spacecraft model
                 .beta   (1,:) Thrust angle in rv plane
                 .alpha  (1,:) Thrust angle out of plane
                 .thrust (1,:) Thrust (N)
                 .accel  (1,:) 'constant' or 'free'
                 .m0     (1,1) Dry mass
                 .n      (1,1) Number of steps to simulate
                 .nG     (1,1) Multiplier of 'g', gravity, for 'constant'
</pre><h2><a class="anchor" id="autotoc_md5681"></a>
Outputs</h2>
<pre class="fragment"> xP    (7,:)   State
</pre><dl class="section see"><dt>See also</dt><dd>: <a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51" title="Cartesian orbital equations in a planet fixed (rotating) frame.">RHSPlanet3D</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gaf2cff28ef8fa4a42e86649ed61a10e6d">PropagateState3D()</a>, <a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51">RHSPlanet3D()</a>, <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089">RK4()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaf2cff28ef8fa4a42e86649ed61a10e6d">PropagateState3D()</a>, and <a class="el" href="#gadacb57322cb75958462fdbfb151560c2">Simulate3DLanding()</a>.</p>

</div>
</div>
<a id="ga89aa62f09cc6defb30ea90dc66b45d28" name="ga89aa62f09cc6defb30ea90dc66b45d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89aa62f09cc6defb30ea90dc66b45d28">&#9670;&#160;</a></span>RHSLunarLander()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSLunarLander </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a rigid body with an external force and torque input. The position is in km. The gravity model is for a point mass. The force and torque area constant across the integration time step.</p>
<p>The function fDist (which should be a pointer) is of the form</p>
<pre class="fragment"> [force, torque] = MyFun( x, t, d )
</pre><p>You can add additional fields to d. force must be in N in the body frame and torque in Nm in the body frame. This function allows you to add forces and torques within the integration loop. This is required for forces and torques that are functions of time or the state vector.</p>
<h2><a class="anchor" id="autotoc_md5739"></a>
Form</h2>
<pre class="fragment"> xDot = RHSLunarLander( x, t, d )
</pre><h2><a class="anchor" id="autotoc_md5740"></a>
Inputs</h2>
<pre class="fragment"> x       (20,1) State vector [r;v;q;w;m;inertia] (km,km/s,,rad/s,kg,kg-m^2)
 t       (1,1)  Time  (s)
 d       (1,1)  Data structure for the simulation
                 .torque   (3,1) External torque (Nm)
                 .thrust   (1,1) Engine Thrust (N)
                 .uThrust   (3,1) Unit vector in the body frame
                 .rThrust   (3,1) Thrust position in the body frame
                 .inertia  (3,3) Vehicle inertia (kg-m^2)
                 .inertia  (3,3) Vehicle inertia (kg-m^2)
                 .massDry  (1,1) Vehicle dry mass (kg)
                 .aGrav    (1,1) Pointer to gravity function
</pre><h2><a class="anchor" id="autotoc_md5741"></a>
Outputs</h2>
<pre class="fragment"> xDot   (:,1)     dx/dt
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="group___math_functions.html#ga79ee3f94f0485cbba7aecc0d49f1c22e">Euler()</a>, <a class="el" href="group___common_functions.html#ga27f3dfb980e396d07b061dab831d7a12">JD2000()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___aerospace_utils_functions.html#gaf230d068a69ec8ecec8577eddd1dd4be">QIToBDot()</a>, <a class="el" href="group___common_functions.html#gab63f3ad8219a695021616d47b8a163a3">QTForm()</a>, <a class="el" href="#ga89aa62f09cc6defb30ea90dc66b45d28">RHSLunarLander()</a>, <a class="el" href="group___math_functions.html#ga871412157385a6e7e302a6060aa8c6d5">Skew()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga9e64a90e9337b0e4cd1183a1290dd52b">LunarLandingControl()</a>, and <a class="el" href="#ga89aa62f09cc6defb30ea90dc66b45d28">RHSLunarLander()</a>.</p>

</div>
</div>
<a id="gad9ec5c5853351c315e6f2be7ded4fe26" name="gad9ec5c5853351c315e6f2be7ded4fe26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9ec5c5853351c315e6f2be7ded4fe26">&#9670;&#160;</a></span>RHSLunarMission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSLunarMission </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Includes solar disturbances and the power model. Any number of reaction wheels can be simulated. Reaction wheels are optional. It also includes states for the IMU (gyro and accelerometer) bias.</p>
<ul>
<li><p class="startli">The gravity model includes the Earth, Sun and the Moon.</p>
<p class="startli">The Moon gravity model can have spherical harmonics.</p>
</li>
<li><p class="startli">The solar power model includes eclipses due to the Moon and Earth</p>
<p class="startli">but not self-shadowing.</p>
</li>
</ul>
<p>You can select the Moon or Earth as the coordinate center for orbit propagation. Get the default data structure by typing:</p>
<pre class="fragment"> d = RHSLunarMission
</pre><p>Set up the state name output by typing:</p>
<pre class="fragment"> RHSLunarMission( x );
</pre><p>You must initialize the JPL ephemerides prior to using this function. Type:</p>
<pre class="fragment"> PlanetPosJPL( 'initialize', [0 3 10] );



 Forms:
 d = RHSLunarMission;            % data structure
 RHSLunarMission( x );       % initialize persistent variables
 [xDot, p] = RHSLunarMission( x, t, d )
</pre><h2><a class="anchor" id="autotoc_md5742"></a>
Inputs</h2>
<pre class="fragment"> x     (:,1)   State [rECI;vECI;qECIToBody;omega;massFuel;pBattery;
                      iMUBiasAccel;iMUBiasGyro;omegaRWA]
 t     (1,1)   Time
 d     (.)     Data structure
                    .jD0        (1,1) Julian date of epoch
                    .mass       (1,1) Spacecraft mass (kg)
                    .inertia    (3,3) Spacecraft inertia (kg-m2)
                    .power       (.)  Power data, see SolarCellPower 
                    .opticalModel * Handle, see CubeSatRadiationPressure
                    .surfData    (.)  optional; empty to skip optical calcs
                    .thruster    (.)
                    .rWA         (.)
                    .iMU         (.)
                    .gravity     (.)
                    .forceBody  (3,1) Body forces (N)
                    .torqueBody (3,1) Body torques (Nm)
</pre><h2><a class="anchor" id="autotoc_md5743"></a>
Outputs</h2>
<pre class="fragment"> xDot  (:,1)   dx/dt
 p     (.)     Data structure with internally computed variables
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="#ga2fd593f7d15feb11aa32b34a52f9ae7b">CubeSatLunarEnvironment()</a>, <a class="el" href="group___cube_sat_functions.html#gac0ebca1757e5823bd49b78d81e984577">CubeSatRadiationPressure()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="group___math_functions.html#ga82d2eaffbfc4c2a2bc904b5f013e0d64">DupVect()</a>, <a class="el" href="group___s_c_functions.html#ga0cc6ab29e5b16a5e2c0b97853a972ab1">IMU()</a>, <a class="el" href="group___cube_sat_functions.html#ga7efce379f13b4c76e454997378ff5322">InertiaCubeSat()</a>, <a class="el" href="_core_2_common_2_help_2_file_help_8m.html#a532de5881ce1058a73a4636d8713c409">Initialize()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___interplanetary_functions.html#ga2b5e0ac3a78c312c0b1a492ff4e50d16">PlanetPosJPL()</a>, <a class="el" href="group___common_functions.html#ga7d3c7fb06a85848dbbdcf0e6cbcf17fb">QForm()</a>, <a class="el" href="group___aerospace_utils_functions.html#gaf230d068a69ec8ecec8577eddd1dd4be">QIToBDot()</a>, <a class="el" href="group___common_functions.html#gab63f3ad8219a695021616d47b8a163a3">QTForm()</a>, <a class="el" href="#gad9ec5c5853351c315e6f2be7ded4fe26">RHSLunarMission()</a>, <a class="el" href="group___math_functions.html#ga871412157385a6e7e302a6060aa8c6d5">Skew()</a>, and <a class="el" href="group___cube_sat_functions.html#ga6f8e769c200bc7c559fc5f7e3342137d">SolarCellPower()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gad9ec5c5853351c315e6f2be7ded4fe26">RHSLunarMission()</a>.</p>

</div>
</div>
<a id="ga39a8b9a6f7485b09bb7bc085390ea751" name="ga39a8b9a6f7485b09bb7bc085390ea751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39a8b9a6f7485b09bb7bc085390ea751">&#9670;&#160;</a></span>RHSLunarOrbit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSLunarOrbit </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements only orbit dynamics. The Moon gravity model can have spherical harmonics. Get the default data structure by typing:</p>
<pre class="fragment"> d = RHSLunarOrbit
</pre><p>Set up the state name output by typing:</p>
<pre class="fragment"> RHSLunarOrbit( x );
</pre><h2><a class="anchor" id="autotoc_md5744"></a>
Form</h2>
<pre class="fragment"> d = RHSLunarOrbit            % data structure
 RHSLunarOrbit( x );      % initialize persistent variables
 [xDot, p] = RHSLunarOrbit( x, t, d )
</pre><h2><a class="anchor" id="autotoc_md5745"></a>
Inputs</h2>
<pre class="fragment"> x     (:,1)   [rECI;vECI;m]
 t     (1,1)   Time
 d     (.)     Data structure
</pre><h2><a class="anchor" id="autotoc_md5746"></a>
Outputs</h2>
<pre class="fragment"> xDot  (:,1)   dx/dt
 p     (.)     Data structure with internally computed variables
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gac6518ef388e4dc35d2b8f5d6960a162e">MoonRot()</a>, and <a class="el" href="#ga39a8b9a6f7485b09bb7bc085390ea751">RHSLunarOrbit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga39a8b9a6f7485b09bb7bc085390ea751">RHSLunarOrbit()</a>.</p>

</div>
</div>
<a id="gaa4d0705234461a4c05d27ce050b09a51" name="gaa4d0705234461a4c05d27ce050b09a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4d0705234461a4c05d27ce050b09a51">&#9670;&#160;</a></span>RHSPlanet3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSPlanet3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>ignoredArg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The gravity function returns the gravitational accelerations in the planet fixed frame. It must be of the form</p>
<pre class="fragment"> a = GravFun( r, gFunData )
</pre><p>where a is in the planet fixed frame. d.mu is not used in this case. The planet rotation is around the ECI z axis. The default data structure is for the the moon.</p>
<h2><a class="anchor" id="autotoc_md5682"></a>
Form</h2>
<pre class="fragment"> xDot = RHSPlanet3D( x, ~, d )
</pre><h2><a class="anchor" id="autotoc_md5683"></a>
Inputs</h2>
<pre class="fragment"> x     (7,1)   State [r;v;m], where m is fuel mass
 t     (1,1)   Time (not used)
 d      (.)    Data structure
               .mu       (1,1) Gravitational constant
               .gFun      (@)  Handle to the gravity function
               .gFunData     (.)  Gravity function data structure
               .omega    (1,1) Planet rotation rate
               .uThrust  (3,1) Unit thrust vector
               .thrust   (1,1) Thrust (N)
               .uE       (1,1) Exhaust velocity (m/s)
               .m0       (1,1) Dry mass, total mass is m0 + m
</pre><h2><a class="anchor" id="autotoc_md5684"></a>
Outputs</h2>
<pre class="fragment"> xDot   (7,1)   State derivative [r;v;m]
</pre> 
<p class="reference">References <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51">RHSPlanet3D()</a>, <a class="el" href="group___math_functions.html#ga871412157385a6e7e302a6060aa8c6d5">Skew()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga4c4aa0e750a13388d3a1689fb8a6c42f">LandingConst3D()</a>, <a class="el" href="#gaf2cff28ef8fa4a42e86649ed61a10e6d">PropagateState3D()</a>, <a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51">RHSPlanet3D()</a>, <a class="el" href="group___optical_navigation_functions.html#gac37da7322ee7d15bf2c7ed3835d5e185">RHSPlanet3DONS()</a>, and <a class="el" href="#ga3dce249457516cbbf3811a97973100c6">RHSPlanet3DToAB()</a>.</p>

</div>
</div>
<a id="ga3dce249457516cbbf3811a97973100c6" name="ga3dce249457516cbbf3811a97973100c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3dce249457516cbbf3811a97973100c6">&#9670;&#160;</a></span>RHSPlanet3DToAB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSPlanet3DToAB </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is for the function RHSPlanet3D. If aL is entered it will use an analytical solution for a spherical planet. The mass state equation is not output. b multiplies the acceleration vector.</p>
<p>Type RHSPlanet3DToAB for a demo.</p>
<h2><a class="anchor" id="autotoc_md5685"></a>
Form</h2>
<pre class="fragment"> [a,b,aC] = RHSPlanet3DToAB( x, d, dT )
</pre><h2><a class="anchor" id="autotoc_md5686"></a>
Inputs</h2>
<pre class="fragment"> x   (6,1)  [r;v] (km/km/s)
 d   (.)   Data structure for RHSPlanet3D
 dT  (1,1) Time step
</pre><h2><a class="anchor" id="autotoc_md5687"></a>
Outputs</h2>
<pre class="fragment"> a   (6,6) State transition matrix
 b   (6,3) Input matrix
 aC  (6,6) Continuous
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga0a09c80ac7fd7b4e564deaf97109e3e2">C2DZOH()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#ga3ae579f78299105d41d72c8eeeb78c19">DispWithTitle()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="#gaa4d0705234461a4c05d27ce050b09a51">RHSPlanet3D()</a>, <a class="el" href="#ga3dce249457516cbbf3811a97973100c6">RHSPlanet3DToAB()</a>, <a class="el" href="group___math_functions.html#ga871412157385a6e7e302a6060aa8c6d5">Skew()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga3dce249457516cbbf3811a97973100c6">RHSPlanet3DToAB()</a>.</p>

</div>
</div>
<a id="gae63ae2ced0e4ca12a3f9d6df651935f6" name="gae63ae2ced0e4ca12a3f9d6df651935f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae63ae2ced0e4ca12a3f9d6df651935f6">&#9670;&#160;</a></span>RHSRVPlanetFixed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSRVPlanetFixed </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>You can pass in user defined thrust functions via d.funThrust and gravitational acceleration functions via d.funGrav</p>
<pre class="fragment"> [thrust,uE] = Thrust( massFuel, d )
</pre><p>thrust must be in N and uE in m/s. and custom gravitational acceleration functions for d.gFun; accelGrav is in km/s^2:</p>
<pre class="fragment"> accelGrav   = Gravity( x, d )
</pre><p>If gFun is not a pointer it is assumed to be the gravitational constant.</p>
<p>Type RHSRVPlanetFixed for the default data structure.</p>
<h2><a class="anchor" id="autotoc_md5747"></a>
Form</h2>
<pre class="fragment"> xDot = RHSRVPlanetFixed( x, t, d )
 d    = RHSRVPlanetFixed;  % data structure
</pre><h2><a class="anchor" id="autotoc_md5748"></a>
Inputs</h2>
<pre class="fragment"> x   (7,1) [r;v;massFuel]
 t   (1,1) Time (s)
 d   (.)   Data structure
           .funThrust      @   Thrust function handle
           .dataFunThrust (.)  Thrust function data
           .rVStruct      (.)  Data for orbit RHS function
           .massDry      (1,1) Dry mass (kg)
</pre><h2><a class="anchor" id="autotoc_md5749"></a>
Outputs</h2>
<pre class="fragment"> x   (7,1) d[r;v;massFuel]/dt
</pre><dl class="section see"><dt>See also</dt><dd>: <a class="el" href="#ga36b12299f0550edf94e403a0842b560c" title="Returns thrust and exhaust velocity for a rocket engine.">FThrustLander</a>, <a class="el" href="group___orbit_functions.html#ga32f58627376f493788976555a590f3cb" title="Cartesian orbital equations in a planet fixed (rotating) frame.">RHSOrbitPlanetFixed</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="#ga36b12299f0550edf94e403a0842b560c">FThrustLander()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="_rendezvous_sim_8m.html#a877f1073b93edf945c9063c16509d9cc">RHS()</a>, <a class="el" href="group___orbit_functions.html#ga32f58627376f493788976555a590f3cb">RHSOrbitPlanetFixed()</a>, and <a class="el" href="#gae63ae2ced0e4ca12a3f9d6df651935f6">RHSRVPlanetFixed()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gae63ae2ced0e4ca12a3f9d6df651935f6">RHSRVPlanetFixed()</a>.</p>

</div>
</div>
<a id="gab904415e8a6da76cd46535446609b1b7" name="gab904415e8a6da76cd46535446609b1b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab904415e8a6da76cd46535446609b1b7">&#9670;&#160;</a></span>RHSSGCMG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSSGCMG </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>ignoredArg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> This has a built-in speed controller for the CMG wheel. It can handle
 any number of CMGs but the default is three.
</pre><h2><a class="anchor" id="autotoc_md5565"></a>
Form</h2>
<pre class="fragment"> [xDot,hECI,inr] = RHSSGCMG(x,~,d)
</pre><h2><a class="anchor" id="autotoc_md5566"></a>
Inputs</h2>
<pre class="fragment"> x      (7+2*n)     [q;omega;omegaCMG(2*n,1)]
 t      (1,1)        Time (not used)
 d      (.)          Data structure
                     .omegaS (1,1)         CMG wheel setpoint
                     .inr    (3+2*n,3+2*n) Inertia matrix (for 3 CMGs)  (kg-m^2)
                     .inrCMG (3,3)         Inertia matrix for CMG (2-axis) (kg-m^2)
                     .kC     (1,1)         Rate control gain (Nm-s)
                     .torque (3,1)         External torque (Nm)
                     .tC     (n,1)         CMG gimbal torque  (Nm)
</pre><h2><a class="anchor" id="autotoc_md5567"></a>
Outputs</h2>
<pre class="fragment"> xDot   (7+2*n)       d[q;omega;omegaCMG(2*n,1)]/dt
 hECI   (3,1)         ECI momentum (Nms)
 inr    (3+2*n,3+2*n) Inertia matrix (kg-m^2)
</pre> 
<p class="reference">References <a class="el" href="group___s_c_functions.html#gaa957d28bbc50b95b2af6b9a6241ca96a">CMG()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="gaf8750c2770084b1c93851b8a9c31e8d1" name="gaf8750c2770084b1c93851b8a9c31e8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8750c2770084b1c93851b8a9c31e8d1">&#9670;&#160;</a></span>RHSTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RHSTrajectory </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This model explicitly includes the moon. You must initialize the JPL ephemerides before running this function.</p>
<pre class="fragment"> PlanetPosJPL( 'initialize', planets  );
</pre><p>Planets contains the JPL ephemeris ids from 1 to 11. The force model must be of the form f = ForceModel( r, v, d ) where d can be any data structure. f is the force vector in N in the ECI frame.</p>
<h2><a class="anchor" id="autotoc_md5750"></a>
Form</h2>
<pre class="fragment"> d        = RHSTrajectory;            % Get the default data structure
 RHSTrajectory( x );       % initialize persistent variables
 [xDot, p] = RHSTrajectory( x, t, d ); % Call during simulation
</pre><h2><a class="anchor" id="autotoc_md5751"></a>
Inputs</h2>
<pre class="fragment"> x     (6*n,1) State [r;v] for n bodies
 t     (1,1)   Time since start date
 d     (.)     Date 
               .jD0      (1,1) Julian date at start
               .mu       (1,1) Sun gravitational parameter
               .planets  (1,:) Planet IDs.
               .object   (:)   Data structures for object
                               .mass            (1,1) Mass
                               .forceModel      (.)   Force model structure
                               .gravity        (.)   Gravity model structure
                               .cM             (3,1) Center of mass
</pre><h2><a class="anchor" id="autotoc_md5752"></a>
Outputs</h2>
<pre class="fragment"> xDot  (6*n,:) State derivative d[r;v]/dt
 p     {}      Auxiliary outputs
</pre><dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___interplanetary_functions.html#ga2b5e0ac3a78c312c0b1a492ff4e50d16" title="Get positions for an array of planets using the JPL ephemeris.">PlanetPosJPL</a>, <a class="el" href="#ga2bca4bf1c2e9fc17857355c18594849b" title="Simple thruster force model for orbit simulations.">ForceSimple</a>, <a class="el" href="#gaa36f69ab5fe1ca8cc6a97c97afd33968" title="Calculate the heliocentric gravity for the position and date.">GravityHelio</a>, <a class="el" href="#ga7d06810c7d9835226587fb69958bc854" title="Thruster force model producing zero force.">NoForce</a> </dd></dl>

<p class="reference">References <a class="el" href="group___s_c_functions.html#ga35abf98db7601aa44ce24f1892234b0a">Planets()</a>, <a class="el" href="#gaf8750c2770084b1c93851b8a9c31e8d1">RHSTrajectory()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaf8750c2770084b1c93851b8a9c31e8d1">RHSTrajectory()</a>.</p>

</div>
</div>
<a id="gad798ee92d8af58a8ed60815dcc13a980" name="gad798ee92d8af58a8ed60815dcc13a980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad798ee92d8af58a8ed60815dcc13a980">&#9670;&#160;</a></span>RSHMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function RSHMoon </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>nH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>lambda</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Type RSHMoon for a demo.


 This uses Clementine data. The highest harmonic is 72. 


 If s and c are not entered it will load the lunar surface coefficients
 each time is called. You can load the coefficients yourself using


 [s,c] = LoadLunarTopography( nH );
</pre><h2><a class="anchor" id="autotoc_md5631"></a>
Form</h2>
<pre class="fragment"> [r, lambda, theta] = RSHMoon( nH, lambda, theta, s, c )
</pre><h2><a class="anchor" id="autotoc_md5632"></a>
Inputs</h2>
<pre class="fragment"> nH            (1,1)  Highest harmonic 
 lambda        (j)    Equatorial angle
 theta         (i)    Angle from pole
 s             (:,:)  Normalized sine coefficients
 c             (:,:)  Normalized cosine coefficients
</pre><h2><a class="anchor" id="autotoc_md5633"></a>
Outputs</h2>
<pre class="fragment"> r             (i,j)  Radius
 lambda        (j)    Equatorial angle
 theta         (i)    Angle from pole
</pre><p>Reference: Smith, D. E., Zuber, M. T., Neumann, G. A., "Topography of the
Moon from the Clementine lidar", Journal of Geophysical Research, Vol. 102, No. E1, pp. 1591-1611, January 25, 1997. </p>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___math_functions.html#ga82d2eaffbfc4c2a2bc904b5f013e0d64">DupVect()</a>, <a class="el" href="statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="#ga2c9e614c2930a6035cab887299aaa78d">LoadLunarTopography()</a>, <a class="el" href="group___common_functions.html#ga555e3a1b6fed88677fd07c0e73a719e0">Mesh2()</a>, <a class="el" href="group___math_functions.html#ga1928b8f08fe462d6d1c402a783d33dac">PAL()</a>, <a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980">RSHMoon()</a>, <a class="el" href="group___math_functions.html#ga6ce037b6f6ed4c531ff3988289cf62c4">SCHarm()</a>, <a class="el" href="group___common_functions.html#ga3316d5f8b1fb697a5b67b1a32604752d">Watermark()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaeb6cc80cacdb365169785fab42d7e1f3">LunarVisibility()</a>, <a class="el" href="group___interplanetary_functions.html#ga406178a8940e4e5824aaceb986669f5b">PlanetWithTerrain()</a>, <a class="el" href="group___interplanetary_functions.html#ga867abd2e8c32b909a654d2d587cf5f91">PlanetWithTerrainPatch()</a>, <a class="el" href="#ga042acfe5a9c90a187c42f2f5c75f3369">PlotLunarOrbit()</a>, and <a class="el" href="#gad798ee92d8af58a8ed60815dcc13a980">RSHMoon()</a>.</p>

</div>
</div>
<a id="ga8d0ea4c37b9f6bcc07c8b37d27caa5e9" name="ga8d0ea4c37b9f6bcc07c8b37d27caa5e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d0ea4c37b9f6bcc07c8b37d27caa5e9">&#9670;&#160;</a></span>SecondOrderGuidance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SecondOrderGuidance </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses a 2nd order controller to provide guidance for landing. Demonstrated in a cartesian system with x along vertical. Includes centripetal and gravitational acceleration.</p>
<pre class="fragment"> 'initialize' computes the time to land from the tolerance.
 'update' updates the control accelerations.
</pre><p>You generally want zeta to be 1. Lower omegas will reduce the control accelerations. An omega of 0.01 gives roughly the Apollo LM landing guidance. If it is much lower you can overshoot and then have to return to the landing site.</p>
<p>Type SecondOrderGuidance for a demo. The demo is in cartesian coordinates with gravity and centripetal acceleration along x.</p>
<h2><a class="anchor" id="autotoc_md5688"></a>
Form</h2>
<pre class="fragment"> a = SecondOrderGuidance( action, x, d )
</pre><h2><a class="anchor" id="autotoc_md5689"></a>
Inputs</h2>
<pre class="fragment"> action (1,:) 'initialize' or 'update'
 x      (6,1) State [r;v]
 d      (.)   Data structure
              .x       (6,1) Target [r;v]
              .tol     (1,1) Tolerance for damping
              .zeta    (1,1) Damping ratio
              .omega   (1,1) Undamped natural frequency (rad/s)
              .t       (1,1) Time to damp
              .rP      (1,1) Equatorial radius
              .mu      (1,1) Gravitational constant
</pre><h2><a class="anchor" id="autotoc_md5690"></a>
Outputs</h2>
<pre class="fragment"> a     (3,:)   Control accelerations
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="_rendezvous_sim_8m.html#a877f1073b93edf945c9063c16509d9cc">RHS()</a>, <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089">RK4()</a>, <a class="el" href="#ga8d0ea4c37b9f6bcc07c8b37d27caa5e9">SecondOrderGuidance()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="group___a_c_functions.html#ga14d05fc63c1e8afbd89ca25fcc700933">Trajectory()</a>, <a class="el" href="group___common_functions.html#gac9aa46a0522738d5b0517cbad1801f87">XLabelS()</a>, <a class="el" href="group___common_functions.html#ga44852ccbe0e2aa704e7fa3fa174203dc">YLabelS()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga8d0ea4c37b9f6bcc07c8b37d27caa5e9">SecondOrderGuidance()</a>, and <a class="el" href="#ga9f57c03f1626463d9c4f17bde98e3786">SecondOrderGuidance3D()</a>.</p>

</div>
</div>
<a id="ga9f57c03f1626463d9c4f17bde98e3786" name="ga9f57c03f1626463d9c4f17bde98e3786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f57c03f1626463d9c4f17bde98e3786">&#9670;&#160;</a></span>SecondOrderGuidance3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SecondOrderGuidance3D </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses a 2nd order controller to provide guidance for landing. Demonstrated in a cartesian system.</p>
<pre class="fragment"> 'initialize' computes the time to land from the tolerance.
 'update' updates the control accelerations.
</pre><p>You generally want zeta to be 1. Lower omegas will reduce the control accelerations. An omega of 0.01 gives roughly the Apollo LM landing guidance. If it is much lower you can overshoot and then have to return to the landing site.</p>
<p>Type SecondOrderGuidance3D for a demo of lunar landing. This replicates the demo in SecondOrderGuidance.</p>
<h2><a class="anchor" id="autotoc_md5691"></a>
Form</h2>
<pre class="fragment"> d = SecondOrderGuidance3D
 a = SecondOrderGuidance3D( action, x, d )
</pre><h2><a class="anchor" id="autotoc_md5692"></a>
Inputs</h2>
<pre class="fragment"> action (1,:) 'initialize' or 'update'
 x      (6,1) State [r;v]
 d      (.)   Data structure
              .x       (6,1) Target [r;v]
              .tol     (1,1) Tolerance for damping
              .zeta    (1,1) Damping ratio
              .omega   (1,1) Undamped natural frequency (rad/s)
              .t       (1,1) Time to damp
              .rP      (1,1) Equatorial radius
              .mu      (1,1) Gravitational constant
</pre><h2><a class="anchor" id="autotoc_md5693"></a>
Outputs</h2>
<pre class="fragment"> a     (3,:)   Control accelerations
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="_brayton_with_recuperator_8m.html#ae953db19227464e4bb45ca35b0014aaf">DefaultDataStructure()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___aerospace_utils_functions.html#gab2d7d36649a2d641929131dd110bee6c">DownrangeAndAltFromTarget()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="_rendezvous_sim_8m.html#a877f1073b93edf945c9063c16509d9cc">RHS()</a>, <a class="el" href="group___math_functions.html#ga2bd3d421395eeb70502e6fd0f9959089">RK4()</a>, <a class="el" href="#ga8d0ea4c37b9f6bcc07c8b37d27caa5e9">SecondOrderGuidance()</a>, <a class="el" href="#ga9f57c03f1626463d9c4f17bde98e3786">SecondOrderGuidance3D()</a>, <a class="el" href="group___aerospace_utils_functions.html#ga4dcf375513919be8ca2deab654857666">TargetFromRPVD()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga9f57c03f1626463d9c4f17bde98e3786">SecondOrderGuidance3D()</a>.</p>

</div>
</div>
<a id="ga733b3a80c5ed06d38a1f31f22f6005f2" name="ga733b3a80c5ed06d38a1f31f22f6005f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga733b3a80c5ed06d38a1f31f22f6005f2">&#9670;&#160;</a></span>SEMGravAcc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SEMGravAcc </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEM</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> The position is in the Sun-Earth/Moon frame.


 Type SEMGravAcc for a built-in demo creating gravity contour plots.


 Since version 10.
</pre><h2><a class="anchor" id="autotoc_md5753"></a>
Form</h2>
<pre class="fragment"> [gSun,gEM,gCompare] = SEMGravAcc( rSEM )
</pre><h2><a class="anchor" id="autotoc_md5754"></a>
Inputs</h2>
<pre class="fragment"> rSEM          (2,:)    Position vector in SEM frame
</pre><h2><a class="anchor" id="autotoc_md5755"></a>
Outputs</h2>
<pre class="fragment"> gSun          (:,:)    Gravitational acceleration due to the Sun
 gEM           (:,:)    Gravitational acceleration due to the Earth/Moon
 gCompare      (:,:)    gEM/gSun
</pre> 
<p class="reference">References <a class="el" href="group___s_c_functions.html#ga29e494da3df2442768f67827b5b1e79a">Accel()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___common_functions.html#gaf0e1b0ea8a7f6e57910e4b55b57ea369">NewFig()</a>, <a class="el" href="#ga733b3a80c5ed06d38a1f31f22f6005f2">SEMGravAcc()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga733b3a80c5ed06d38a1f31f22f6005f2">SEMGravAcc()</a>.</p>

</div>
</div>
<a id="ga031c909c9c7015bc2cc8f34504ae3a3e" name="ga031c909c9c7015bc2cc8f34504ae3a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga031c909c9c7015bc2cc8f34504ae3a3e">&#9670;&#160;</a></span>SEMIToSEMR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SEMIToSEMR </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transform position and velocity from inertial heliocentric frame to the Sun-Earth/Moon barycentered rotating frame.</p>
<p>The SEMR coordinate frame has xy in the ecliptic plane.</p>
<pre class="fragment"> +x points at the earth along the Sun-Earth line. 
 +z normal to the ecliptic plane
 +y completes the right-handed system. 
</pre><p>Uses an analytic formula for the ecliptic longitude to define the rotation in the xy plane. Uses a constant value of the Earth rotation rate around the sun to transform the velocity.</p>
<h2><a class="anchor" id="autotoc_md5585"></a>
Form</h2>
<pre class="fragment"> [rSEMR,vSEMR,m] = SEMIToSEMR( jD, rSEMI, vSEMI )
</pre><h2><a class="anchor" id="autotoc_md5586"></a>
Inputs</h2>
<pre class="fragment"> jD            (1,:)       Julian date (days)
 rSEMI         (3,:)       Position vector in SEMI frame          
 vSEMI         (3,:)       Velocity vector in SEMI frame          
</pre><h2><a class="anchor" id="autotoc_md5587"></a>
Outputs</h2>
<pre class="fragment"> rSEMR         (6,:)       Position vector in SEMR frame
 vSEMR         (6,:)       Velocity vector in SEMR frame
 m              {:}        Rotation matrix
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="gacfcbadc0e0c4fe700f2976f84569f426" name="gacfcbadc0e0c4fe700f2976f84569f426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfcbadc0e0c4fe700f2976f84569f426">&#9670;&#160;</a></span>SEMRToSEMI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SEMRToSEMI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transform pos. and vel. from Sun-Earth/Moon barycentered rotating frame to inertial heliocentric frame.</p>
<p>The SEMR coordinate frame has xy in the ecliptic plane.</p>
<pre class="fragment"> +x points at the earth along the Sun-Earth line. 
 +z normal to the ecliptic plane
 +y completes the right-handed system. 
</pre><p>Uses an analytic formula for the ecliptic longitude to define the rotation in the xy plane. Uses a constant value of the Earth rotation rate around the sun to transform the velocity.</p>
<h2><a class="anchor" id="autotoc_md5588"></a>
Form</h2>
<pre class="fragment"> [rSEMI,vSEMI,m] = SEMRToSEMI( jD, rSEMR, vSEMR )
</pre><h2><a class="anchor" id="autotoc_md5589"></a>
Inputs</h2>
<pre class="fragment"> jD            (1,:)       Julian date (days)
 rSEMR         (6,:)       Position vector in SEMR frame
 vSEMR         (6,:)       Velocity vector in SEMR frame
</pre><h2><a class="anchor" id="autotoc_md5590"></a>
Outputs</h2>
<pre class="fragment"> rSEMI         (3,:)       Position vector in SEMI frame          
 vSEMI         (3,:)       Velocity vector in SEMI frame          
 m              {:}        Rotation matrix
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___interplanetary_functions.html#gabb7f5bddc93155d5672e6c9e5cc0614e">EarthOrbToHelioOrb()</a>.</p>

</div>
</div>
<a id="ga742f8490ba7d500fddf0d233760ef0b0" name="ga742f8490ba7d500fddf0d233760ef0b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga742f8490ba7d500fddf0d233760ef0b0">&#9670;&#160;</a></span>SEMToSEMND()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SEMToSEMND </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale position and velocity in SEM system (rotating or inertial) by distance and velocity units to make non-dimensional</p>
<h2><a class="anchor" id="autotoc_md5591"></a>
Form</h2>
<pre class="fragment"> [rND,vND] = SEMToSEMND( r, v )
</pre><h2><a class="anchor" id="autotoc_md5592"></a>
Inputs</h2>
<pre class="fragment"> r            (3,:)       Position vector in EMBR frame          
 v            (3,:)       Velocity vector in EMBR frame    
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="#ga742f8490ba7d500fddf0d233760ef0b0">SEMToSEMND()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga742f8490ba7d500fddf0d233760ef0b0">SEMToSEMND()</a>.</p>

</div>
</div>
<a id="gadfe008a82ba0c6d5802f10e20102d430" name="gadfe008a82ba0c6d5802f10e20102d430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadfe008a82ba0c6d5802f10e20102d430">&#9670;&#160;</a></span>Simulate2DLanding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function Simulate2DLanding </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>beta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5694"></a>
Form</h2>
<pre class="fragment"> Simulate2DLanding( t, beta, d, name )
</pre><h2><a class="anchor" id="autotoc_md5695"></a>
Inputs</h2>
<pre class="fragment"> t       (1,:)   Time vector
 beta    (1,:)   Thrust angle (rad)
 d        (.)    Data structure describing spacecraft model
                 .x (4,1) Initial state (ex. [0;h;-u;0])
                 .g (1,1) Gravitational acceleration
                 .a (1,1) Thrust acceleration (m/s^2)
                 .n (1,1) Number of steps
 name     ''     Name for the plots
</pre><h2><a class="anchor" id="autotoc_md5696"></a>
Outputs</h2>
<pre class="fragment"> None
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="#gac8469326bbc343cb7a968d9d06edd7c4" title="Propagate the 2D state for the landing problem.">PropagateState</a> </dd></dl>

<p class="reference">References <a class="el" href="group___common_functions.html#ga661eef54b3bae179f5c6f7c5e6ff1ede">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="quat_8m.html#a3df87fc1b2fd8838b19b3a1721e05ab0">get()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="#gac8469326bbc343cb7a968d9d06edd7c4">PropagateState()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="group___a_c_functions.html#ga14d05fc63c1e8afbd89ca25fcc700933">Trajectory()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="gadacb57322cb75958462fdbfb151560c2" name="gadacb57322cb75958462fdbfb151560c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadacb57322cb75958462fdbfb151560c2">&#9670;&#160;</a></span>Simulate3DLanding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function Simulate3DLanding </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>dT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md5697"></a>
Form</h2>
<pre class="fragment"> Simulate3DLanding( dT, d, name )
</pre><h2><a class="anchor" id="autotoc_md5698"></a>
Inputs</h2>
<pre class="fragment"> dT       (1,:)  Time step vector
 d        (.)    Data structure describing spacecraft model
                 .s0     (7,1) State [x;y;z;vX;vY;vZ;m]
                 .beta   (1,:) Thrust angle in rv plane
                 .alpha  (1,:) Thrust angle out of plane
                 .thrust (1,:) Thrust (N)
                 .accel   ''   'constant' or 'free'
 name    (1,:)   Name for the plots
</pre><h2><a class="anchor" id="autotoc_md5699"></a>
Outputs</h2>
<pre class="fragment"> None
</pre><dl class="section see"><dt>See also</dt><dd>: <a class="el" href="#gaf2cff28ef8fa4a42e86649ed61a10e6d" title="Propagate the 3D state for the landing problem.">PropagateState3D</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679" title="Easily build a versatile 2D plot page consisting of any number of plots.">Plot2D</a>, <a class="el" href="group___interplanetary_functions.html#ga867abd2e8c32b909a654d2d587cf5f91" title="Generate vertices and faces for a planet patch with terrain.">PlanetWithTerrainPatch</a> </dd></dl>

<p class="reference">References <a class="el" href="group___common_functions.html#ga661eef54b3bae179f5c6f7c5e6ff1ede">Altitude()</a>, <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___interplanetary_functions.html#ga867abd2e8c32b909a654d2d587cf5f91">PlanetWithTerrainPatch()</a>, <a class="el" href="group___common_functions.html#ga5c1f468d16ddd7a9d4049311428be679">Plot2D()</a>, <a class="el" href="#gaf2cff28ef8fa4a42e86649ed61a10e6d">PropagateState3D()</a>, <a class="el" href="group___common_functions.html#ga5a8e26df8ab9db2da1c5c2e834d64c7d">TimeLabl()</a>, <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>, and <a class="el" href="acstate_8m.html#a868c2ad16f7ccf1ccb3eb728b357b42f">zeros()</a>.</p>

</div>
</div>
<a id="ga1a6cf185a7f6af550d5d5c537a4d6b26" name="ga1a6cf185a7f6af550d5d5c537a4d6b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a6cf185a7f6af550d5d5c537a4d6b26">&#9670;&#160;</a></span>SunEarthMoonSystemConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SunEarthMoonSystemConstants </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Useful for non-dimensionalizing in the Sun-Earth-Moon system.


 Since version 11.
</pre><h2><a class="anchor" id="autotoc_md5617"></a>
Form</h2>
<pre class="fragment"> d = SunEarthMoonSystemConstants
</pre><h2><a class="anchor" id="autotoc_md5618"></a>
Inputs</h2>
<pre class="fragment"> none
</pre><h2><a class="anchor" id="autotoc_md5619"></a>
Outputs</h2>
<pre class="fragment"> d  (1,1)   Data structure output with system constants and fields:
           .system   (1,:) Name of system - 'SEM'
           .muMoon   (1,1) Gravitational parameter of the moon
           .muEarth  (1,1) Gravitational parameter of the Earth
           .muSun    (1,1) Gravitational parameter of the Sun
           .mu       (1,1) Mu of the SEM system
           .au       (1,1) Astronomical unit (km)
           .L        (1,1) Sun/Earth distance = .au
           .T        (1,1) Earth year
           .Re       (1,1) Earth radius
           .Rm       (1,1) Moon radius
           .Rs       (1,1) Sun radius
           .xL1      (1,1) Earth/Sun L1 distance
           .xL2      (1,1) Earth/Sun L2 distance
           .v        (1,1) Earth velocity (km/s)
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="quat_8m.html#a3df87fc1b2fd8838b19b3a1721e05ab0">get()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, and <a class="el" href="#ga1a6cf185a7f6af550d5d5c537a4d6b26">SunEarthMoonSystemConstants()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___interplanetary_functions.html#ga7bca7dfbca19bae9bbd6569173c3bcc5">EarthEscape()</a>, <a class="el" href="group___interplanetary_functions.html#gabb7f5bddc93155d5672e6c9e5cc0614e">EarthOrbToHelioOrb()</a>, <a class="el" href="group___interplanetary_functions.html#ga6a0711433021adb2b8a09f2ef0c99fdb">L2OrbitPlots()</a>, <a class="el" href="group___interplanetary_functions.html#ga338ecdcad1c7842affb32cbdb50632db">L2OrbitSim()</a>, and <a class="el" href="#ga1a6cf185a7f6af550d5d5c537a4d6b26">SunEarthMoonSystemConstants()</a>.</p>

</div>
</div>
<a id="gaffcdf2b5b46e7905e7e7541fe1511b10" name="gaffcdf2b5b46e7905e7e7541fe1511b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffcdf2b5b46e7905e7e7541fe1511b10">&#9670;&#160;</a></span>TransformECIToEMBR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function TransformECIToEMBR </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rECI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vECI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>and vel. to Earth Moon barycenter rotating frame.</p>
<p>The EMBR coordinate frame is +x pointing at the earth along the earth-moon line. +z normal to the earth moon plane and +y completing the set. Uses MoonV1. Computes the plane by looking at the moon vector at jD(k) and then 1 day later.</p>
<pre class="fragment"> Type


 TransformECIToEMBR


 for a demo


 Since version 10.
</pre><h2><a class="anchor" id="autotoc_md5593"></a>
Form</h2>
<pre class="fragment"> [rEMBR,vEMBR,m] = TransformECIToEMBR( jD, rECI, vECI )
</pre><h2><a class="anchor" id="autotoc_md5594"></a>
Inputs</h2>
<pre class="fragment"> rECI          (6,:)       Position vector in ECI frame
 vECI          (6,:)       Velocity vector in ECI frame
 jD            (1,:)       Julian date (days)
</pre><h2><a class="anchor" id="autotoc_md5595"></a>
Outputs</h2>
<pre class="fragment"> rEMBR         (6,:)       Position vector in EMBR frame          
 vEMBR         (6,:)       Velocity vector in EMBR frame          
 m              {:}        Rotation matrix
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="#gaffcdf2b5b46e7905e7e7541fe1511b10">TransformECIToEMBR()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaffcdf2b5b46e7905e7e7541fe1511b10">TransformECIToEMBR()</a>.</p>

</div>
</div>
<a id="ga1e5c49a2bc9d27b6d2a8861a5a6c4240" name="ga1e5c49a2bc9d27b6d2a8861a5a6c4240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e5c49a2bc9d27b6d2a8861a5a6c4240">&#9670;&#160;</a></span>TransformECIToSEMR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function TransformECIToSEMR </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rECI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vECI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>and vel. to Sun-Earth-Moon rotating (SEMR) frame.</p>
<p>The SEMR coordinate frame is +x pointing at the earth along the sun-earth line. +z normal to the sun-earth plane and +y completing the set. Uses CEcl2Eq.</p>
<pre class="fragment"> Type


 TransformECIToSEMR


 for a demo


 Since version 10.
</pre><h2><a class="anchor" id="autotoc_md5596"></a>
Form</h2>
<pre class="fragment"> [rSEMR,vSEMR,m] = TransformECIToSEMR( jD, rECI, vECI )
</pre><h2><a class="anchor" id="autotoc_md5597"></a>
Inputs</h2>
<pre class="fragment"> rECI          (6,:)       Position vector in ECI frame
 vECI          (6,:)       Velocity vector in ECI frame
 jD            (1,:)       Julian date (days)
</pre><h2><a class="anchor" id="autotoc_md5598"></a>
Outputs</h2>
<pre class="fragment"> rSEMR         (6,:)       Position vector in SEMR frame          
 vSEMR         (6,:)       Velocity vector in SEMR frame          
 m              {:}        Rotation matrix
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#gadc5152f6924b544745500ac50067a1f5">CEcl2Eq()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="#ga1e5c49a2bc9d27b6d2a8861a5a6c4240">TransformECIToSEMR()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group___interplanetary_functions.html#gabb7f5bddc93155d5672e6c9e5cc0614e">EarthOrbToHelioOrb()</a>, <a class="el" href="#ga1e5c49a2bc9d27b6d2a8861a5a6c4240">TransformECIToSEMR()</a>, and <a class="el" href="#gaadd950b943f9adc45a1b4dafd9ce9305">TransformSEMRToHelio()</a>.</p>

</div>
</div>
<a id="gaf1141043cb4cf97b202de1a71c4ae038" name="gaf1141043cb4cf97b202de1a71c4ae038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1141043cb4cf97b202de1a71c4ae038">&#9670;&#160;</a></span>TransformEMBRToECI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function TransformEMBRToECI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rEMBR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vEMBR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>and vel. from Earth Moon barycenter rotating frame to ECI</p>
<p>The EMBR coordinate frame is +x pointing at the earth along the earth-moon line. +z normal to the earth moon plane and +y completing the set. Uses MoonV1. Computes the plane by looking at the moon vector at jD(k) and then 1 day later.</p>
<pre class="fragment"> Type


 TransformEMBRToECI


 for a demo


 Since version 10.
</pre><h2><a class="anchor" id="autotoc_md5599"></a>
Form</h2>
<pre class="fragment"> [xECI,vECI,m] = TransformEMBRToECI( xEMBR, jD )
</pre><h2><a class="anchor" id="autotoc_md5600"></a>
Inputs</h2>
<pre class="fragment"> jD            (1,:)       Julian date (days)
 rEMBR         (3,:)       Position vector in EMBR frame          
 vEMBR         (3,:)       Velocity vector in EMBR frame          
</pre><h2><a class="anchor" id="autotoc_md5601"></a>
Outputs</h2>
<pre class="fragment"> rECI          (6,:)       Position vector in ECI frame
 vECI          (6,:)       Velocity vector in ECI frame
 m              {:}        Rotation matrix
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#ga075cba13650dfc5c7ff029731c698367">MoonV1()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="#gaf1141043cb4cf97b202de1a71c4ae038">TransformEMBRToECI()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gacf72e87767c2dd367b47d08c6bf07227">PlotEMTraj()</a>, and <a class="el" href="#gaf1141043cb4cf97b202de1a71c4ae038">TransformEMBRToECI()</a>.</p>

</div>
</div>
<a id="gacb4dde29d0315fbe8bd3b8ea8a2f7b59" name="gacb4dde29d0315fbe8bd3b8ea8a2f7b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb4dde29d0315fbe8bd3b8ea8a2f7b59">&#9670;&#160;</a></span>TransformSEMRToECI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function TransformSEMRToECI </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SEMR coordinate frame is +x pointing at the earth along the sun-earth line. +z normal to the sun-earth plane and +y completing the set. Uses CEcl2Eq.</p>
<h2><a class="anchor" id="autotoc_md5602"></a>
Form</h2>
<pre class="fragment"> [rECI,vECI,m] = TransformSEMRToECI( jD, rSEMR, vSEMR )
</pre><h2><a class="anchor" id="autotoc_md5603"></a>
Inputs</h2>
<pre class="fragment"> jD            (1,:)    Julian date (days)
 rSEMR         (3,:)    Position vector in SEMR frame          
 vSEMR         (3,:)    Velocity vector in SEMR frame 
</pre><h2><a class="anchor" id="autotoc_md5604"></a>
Outputs</h2>
<pre class="fragment"> rECI          (3,:)    Position vector in ECI frame
 vECI          (3,:)    Velocity vector in ECI frame
 m              {:}     Rotation matrix
</pre> 
<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___s_c_functions.html#gadc5152f6924b544745500ac50067a1f5">CEcl2Eq()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaadd950b943f9adc45a1b4dafd9ce9305">TransformSEMRToHelio()</a>.</p>

</div>
</div>
<a id="gaadd950b943f9adc45a1b4dafd9ce9305" name="gaadd950b943f9adc45a1b4dafd9ce9305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadd950b943f9adc45a1b4dafd9ce9305">&#9670;&#160;</a></span>TransformSEMRToHelio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function TransformSEMRToHelio </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SEMR coordinate frame is +x pointing at the earth along the sun-earth line. +z normal to the sun-earth plane and +y completing the set.</p>
<p>Type TransformSEMRToHelio for a demo</p>
<h2><a class="anchor" id="autotoc_md5605"></a>
Form</h2>
<pre class="fragment"> [rHelio,vHelio,mRot] = TransformSEMRToHelio( jD, rSEMR, vSEMR )
</pre><h2><a class="anchor" id="autotoc_md5606"></a>
Inputs</h2>
<pre class="fragment"> jD            (1,:)       Julian date (days)
 rSEMR         (3,:)       Position vector in SEMR frame          
 vSEMR         (3,:)       Velocity vector in SEMR frame          
</pre><h2><a class="anchor" id="autotoc_md5607"></a>
Outputs</h2>
<pre class="fragment"> rHelio          (3,:)       Position vector in heliocentric frame
 vHelio          (3,:)       Velocity vector in heliocentric frame
 mRot            (3,3)       Rotation matrix
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="#gacb4dde29d0315fbe8bd3b8ea8a2f7b59" title="Transform Sun-Earth-Moon rotating (SEMR) state to ECI frame.">TransformSEMRToECI</a> <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c" title="Append two state space system.">and</a> <a class="el" href="group___s_c_functions.html#gab4519353d1a220a13b96559e78e27f9b" title="Moderate precision sun model.">SunV2</a> </dd></dl>

<p class="reference">References <a class="el" href="statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="el" href="group___common_functions.html#ga3a2fd4c8c08b56a14ca41af691af1905">Constant()</a>, <a class="el" href="group___common_functions.html#gacc8101597897c2b80df3b7f4835b1fcf">Date2JD()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="acstate_8m.html#a93c860fbc0b00237698debdccbc93363">length()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>, <a class="el" href="group___s_c_functions.html#gab4519353d1a220a13b96559e78e27f9b">SunV2()</a>, <a class="el" href="#ga1e5c49a2bc9d27b6d2a8861a5a6c4240">TransformECIToSEMR()</a>, <a class="el" href="#gacb4dde29d0315fbe8bd3b8ea8a2f7b59">TransformSEMRToECI()</a>, <a class="el" href="#gaadd950b943f9adc45a1b4dafd9ce9305">TransformSEMRToHelio()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#gaadd950b943f9adc45a1b4dafd9ce9305">TransformSEMRToHelio()</a>.</p>

</div>
</div>
<a id="ga201f07a0e91c2e609b7a8cc3b4f2b6d0" name="ga201f07a0e91c2e609b7a8cc3b4f2b6d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga201f07a0e91c2e609b7a8cc3b4f2b6d0">&#9670;&#160;</a></span>UMinGG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function UMinGG </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>inr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses fminsearch. Type UMinGG for a demo with NASA Gateway.</p>
<h2><a class="anchor" id="autotoc_md5568"></a>
Form</h2>
<pre class="fragment"> u = UMinGG(inr)
</pre><h2><a class="anchor" id="autotoc_md5569"></a>
Inputs</h2>
<pre class="fragment"> inr           (3,3)  Inertia matrix
</pre><h2><a class="anchor" id="autotoc_md5570"></a>
Outputs</h2>
<pre class="fragment"> u             (3,1)  Unit vector
</pre> 
<p class="reference">References <a class="el" href="group___math_functions.html#ga8bc5e1aa9bb61f1fd77943b68486a981">Cross()</a>, <a class="el" href="_hyper_r_d_e_8m.html#a66e4ea51a839f2a719c09cddf294bfd3">Demo()</a>, <a class="el" href="group___math_functions.html#ga4b519b77f25a768b7bcde40daeb0acb5">Mag()</a>, <a class="el" href="group___common_functions.html#ga22c57b022614c86db4a4afec7aa5c968">RaDec2U()</a>, <a class="el" href="_rendezvous_sim_8m.html#a877f1073b93edf945c9063c16509d9cc">RHS()</a>, <a class="el" href="#ga201f07a0e91c2e609b7a8cc3b4f2b6d0">UMinGG()</a>, <a class="el" href="group___math_functions.html#gad24742367c4da86ab9b4e50fc2a70948">Unit()</a>, and <a class="el" href="quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ga201f07a0e91c2e609b7a8cc3b4f2b6d0">UMinGG()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Feb 7 2025 18:10:50 for PSS MATLAB Toolboxes by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
