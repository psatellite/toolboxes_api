<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSS MATLAB Toolboxes: OpticalNavigation/Demos/Core/ONSSailSimulation.m File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PSSLogo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PSS MATLAB Toolboxes<span id="projectnumber">&#160;2025.1</span>
   </div>
   <div id="projectbrief">MATLAB toolboxes for aerospace analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_o_n_s_sail_simulation_8m.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ONSSailSimulation.m File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simulate ONS for a solar sail near the L1 Lagrange point <a href="Demos/OpticalNavigation/ONSSailSimulation.html">Published Demo</a>  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a67bd9b400f7eaaed69b6607b4a5981a3" id="r_a67bd9b400f7eaaed69b6607b4a5981a3"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67bd9b400f7eaaed69b6607b4a5981a3">TransSEMRToEq</a> (in jD, in rSEMR, in vSEMR)</td></tr>
<tr class="memdesc:a67bd9b400f7eaaed69b6607b4a5981a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants.  <br /></td></tr>
<tr class="separator:a67bd9b400f7eaaed69b6607b4a5981a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transform from SEMR to equatorial, sun-centered frame.</p>
<p>This only simulates the orbital motion.</p>
<dl class="section see"><dt>See also</dt><dd>: <a class="el" href="group___interplanetary_functions.html#ga2b5e0ac3a78c312c0b1a492ff4e50d16" title="Get positions for an array of planets using the JPL ephemeris.">PlanetPosJPL</a>, <a class="el" href="group___optical_navigation_functions.html#gaf11402436df4713085e6181a1deeb76c" title="Right hand side for a heliocentric mission.">RHSHelioMission</a>, <a class="el" href="group___s_c_functions.html#gae5305f84ef7d19d901018070a439e379" title="Returns the planet centroid and the local stars locations.">NavigationCamera</a>, </dd>
<dd>
<a class="el" href="group___optical_navigation_functions.html#ga60442d4f4a5b07fdad4a274956b5ab28" title="Implements optical navigation using two targets.">OpticalNavigation</a>, <a class="el" href="group___optical_navigation_functions.html#ga57f21cf01d4f0979c7d50f87103d68e5" title="Right hand side for a heliocentric mission, for UKF.">RHSUKFHelioMission</a>, <a class="el" href="group___s_c_functions.html#ga36cc953a0fabd0ee8090cc853479239a" title="Views the output from NavigationCamera.">StarCameraViewer</a>, <a class="el" href="group___spacecraft_estimation_functions.html#ga9bd3ccf7802018da562d7c809051a696" title="GPS range and range rate model for use with UKF.">MeasGPS</a></dd>
<dd>
<a class="el" href="group___spacecraft_estimation_functions.html#ga607b46c0d1fecafb8aaf5cdf17bd2ddd" title="Range and range rate to ground station.">MeasRangeGroundStation</a>, <a class="el" href="group___optical_navigation_functions.html#ga1d72c7fe92fdeaf375552e747a964aeb" title="Measure star angle and chord.">MeasStarAngleAndChord</a>, <a class="el" href="group___optical_navigation_functions.html#ga57f21cf01d4f0979c7d50f87103d68e5" title="Right hand side for a heliocentric mission, for UKF.">RHSUKFHelioMission</a></dd>
<dd>
<a class="el" href="group___sail_functions.html#gadc32a0e697be2fbacd2310493e3d7ebe" title="Combined thermal and optical solar pressure force model.">SolarPressureForce</a>, <a class="el" href="group___s_c_functions.html#ga2933577c5c0df0cd4ac982f1a57e3818" title="Solar flux from the sun as a function of distance in AU.">SolarFlx</a>, <a class="el" href="group___interplanetary_functions.html#ga89706992edc5cbaca9cf4fa537193244" title="Plot planets and a trajectory in the heliocentric frame.">HelioPlot</a></dd></dl>
<pre class="fragment"> Copyright (c) 2021 Princeton Satellite Systems, Inc.
 All rights reserved.
</pre><p>Simulate ONS for a solar sail near the L1 Lagrange point <a href="Demos/OpticalNavigation/ONSSailSimulation.html">Published Demo</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a67bd9b400f7eaaed69b6607b4a5981a3" name="a67bd9b400f7eaaed69b6607b4a5981a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bd9b400f7eaaed69b6607b4a5981a3">&#9670;&#160;</a></span>TransSEMRToEq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function TransSEMRToEq </td>
          <td>(</td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>jD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>rSEMR</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in</td>          <td class="paramname"><span class="paramname"><em>vSEMR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the defaults Script control acceleration model solar sail parameters Add Earth for CRTBP? Initialize the ephemeris yDot = RHSCRTBP( t, y, mu ) Initialize the state This halo state does not take into account the sail's force TransSEMRToHelio this was using the unit vector of the sun backwards!! deltas from Earth position may be in ecliptic Set the Julian date for the dynamical model Simulation steps Setup the camera data structure Add noise Set up the displays The time vector Setup Optical Navigation Initialize ONS Set up the parameters in ONS Plotting arrays Run the simulation ONS simulation Determine if the spacecraft has hit the ground Get data for plotting Get the location and velocity of Earth Stop on landing The camera boresight points at the target xCam is in the ECI frame Needed to point the camera Get the measurements ONS Display the cameras Propagate the state x = RK4(@RHSHelioMission,x,dT,t(k),dRHS); Plotting Shorten the vectors if it hits the ground Make earth and sun referenced positions Sun/Mars plot Time histories </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_61ff521ec6e579c70834ab20b09d8895.html">OpticalNavigation</a></li><li class="navelem"><a class="el" href="dir_86e43fb3e31e9403477dc2da2a227500.html">Demos</a></li><li class="navelem"><a class="el" href="dir_9c6c1ac3b833283bc8996fa8e25a429f.html">Core</a></li><li class="navelem"><a class="el" href="_o_n_s_sail_simulation_8m.html">ONSSailSimulation.m</a></li>
    <li class="footer">Generated on Fri Feb 7 2025 18:10:48 for PSS MATLAB Toolboxes by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
